---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling
title: 一時的なエラー処理 (Azure を使用した実際のクラウドアプリの構築) |Microsoft Docs
author: MikeWasson
description: Azure 電子ブックを使用した実際のクラウドアプリの構築は、Scott Guthrie によって開発されたプレゼンテーションに基づいています。 13のパターンとベストプラクティスについて説明します。
ms.author: riande
ms.date: 11/03/2015
ms.assetid: 7ead83bc-c08c-4b26-8617-00e07292e35c
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling
msc.type: authoredcontent
ms.openlocfilehash: e798cb83cfb97db63fef6dc38c8f62804461d01b
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78500422"
---
# <a name="transient-fault-handling-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="8a9da-104">一時的なエラー処理 (Azure を使用した実際のクラウドアプリの構築)</span><span class="sxs-lookup"><span data-stu-id="8a9da-104">Transient Fault Handling (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="8a9da-105">[Mike Wasson](https://github.com/MikeWasson)、 [Rick Anderson](https://twitter.com/RickAndMSFT)、 [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="8a9da-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="8a9da-106">[修正 It プロジェクトをダウンロード](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4)するか[、電子書籍をダウンロード](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)します</span><span class="sxs-lookup"><span data-stu-id="8a9da-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="8a9da-107">Azure 電子ブック**を使用した実際のクラウドアプリの構築**は、Scott Guthrie によって開発されたプレゼンテーションに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8a9da-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="8a9da-108">ここでは、クラウド用の web アプリの開発を成功させるのに役立つ13のパターンとプラクティスについて説明します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="8a9da-109">電子書籍の詳細については、[最初の章](introduction.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a9da-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="8a9da-110">実際のクラウドアプリを設計する場合は、一時的なサービス中断を処理する方法について検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-110">When you're designing a real world cloud app, one of the things you have to think about is how to handle temporary service interruptions.</span></span> <span data-ttu-id="8a9da-111">クラウドアプリでは、ネットワーク接続と外部サービスに依存しているため、この問題は一意です。</span><span class="sxs-lookup"><span data-stu-id="8a9da-111">This issue is uniquely important in cloud apps because you're so dependent on network connections and external services.</span></span> <span data-ttu-id="8a9da-112">通常は自己復旧を行うことはほとんどありません。また、それらをインテリジェントに処理する準備ができていない場合は、顧客のエクスペリエンスが悪くなります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-112">You can frequently get little glitches that are typically self-healing, and if you aren't prepared to handle them intelligently, they'll result in a bad experience for your customers.</span></span>

## <a name="causes-of-transient-failures"></a><span data-ttu-id="8a9da-113">一時的なエラーの原因</span><span class="sxs-lookup"><span data-stu-id="8a9da-113">Causes of transient failures</span></span>

<span data-ttu-id="8a9da-114">クラウド環境では、失敗したデータベース接続と削除されたデータベース接続が定期的に発生していることがわかります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-114">In the cloud environment you'll find that failed and dropped database connections happen periodically.</span></span> <span data-ttu-id="8a9da-115">これは、web サーバーとデータベースサーバーが直接物理的に接続しているオンプレミス環境と比較して、ロードバランサーが多くなるためです。</span><span class="sxs-lookup"><span data-stu-id="8a9da-115">That's partly because you're going through more load balancers compared to the on-premises environment where your web server and database server have a direct physical connection.</span></span> <span data-ttu-id="8a9da-116">また、マルチテナントサービスに依存している場合は、サービスの呼び出しが遅いか、タイムアウトになることがあります。これは、サービスを使用する他のユーザーが頻繁にヒットするためです。</span><span class="sxs-lookup"><span data-stu-id="8a9da-116">Also, sometimes when you're dependent on a multi-tenant service you'll see calls to the service get slower or time out because someone else who uses the service is hitting it heavily.</span></span> <span data-ttu-id="8a9da-117">その他のケースとしては、サービスに頻繁にアクセスしているユーザーが、サービスによって意図的にスロットルされ、サービスの他のテナントに悪影響を与えないようにすることが考えられます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-117">In other cases you might be the user who is hitting the service too frequently, and the service deliberately throttles you – denies connections – in order to prevent you from adversely affecting other tenants of the service.</span></span>

## <a name="use-smart-retryback-off-logic-to-mitigate-the-effect-of-transient-failures"></a><span data-ttu-id="8a9da-118">スマートな再試行/バックオフロジックを使用して、一時的な障害の影響を軽減する</span><span class="sxs-lookup"><span data-stu-id="8a9da-118">Use smart retry/back-off logic to mitigate the effect of transient failures</span></span>

<span data-ttu-id="8a9da-119">例外をスローして、使用できない、またはエラーページを顧客に表示するのではなく、通常は一時的なエラーを認識し、エラーの原因となった操作を自動的に再試行します。これは、それが成功するまでの時間です。</span><span class="sxs-lookup"><span data-stu-id="8a9da-119">Instead of throwing an exception and displaying a not available or error page to your customer, you can recognize errors that are typically transient, and automatically retry the operation that resulted in the error, in hopes that before long you'll be successful.</span></span> <span data-ttu-id="8a9da-120">ほとんどの場合、2回目の試行では操作が成功し、問題が発生したことをユーザーが認識していない状態でエラーから復旧します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-120">Most of the time the operation will succeed on the second try, and you'll recover from the error without the customer ever having been aware that there was a problem.</span></span>

<span data-ttu-id="8a9da-121">スマートな再試行ロジックを実装するには、いくつかの方法があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-121">There are several ways you can implement smart retry logic.</span></span>

- <span data-ttu-id="8a9da-122">Microsoft Patterns &amp; プラクティスグループには、[一時的なエラー処理アプリケーションブロック](https://msdn.microsoft.com/library/dn440719(v=pandp.60).aspx)があります。これは、(Entity Framework ではなく) SQL Database アクセスに ADO.NET を使用している場合にすべての処理を実行します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-122">The Microsoft Patterns &amp; Practices group has a [Transient Fault Handling Application Block](https://msdn.microsoft.com/library/dn440719(v=pandp.60).aspx) that does everything for you if you're using ADO.NET for SQL Database access (not through Entity Framework).</span></span> <span data-ttu-id="8a9da-123">再試行のポリシーを設定するのは、クエリまたはコマンドを再試行する回数と、試行間の待機時間を設定し、*使用している*ブロックで SQL コードをラップするだけです。</span><span class="sxs-lookup"><span data-stu-id="8a9da-123">You just set a policy for retries – how many times to retry a query or command and how long to wait between tries – and wrap your SQL code in a *using* block.</span></span>

    [!code-csharp[Main](transient-fault-handling/samples/sample1.cs)]

    <span data-ttu-id="8a9da-124">また、TFH は[Azure In-Role Cache](https://msdn.microsoft.com/library/windowsazure/dn386103.aspx)と[Service Bus](https://azure.microsoft.com/services/service-bus/)もサポートしています。</span><span class="sxs-lookup"><span data-stu-id="8a9da-124">TFH also supports [Azure In-Role Cache](https://msdn.microsoft.com/library/windowsazure/dn386103.aspx) and [Service Bus](https://azure.microsoft.com/services/service-bus/).</span></span>
- <span data-ttu-id="8a9da-125">Entity Framework を使用する場合、通常は SQL 接続を直接操作しないので、このパターンおよびプラクティスパッケージを使用することはできませんが、Entity Framework 6 では、この種の再試行ロジックをフレームワークに直接作成します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-125">When you use the Entity Framework you typically aren't working directly with SQL connections, so you can't use this Patterns and Practices package, but Entity Framework 6 builds this kind of retry logic right into the framework.</span></span> <span data-ttu-id="8a9da-126">再試行戦略を指定するのと同様の方法で、EF はデータベースにアクセスするたびにその方法を使用します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-126">In a similar way you specify the retry strategy, and then EF uses that strategy whenever it accesses the database.</span></span>

    <span data-ttu-id="8a9da-127">この機能を Fix It アプリで使用するには、 *Dbconfiguration*から派生したクラスを追加し、再試行ロジックを有効にするだけです。</span><span class="sxs-lookup"><span data-stu-id="8a9da-127">To use this feature in the Fix It app, all we have to do is add a class that derives from *DbConfiguration* and turn on the retry logic.</span></span>

    [!code-csharp[Main](transient-fault-handling/samples/sample2.cs)]

    <span data-ttu-id="8a9da-128">通常は一時的なエラーとして示されている例外 SQL Database については、表示されるコードは EF に対して最大3回の操作を再試行するように指示します。再試行の間隔は指数バックオフで、最大遅延時間は5秒です。</span><span class="sxs-lookup"><span data-stu-id="8a9da-128">For SQL Database exceptions that the framework identifies as typically transient errors, the code shown instructs EF to retry the operation up to 3 times, with an exponential back-off delay between retries, and a maximum delay of 5 seconds.</span></span> <span data-ttu-id="8a9da-129">指数バックオフとは、再試行が再試行されるたびに、もう一度試す前に長時間待機することを意味します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-129">Exponential back-off means that after each failed retry it will wait for a longer period of time before trying again.</span></span> <span data-ttu-id="8a9da-130">行の試行が3回失敗した場合、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-130">If three tries in a row fail, it will throw an exception.</span></span> <span data-ttu-id="8a9da-131">サーキットブレーカーに関する次のセクションでは、指数バックオフと再試行回数が制限される理由について説明します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-131">The following section about circuit breakers explains why you want exponential back-off and a limited number of retries.</span></span>

    <span data-ttu-id="8a9da-132">Azure Storage サービスを使用しているときに、Blob 用の修正プログラムと同様の問題が発生する可能性があります。また、.NET ストレージクライアント API は同じ種類のロジックを既に実装しています。</span><span class="sxs-lookup"><span data-stu-id="8a9da-132">You can have similar issues when you're using the Azure Storage service, as the Fix It app does for Blobs, and the .NET storage client API already implements the same kind of logic.</span></span> <span data-ttu-id="8a9da-133">再試行ポリシーを指定するだけでかまいません。既定の設定に満足できる場合は、それを行う必要もありません。</span><span class="sxs-lookup"><span data-stu-id="8a9da-133">You just specify the retry policy, or you don't even have to do that if you're happy with the default settings.</span></span>

<a id="circuitbreakers"></a>
## <a name="circuit-breakers"></a><span data-ttu-id="8a9da-134">サーキットブレーカー</span><span class="sxs-lookup"><span data-stu-id="8a9da-134">Circuit breakers</span></span>

<span data-ttu-id="8a9da-135">何回も再試行しない場合は、次のようないくつかの理由があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-135">There are several reasons why you don't want to retry too many times over too long a period:</span></span>

- <span data-ttu-id="8a9da-136">失敗した要求を永続的に再試行するユーザーが多すぎると、他のユーザーのエクスペリエンスが低下する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-136">Too many users persistently retrying failed requests might degrade other users' experience.</span></span> <span data-ttu-id="8a9da-137">数百万のユーザーがすべての再試行要求を繰り返し行っている場合、IIS ディスパッチキューを使用して、アプリが要求を処理できないようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-137">If millions of people are all making repeated retry requests you could be tying up IIS dispatch queues and preventing your app from servicing requests that it otherwise could handle successfully.</span></span>
- <span data-ttu-id="8a9da-138">サービスの障害によってすべてのユーザーが再試行している場合は、サービスが復旧を開始するときに大量の要求をキューに入れている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-138">If everyone is retrying due to a service failure, there could be so many requests queued up that the service gets flooded when it starts to recover.</span></span>
- <span data-ttu-id="8a9da-139">調整によってエラーが発生した場合、サービスが調整に使用する時間帯があると、続行の再試行によってそのウィンドウが移動され、調整が続行される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-139">If the error is due to throttling and there's a window of time the service uses for throttling, continued retries could move that window out and cause the throttling to continue.</span></span>
- <span data-ttu-id="8a9da-140">Web ページが表示されるのを待機しているユーザーがいる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-140">You might have a user waiting for a web page to render.</span></span> <span data-ttu-id="8a9da-141">ユーザーの待機時間が長すぎると、後でもう一度試してみるのが困難になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-141">Making people wait too long might be more annoying that relatively quickly advising them to try again later.</span></span>

<span data-ttu-id="8a9da-142">指数バックオフは、サービスがアプリケーションから取得できる再試行の頻度を制限することで、これらの問題の一部に対処します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-142">Exponential back-off addresses some of these issue by limiting the frequency of retries a service can get from your application.</span></span> <span data-ttu-id="8a9da-143">ただし、*サーキットブレーカー*も必要です。これは、特定の再試行しきい値でアプリの再試行を停止し、次のような何らかのアクションを実行することを意味します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-143">But you also need to have *circuit breakers*: this means that at a certain retry threshold your app stops retrying and takes some other action, such as one of the following:</span></span>

- <span data-ttu-id="8a9da-144">カスタムフォールバック。</span><span class="sxs-lookup"><span data-stu-id="8a9da-144">Custom fallback.</span></span> <span data-ttu-id="8a9da-145">Reuters から株価を得られない場合は、ブルームバーグから入手できるかもしれません。または、データベースからデータを取得できない場合は、キャッシュからデータを取得できます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-145">If you can't get a stock price from Reuters, maybe you can get it from Bloomberg; or if you can't get data from the database, maybe you can get it from cache.</span></span>
- <span data-ttu-id="8a9da-146">サイレントモードで失敗します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-146">Fail silent.</span></span> <span data-ttu-id="8a9da-147">サービスから必要なものが、アプリのすべてまたは何でもない場合は、データを取得できない場合は null を返します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-147">If what you need from a service isn't all-or-nothing for your app, just return null when you can't get the data.</span></span> <span data-ttu-id="8a9da-148">修正プログラムのタスクを表示していて Blob service が応答していない場合は、イメージを使用せずにタスクの詳細を表示できます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-148">If you're displaying a Fix It task and the Blob service isn't responding, you could display the task details without the image.</span></span>
- <span data-ttu-id="8a9da-149">フェールファースト。</span><span class="sxs-lookup"><span data-stu-id="8a9da-149">Fail fast.</span></span> <span data-ttu-id="8a9da-150">他のユーザーがサービスを中断したり、調整期間を延長したりする可能性がある再試行要求でサービスがいっぱいになるのを防ぐために、ユーザーにエラーを送信します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-150">Error out the user to avoid flooding the service with retry requests which could cause service disruption for other users or extend a throttling window.</span></span> <span data-ttu-id="8a9da-151">"後でもう一度お試しください" というメッセージが表示できます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-151">You can display a friendly "try again later" message.</span></span>

<span data-ttu-id="8a9da-152">1つのサイズに適合する再試行ポリシーはありません。</span><span class="sxs-lookup"><span data-stu-id="8a9da-152">There is no one-size-fits-all retry policy.</span></span> <span data-ttu-id="8a9da-153">ユーザーが応答を待機している同期 web アプリの場合よりも、再試行回数を増やして非同期のバックグラウンドワーカープロセスで待機することができます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-153">You can retry more times and wait longer in an asynchronous background worker process than you would in a synchronous web app where a user is waiting for a response.</span></span> <span data-ttu-id="8a9da-154">リレーショナルデータベースサービスの再試行の間隔は、キャッシュサービスの場合よりも長くなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8a9da-154">You can wait longer between retries for a relational database service than you would for a cache service.</span></span> <span data-ttu-id="8a9da-155">ここでは、数値がどのように変化するかを理解できるように、推奨される再試行ポリシーの例をいくつか紹介します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-155">Here are some sample recommended retry policies to give you an idea of how the numbers might vary.</span></span> <span data-ttu-id="8a9da-156">("Fast First" は、最初の再試行の前に遅延がないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-156">("Fast First" means no delay before the first retry.</span></span>

![再試行ポリシーの例](transient-fault-handling/_static/image1.png)

<span data-ttu-id="8a9da-158">SQL Database 再試行ポリシーのガイダンスについては、「SQL Database の一時的なエラー[と接続エラーのトラブルシューティング](https://azure.microsoft.com/documentation/articles/sql-database-connectivity-issues/)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a9da-158">For SQL Database retry policy guidance, see [Troubleshoot transient faults and connection errors to SQL Database](https://azure.microsoft.com/documentation/articles/sql-database-connectivity-issues/).</span></span>

## <a name="summary"></a><span data-ttu-id="8a9da-159">まとめ</span><span class="sxs-lookup"><span data-stu-id="8a9da-159">Summary</span></span>

<span data-ttu-id="8a9da-160">再試行/バックオフ戦略を使用すると、一時的なエラーをお客様のほとんどの時間に非表示にすることができます。また、Microsoft は、ADO.NET、Entity Framework、Azure Storage サービスのいずれを使用しているかにかかわらず、作業を最小限に抑えるために使用できるフレームワークを提供します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-160">A retry/back-off strategy can help make temporary errors invisible to the customer most of the time, and Microsoft provides frameworks that you can use to minimize your work implementing a strategy whether you're using ADO.NET, Entity Framework, or the Azure Storage service.</span></span>

<span data-ttu-id="8a9da-161">次の[章](distributed-caching.md)では、分散キャッシュを使用してパフォーマンスと信頼性を向上させる方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-161">In the [next chapter](distributed-caching.md), we'll look at how to improve performance and reliability by using distributed caching.</span></span>

## <a name="resources"></a><span data-ttu-id="8a9da-162">リソース</span><span class="sxs-lookup"><span data-stu-id="8a9da-162">Resources</span></span>

<span data-ttu-id="8a9da-163">詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a9da-163">For more information, see the following resources:</span></span>

<span data-ttu-id="8a9da-164">ドキュメント</span><span class="sxs-lookup"><span data-stu-id="8a9da-164">Documentation</span></span>

- <span data-ttu-id="8a9da-165">[Azure Cloud Services で大規模なサービスを設計するためのベストプラクティス](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-165">[Best Practices for the Design of Large-Scale Services on Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="8a9da-166">マーク Simm と Michael Thomassy によるホワイトペーパー。</span><span class="sxs-lookup"><span data-stu-id="8a9da-166">White paper by Mark Simms and Michael Thomassy.</span></span> <span data-ttu-id="8a9da-167">フェイルセーフシリーズに似ていますが、さらに詳細な方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-167">Similar to the Failsafe series but goes into more how-to details.</span></span> <span data-ttu-id="8a9da-168">「テレメトリと診断」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a9da-168">See the Telemetry and Diagnostics section.</span></span>
- <span data-ttu-id="8a9da-169">[フェイルセーフ: 回復力のあるクラウドアーキテクチャに関するガイダンス](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-169">[Failsafe: Guidance for Resilient Cloud Architectures](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span></span> <span data-ttu-id="8a9da-170">ホワイトペーパー (Marc Mercuri、Ulrich Homann、Andrew Townhill)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-170">White paper by Marc Mercuri, Ulrich Homann, and Andrew Townhill.</span></span> <span data-ttu-id="8a9da-171">フェールセーフビデオシリーズの Web ページバージョン。</span><span class="sxs-lookup"><span data-stu-id="8a9da-171">Web page version of the FailSafe video series.</span></span>
- <span data-ttu-id="8a9da-172">[Microsoft のパターンとプラクティス-Azure のガイダンス](https://msdn.microsoft.com/library/dn568099.aspx)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-172">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="8a9da-173">「再試行パターン、スケジューラエージェントのスーパーバイザーパターン」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a9da-173">See Retry pattern, Scheduler Agent Supervisor pattern.</span></span>
- <span data-ttu-id="8a9da-174">[Azure SQL Database のフォールトトレランス](https://blogs.msdn.com/b/windowsazure/archive/2012/07/30/fault-tolerance-in-windows-azure-sql-database.aspx)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-174">[Fault-tolerance in Azure SQL Database](https://blogs.msdn.com/b/windowsazure/archive/2012/07/30/fault-tolerance-in-windows-azure-sql-database.aspx).</span></span> <span data-ttu-id="8a9da-175">Tony Petrossian によるブログ投稿。</span><span class="sxs-lookup"><span data-stu-id="8a9da-175">Blog post by Tony Petrossian.</span></span>
- <span data-ttu-id="8a9da-176">[Entity Framework 接続の回復性/再試行ロジック](https://msdn.microsoft.com/data/dn456835)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-176">[Entity Framework - Connection Resiliency / Retry Logic](https://msdn.microsoft.com/data/dn456835).</span></span> <span data-ttu-id="8a9da-177">Entity Framework 6 の一時的なエラー処理機能を使用およびカスタマイズする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-177">How to use and customize the transient fault handling feature of Entity Framework 6.</span></span>
- <span data-ttu-id="8a9da-178">[ASP.NET MVC アプリケーションでの Entity Framework を使用した接続の回復性とコマンドのインターセプト](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-178">[Connection Resiliency and Command Interception with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md).</span></span> <span data-ttu-id="8a9da-179">9部構成のチュートリアルシリーズの第4部では、SQL Database の EF 6 の接続復元機能を設定する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-179">Fourth in a nine-part tutorial series, shows how to set up the EF 6 connection resilience feature for SQL Database.</span></span>

<span data-ttu-id="8a9da-180">ビデオ</span><span class="sxs-lookup"><span data-stu-id="8a9da-180">Videos</span></span>

- <span data-ttu-id="8a9da-181">[フェイルセーフ: スケーラブルで回復力のある Cloud Services を構築](https://channel9.msdn.com/Series/FailSafe)します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-181">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="8a9da-182">Ulrich Homann、Marc Mercuri、Mark Simm による9パートシリーズ。</span><span class="sxs-lookup"><span data-stu-id="8a9da-182">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="8a9da-183">高度な概念とアーキテクチャの原則を、非常にアクセスしやすく興味深い方法で紹介します。実際の顧客との Microsoft カスタマーアドバイザリチーム (CAT) エクスペリエンスによってストーリーが描画されます。</span><span class="sxs-lookup"><span data-stu-id="8a9da-183">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="8a9da-184">40:55 で始まるエピソード3のサーキットブレーカーについて説明します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-184">See the discussion of circuit breakers in episode 3 starting at 40:55.</span></span>
- <span data-ttu-id="8a9da-185">[大規模な構築: Azure のお客様から学んだ教訓-パート II](https://channel9.msdn.com/Events/Build/2012/3-030)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-185">[Building Big: Lessons learned from Azure customers - Part II](https://channel9.msdn.com/Events/Build/2012/3-030).</span></span> <span data-ttu-id="8a9da-186">Simm をマークすると、エラーの設計、一時的なエラー処理、すべてのインストルメント化について話します。</span><span class="sxs-lookup"><span data-stu-id="8a9da-186">Mark Simms talks about designing for failure, transient fault handling, and instrumenting everything.</span></span>

<span data-ttu-id="8a9da-187">コード サンプル</span><span class="sxs-lookup"><span data-stu-id="8a9da-187">Code sample</span></span>

- <span data-ttu-id="8a9da-188">[Azure のクラウドサービスの基礎](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649)。</span><span class="sxs-lookup"><span data-stu-id="8a9da-188">[Cloud Service Fundamentals in Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649).</span></span> <span data-ttu-id="8a9da-189">[エンタープライズライブラリの一時的なエラー処理ブロック](http://nuget.org/packages/EnterpriseLibrary.TransientFaultHandling/)(tfh) を使用する方法を示す Microsoft Azure カスタマーアドバイザリチームによって作成されたサンプルアプリケーション。</span><span class="sxs-lookup"><span data-stu-id="8a9da-189">Sample application created by the Microsoft Azure Customer Advisory Team that demonstrates how to use the [Enterprise Library Transient Fault Handling Block](http://nuget.org/packages/EnterpriseLibrary.TransientFaultHandling/) (TFH).</span></span> <span data-ttu-id="8a9da-190">詳細については、「[Cloud Service Fundamentals Data Access Layer – Transient Fault Handling (クラウド サービスの基本データ アクセス層 – 一時的エラー処理)](https://social.technet.microsoft.com/wiki/contents/articles/18665.cloud-service-fundamentals-data-access-layer-transient-fault-handling.aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a9da-190">For more information, see [Cloud Service Fundamentals Data Access Layer – Transient Fault Handling](https://social.technet.microsoft.com/wiki/contents/articles/18665.cloud-service-fundamentals-data-access-layer-transient-fault-handling.aspx).</span></span> <span data-ttu-id="8a9da-191">ADO.NET を直接使用して (Entity Framework を使用せずに) データベースにアクセスする場合は、TFH を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="8a9da-191">TFH is recommended for database access using ADO.NET directly (without using Entity Framework).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8a9da-192">[前へ](monitoring-and-telemetry.md)
> [次へ](distributed-caching.md)</span><span class="sxs-lookup"><span data-stu-id="8a9da-192">[Previous](monitoring-and-telemetry.md)
[Next](distributed-caching.md)</span></span>
