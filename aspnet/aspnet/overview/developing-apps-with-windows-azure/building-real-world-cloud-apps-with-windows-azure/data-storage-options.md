---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options
title: データストレージのオプション (Azure を使用した実際のクラウドアプリの構築) |Microsoft Docs
author: MikeWasson
description: Azure 電子ブックを使用した実際のクラウドアプリの構築は、Scott Guthrie によって開発されたプレゼンテーションに基づいています。 13のパターンとベストプラクティスについて説明します。
ms.author: riande
ms.date: 06/12/2014
ms.assetid: e51fcecb-cb33-4f9e-8428-6d2b3d0fe1bf
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options
msc.type: authoredcontent
ms.openlocfilehash: 9357ed5aef39bed501cdac9ac26d46c884d4fae0
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78500830"
---
# <a name="data-storage-options-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="774f6-104">データストレージのオプション (Azure を使用した実際のクラウドアプリの構築)</span><span class="sxs-lookup"><span data-stu-id="774f6-104">Data Storage Options (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="774f6-105">[Mike Wasson](https://github.com/MikeWasson)、 [Rick Anderson](https://twitter.com/RickAndMSFT)、 [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="774f6-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="774f6-106">[修正 It プロジェクトをダウンロード](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4)するか[、電子書籍をダウンロード](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)します</span><span class="sxs-lookup"><span data-stu-id="774f6-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="774f6-107">Azure 電子ブック**を使用した実際のクラウドアプリの構築**は、Scott Guthrie によって開発されたプレゼンテーションに基づいています。</span><span class="sxs-lookup"><span data-stu-id="774f6-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="774f6-108">ここでは、クラウド用の web アプリの開発を成功させるのに役立つ13のパターンとプラクティスについて説明します。</span><span class="sxs-lookup"><span data-stu-id="774f6-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="774f6-109">電子書籍の詳細については、[最初の章](introduction.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="774f6-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="774f6-110">ほとんどのユーザーはリレーショナルデータベースに使用され、クラウドアプリの設計時に他のデータストレージオプションが見落とされる傾向があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-110">Most people are used to relational databases, and they tend to overlook other data storage options when they're designing a cloud app.</span></span> <span data-ttu-id="774f6-111">[NoSQL](http://en.wikipedia.org/wiki/NoSQL) (非リレーショナル) データベースはリレーショナルデータベースよりも効率的にタスクを処理できるので、結果は最適なパフォーマンス、高コスト、またはさらに悪化する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-111">The result can be suboptimal performance, high expenses, or worse, because [NoSQL](http://en.wikipedia.org/wiki/NoSQL) (non-relational) databases can handle some tasks more efficiently than relational databases.</span></span> <span data-ttu-id="774f6-112">重要なデータストレージの問題の解決に役立つ情報をお客様からお寄せいただいた場合、多くの場合、NoSQL オプションのいずれかが適切に機能したリレーショナルデータベースがあることが原因です。</span><span class="sxs-lookup"><span data-stu-id="774f6-112">When customers ask us for help resolving a critical data storage problem, it's often because they have a relational database where one of the NoSQL options would have worked better.</span></span> <span data-ttu-id="774f6-113">このような状況では、運用環境にアプリを展開する前に NoSQL ソリューションを実装している場合、顧客はより適切になります。</span><span class="sxs-lookup"><span data-stu-id="774f6-113">In those situations the customer would have been better off if they had implemented the NoSQL solution before deploying the app to production.</span></span>

<span data-ttu-id="774f6-114">一方、NoSQL データベースでは、すべての問題を十分に処理できるということも間違いではありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-114">On the other hand, it would also be a mistake to assume that a NoSQL database can do everything well or well enough.</span></span> <span data-ttu-id="774f6-115">すべてのデータストレージタスクに最適な1つのデータ管理を選択することはできません。さまざまなデータ管理ソリューションは、さまざまなタスクに合わせて最適化されています。</span><span class="sxs-lookup"><span data-stu-id="774f6-115">There is no single best data management choice for all data storage tasks; different data management solutions are optimized for different tasks.</span></span> <span data-ttu-id="774f6-116">ほとんどの実際のクラウドアプリにはさまざまなデータストレージ要件があり、多くの場合、複数のデータストレージソリューションの組み合わせによって最適に提供されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-116">Most real-world cloud apps have a variety of data storage requirements and are often served best by a combination of multiple data storage solutions.</span></span>

<span data-ttu-id="774f6-117">この章の目的は、クラウドアプリで使用できるデータストレージオプションについて詳しく説明することと、シナリオに適したオプションを選択する方法についての基本的なガイダンスを提供することです。</span><span class="sxs-lookup"><span data-stu-id="774f6-117">The purpose of this chapter is to give you a broader sense of the data storage options available to a cloud app, and some basic guidance on how to choose the ones that fit your scenario.</span></span> <span data-ttu-id="774f6-118">アプリケーションを開発する前に、使用可能なオプションを認識し、長所と短所について検討することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="774f6-118">It's best to be aware of the options available to you and think about their strengths and weaknesses before you develop an application.</span></span> <span data-ttu-id="774f6-119">運用アプリでデータストレージオプションを変更することは非常に困難な場合があります。たとえば、プレーンフライト中に jet エンジンを変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-119">Changing data storage options in a production app can be extremely difficult, like having to change a jet engine while the plane is in flight.</span></span>

## <a name="data-storage-options-on-azure"></a><span data-ttu-id="774f6-120">Azure のデータストレージオプション</span><span class="sxs-lookup"><span data-stu-id="774f6-120">Data storage options on Azure</span></span>

<span data-ttu-id="774f6-121">クラウドによって、さまざまなリレーショナルデータストアや NoSQL データストアを比較的簡単に使用できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-121">The cloud makes it relatively easy to use a variety of relational and NoSQL data stores.</span></span> <span data-ttu-id="774f6-122">ここでは、Azure で使用できるデータストレージプラットフォームをいくつか紹介します。</span><span class="sxs-lookup"><span data-stu-id="774f6-122">Here are some of the data storage platforms that you can use in Azure.</span></span>

![](data-storage-options/_static/image1.png)

<span data-ttu-id="774f6-123">次の表は、4種類の NoSQL データベースを示しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-123">The table shows four types of NoSQL databases:</span></span>

- <span data-ttu-id="774f6-124">[キー/値データベース](https://msdn.microsoft.com/library/dn313285.aspx#sec7)は、キー値ごとに1つのシリアル化されたオブジェクトを格納します。</span><span class="sxs-lookup"><span data-stu-id="774f6-124">[Key/value databases](https://msdn.microsoft.com/library/dn313285.aspx#sec7) store a single serialized object for each key value.</span></span> <span data-ttu-id="774f6-125">指定されたキー値に対して 1 つの項目を取得し、項目の他のプロパティに基づいてクエリを実行する必要がない、大量のデータを格納する場合に適しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-125">They're good for storing large volumes of data where you want to get one item for a given key value and you don't have to query based on other properties of the item.</span></span>

    <span data-ttu-id="774f6-126">[Azure Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-blobs/)は、クラウド内のファイルストレージのように機能するキー/値データベースであり、フォルダー名とファイル名に対応するキー値を持ちます。</span><span class="sxs-lookup"><span data-stu-id="774f6-126">[Azure Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-blobs/) is a key/value database that functions like file storage in the cloud, with key values that correspond to folder and file names.</span></span> <span data-ttu-id="774f6-127">ファイルは、ファイルの内容の値を検索するのではなく、フォルダーとファイル名で取得します。</span><span class="sxs-lookup"><span data-stu-id="774f6-127">You retrieve a file by its folder and file name, not by searching for values in the file contents.</span></span>

    <span data-ttu-id="774f6-128">[Azure Table storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-tables/)は、キー/値データベースでもあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-128">[Azure Table storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-tables/) is also a key/value database.</span></span> <span data-ttu-id="774f6-129">各値は、(パーティションキーと行キーによって識別される)*エンティティ*と呼ばれ、複数の*プロパティ*を含みます (列に似ていますが、テーブル内のすべてのエンティティが同じ列を共有する必要はありません)。</span><span class="sxs-lookup"><span data-stu-id="774f6-129">Each value is called an *entity* (similar to a row, identified by a partition key and row key) and contains multiple *properties* (similar to columns, but not all entities in a table have to share the same columns).</span></span> <span data-ttu-id="774f6-130">キー以外の列に対するクエリは非常に非効率的であり、回避する必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-130">Querying on columns other than the key is extremely inefficient and should be avoided.</span></span> <span data-ttu-id="774f6-131">たとえば、1つのユーザーに関する情報を格納する1つのパーティションを使用して、ユーザープロファイルデータを格納することができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-131">For example, you can store user profile data, with one partition storing information about a single user.</span></span> <span data-ttu-id="774f6-132">ユーザー名、パスワードハッシュ、生年月日などのデータを、1つのエンティティの個別のプロパティ、または同じパーティション内の別のエンティティに格納することができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-132">You could store data such as user name, password hash, birth date, and so forth, in separate properties of one entity or in separate entities in the same partition.</span></span> <span data-ttu-id="774f6-133">ただし、特定の期間の生年月日を持つすべてのユーザーを照会することはできません。また、プロファイルテーブルと別のテーブルとの間で結合クエリを実行することもできません。</span><span class="sxs-lookup"><span data-stu-id="774f6-133">But you wouldn't want to query for all users with a given range of birth dates, and you can't execute a join query between your profile table and another table.</span></span> <span data-ttu-id="774f6-134">テーブルストレージは、リレーショナルデータベースよりもスケーラビリティが高く、コストが低くなりますが、複雑なクエリや結合は使用できません。</span><span class="sxs-lookup"><span data-stu-id="774f6-134">Table storage is more scalable and less expensive than a relational database, but it doesn't enable complex queries or joins.</span></span>
- <span data-ttu-id="774f6-135">[Documentdatabases](https://msdn.microsoft.com/library/dn313285.aspx#sec8)は、値が*ドキュメント*であるキー/値データベースです。</span><span class="sxs-lookup"><span data-stu-id="774f6-135">[Documentdatabases](https://msdn.microsoft.com/library/dn313285.aspx#sec8) are key/value databases in which the values are *documents*.</span></span> <span data-ttu-id="774f6-136">ここでの "Document" は、Word または Excel のドキュメントの意味では使用されませんが、名前付きフィールドと値のコレクションを意味します。これらはいずれも子ドキュメントである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-136">"Document" here isn't used in the sense of a Word or Excel document but means a collection of named fields and values, any of which could be a child document.</span></span> <span data-ttu-id="774f6-137">たとえば、注文履歴テーブルでは、注文書ドキュメントに order number、order date、および customer の各フィールドが含まれている可能性があります。また、customer フィールドには、[名前] フィールドと [住所] フィールドがあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-137">For example, in an order history table an order document might have order number, order date, and customer fields; and the customer field might have name and address fields.</span></span> <span data-ttu-id="774f6-138">データベースは、XML、YAML、JSON、BSON などの形式でフィールドデータをエンコードします。または、プレーンテキストを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-138">The database encodes field data in a format such as XML, YAML, JSON, or BSON; or it can use plain text.</span></span> <span data-ttu-id="774f6-139">ドキュメントデータベースをキー/値データベースとは別に設定する機能の1つとして、非キーフィールドに対してクエリを実行し、セカンダリインデックスを定義してクエリの効率を高めることができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-139">One feature that sets document databases apart from key/value databases is the ability to query on non-key fields and define secondary indexes to make querying more efficient.</span></span> <span data-ttu-id="774f6-140">この機能により、ドキュメントデータベースは、ドキュメントキーの値よりも複雑な条件に基づいてデータを取得する必要があるアプリケーションに適しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-140">This ability makes a document database more suitable for applications that need to retrieve data based on criteria more complex than the value of the document key.</span></span> <span data-ttu-id="774f6-141">たとえば、販売注文履歴ドキュメントデータベースでは、製品 ID、顧客 ID、顧客名などのさまざまなフィールドに対してクエリを実行できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-141">For example, in a sales order history document database you could query on various fields such as product ID, customer ID, customer name, and so forth.</span></span> <span data-ttu-id="774f6-142">[MongoDB](http://www.mongodb.org/)は、一般的なドキュメントデータベースです。</span><span class="sxs-lookup"><span data-stu-id="774f6-142">[MongoDB](http://www.mongodb.org/) is a popular document database.</span></span>
- <span data-ttu-id="774f6-143">[列ファミリデータベース](https://msdn.microsoft.com/library/dn313285.aspx#sec9)は、列ファミリと呼ばれる関連列のコレクションにデータストレージを構造化するためのキー/値データストアです。</span><span class="sxs-lookup"><span data-stu-id="774f6-143">[Column-family databases](https://msdn.microsoft.com/library/dn313285.aspx#sec9) are key/value data stores that enable you to structure data storage into collections of related columns called column families.</span></span> <span data-ttu-id="774f6-144">たとえば、国勢調査データベースには、個人の名前 (最初、中央、最後)、個人の住所のグループ、および個人のプロファイル情報 (DOB、性別など) の1つのグループが含まれているとします。</span><span class="sxs-lookup"><span data-stu-id="774f6-144">For example, a census database might have one group of columns for a person's name (first, middle, last), one group for the person's address, and one group for the person's profile information (DOB, gender, etc.).</span></span> <span data-ttu-id="774f6-145">その後、データベースは各列ファミリを個別のパーティションに格納し、同じキーに関連付けられている1人のデータをすべて保持できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-145">The database can then store each column family in a separate partition while keeping all of the data for one person related to the same key.</span></span> <span data-ttu-id="774f6-146">その後、すべてのプロファイル情報を読み取ることができます。すべての名前とアドレス情報を読み取る必要はありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-146">You can then read all profile information without having to read through all of the name and address information as well.</span></span> <span data-ttu-id="774f6-147">[Cassandra](http://cassandra.apache.org/)は広く普及している列ファミリデータベースです。</span><span class="sxs-lookup"><span data-stu-id="774f6-147">[Cassandra](http://cassandra.apache.org/) is a popular column-family database.</span></span>
- <span data-ttu-id="774f6-148">[グラフデータベース](https://msdn.microsoft.com/library/dn313285.aspx#sec10)は、情報をオブジェクトとリレーションシップのコレクションとして格納します。</span><span class="sxs-lookup"><span data-stu-id="774f6-148">[Graph databases](https://msdn.microsoft.com/library/dn313285.aspx#sec10) store information as a collection of objects and relationships.</span></span> <span data-ttu-id="774f6-149">グラフデータベースの目的は、アプリケーションがオブジェクトのネットワークを通過するクエリと、オブジェクト間のリレーションシップを効率的に実行できるようにすることです。</span><span class="sxs-lookup"><span data-stu-id="774f6-149">The purpose of a graph database is to enable an application to efficiently perform queries that traverse the network of objects and the relationships between them.</span></span> <span data-ttu-id="774f6-150">たとえば、人事データベースではオブジェクトは従業員の可能性があります。また、"佐藤さんのために直接的または間接的に働いているすべての従業員を検索する" などのクエリを簡単にすることもできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-150">For example, the objects might be employees in a human resources database, and you might want to facilitate queries such as "find all employees who directly or indirectly work for Scott."</span></span> <span data-ttu-id="774f6-151">[Neo4j](http://www.neo4j.org/)は一般的なグラフデータベースです。</span><span class="sxs-lookup"><span data-stu-id="774f6-151">[Neo4j](http://www.neo4j.org/) is a popular graph database.</span></span>

<span data-ttu-id="774f6-152">リレーショナルデータベースと比較すると、NoSQL オプションを使用すると、構造化されていないデータのストレージと分析について、はるかに高いスケーラビリティとコスト効果が得ます。</span><span class="sxs-lookup"><span data-stu-id="774f6-152">Compared to relational databases, the NoSQL options offer far greater scalability and cost-effectiveness for storage and analysis of unstructured data.</span></span> <span data-ttu-id="774f6-153">トレードオフとは、リレーショナルデータベースの豊富な queryability と堅牢なデータ整合性機能を提供しないことです。</span><span class="sxs-lookup"><span data-stu-id="774f6-153">The tradeoff is that they don't provide the rich queryability and robust data integrity capabilities of relational databases.</span></span> <span data-ttu-id="774f6-154">NoSQL は、クエリの結合を必要としない大量のボリュームを含む IIS ログデータに対して適切に機能します。</span><span class="sxs-lookup"><span data-stu-id="774f6-154">NoSQL would work well for IIS log data, which involves high volume with no need for join queries.</span></span> <span data-ttu-id="774f6-155">NoSQL は、データの絶対整合性を必要とし、他のアカウント関連データとの多くの関係を伴う銀行取引には適していません。</span><span class="sxs-lookup"><span data-stu-id="774f6-155">NoSQL would not work so well for banking transactions, which requires absolute data integrity and involves many relationships to other account-related data.</span></span>

<span data-ttu-id="774f6-156">また、NoSQL データベースのスケーラビリティとリレーショナルデータベースの queryability およびトランザクション整合性を組み合わせる[Newsql](http://en.wikipedia.org/wiki/NewSQL)という名前の新しいカテゴリもあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-156">There is also a newer category of database platform called [NewSQL](http://en.wikipedia.org/wiki/NewSQL) that combines the scalability of a NoSQL database with the queryability and transactional integrity of a relational database.</span></span> <span data-ttu-id="774f6-157">NewSQL データベースは、分散ストレージおよびクエリ処理向けに設計されており、多くの場合、"OldSQL" データベースに実装するのは困難です。</span><span class="sxs-lookup"><span data-stu-id="774f6-157">NewSQL databases are designed for distributed storage and query processing, which is often hard to implement in "OldSQL" databases.</span></span> <span data-ttu-id="774f6-158">[NuoDB](http://www.nuodb.com/)は、Azure で使用できる newsql データベースの例です。</span><span class="sxs-lookup"><span data-stu-id="774f6-158">[NuoDB](http://www.nuodb.com/) is an example of a NewSQL database that can be used on Azure.</span></span>

<a id="hadoop"></a>
## <a name="hadoop-and-mapreduce"></a><span data-ttu-id="774f6-159">Hadoop と MapReduce</span><span class="sxs-lookup"><span data-stu-id="774f6-159">Hadoop and MapReduce</span></span>

<span data-ttu-id="774f6-160">NoSQL データベースに格納できる大量のデータは、適切なタイミングで効率的に分析するのが困難な場合があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-160">The high volumes of data that you can store in NoSQL databases may be difficult to analyze efficiently in a timely manner.</span></span> <span data-ttu-id="774f6-161">これを行うには、 [MapReduce](http://en.wikipedia.org/wiki/MapReduce)機能を実装する[Hadoop](http://hadoop.apache.org/)などのフレームワークを使用します。</span><span class="sxs-lookup"><span data-stu-id="774f6-161">To do that you can use a framework like [Hadoop](http://hadoop.apache.org/) which implements [MapReduce](http://en.wikipedia.org/wiki/MapReduce) functionality.</span></span> <span data-ttu-id="774f6-162">MapReduce プロセスは、基本的に次のような処理を行います。</span><span class="sxs-lookup"><span data-stu-id="774f6-162">Essentially what a MapReduce process does is the following:</span></span>

- <span data-ttu-id="774f6-163">データストアから選択することで、処理する必要があるデータのサイズを制限します。実際に分析する必要があるデータのみを選択します。</span><span class="sxs-lookup"><span data-stu-id="774f6-163">Limit the size of the data that needs to be processed by selecting out of the data store only the data you actually need to analyze.</span></span> <span data-ttu-id="774f6-164">たとえば、ユーザープロファイルデータストアの誕生日だけを選択する場合は、ユーザーの基本を誕生年別に把握しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-164">For example, you want to know the makeup of your user base by birth year, so you select only birth years out of your user profile data store.</span></span>
- <span data-ttu-id="774f6-165">データを部分的に分割し、処理のために別のコンピューターに送信します。</span><span class="sxs-lookup"><span data-stu-id="774f6-165">Break down the data into parts and send them to different computers for processing.</span></span> <span data-ttu-id="774f6-166">コンピューター A は、1950-1959 日、コンピューター B が1960-1969 を使用している人数を計算します。このグループのコンピューターは、 *Hadoop クラスター*と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="774f6-166">Computer A calculates the number of people with 1950-1959 dates, computer B does 1960-1969, etc. This group of computers is called a *Hadoop cluster*.</span></span>
- <span data-ttu-id="774f6-167">パーツの処理が完了した後、各パーツの結果をまとめて配置します。</span><span class="sxs-lookup"><span data-stu-id="774f6-167">Put the results of each part back together after the processing on the parts is done.</span></span> <span data-ttu-id="774f6-168">これで、各誕生年のユーザー数と、このリスト全体のパーセンテージを計算するタスクが比較的短いリストになりました。</span><span class="sxs-lookup"><span data-stu-id="774f6-168">You now have a relatively short list of how many people for each birth year and the task of calculating percentages in this overall list is manageable.</span></span>

<span data-ttu-id="774f6-169">Azure では、Hadoop の機能を使用してビッグデータを処理、分析し、新しい洞察を[得ることが](https://azure.microsoft.com/services/hdinsight/)できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-169">On Azure, [HDInsight](https://azure.microsoft.com/services/hdinsight/) enables you to process, analyze, and gain new insights from big data using the power of Hadoop.</span></span> <span data-ttu-id="774f6-170">たとえば、web サーバーのログを分析するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-170">For example, you could use it to analyze web server logs:</span></span>

- <span data-ttu-id="774f6-171">ストレージアカウントへの web サーバーのログ記録を有効にします。</span><span class="sxs-lookup"><span data-stu-id="774f6-171">Enable web server logging to your storage account.</span></span> <span data-ttu-id="774f6-172">これにより、アプリケーションへのすべての HTTP 要求に対して Blob サービスにログを書き込むように Azure が設定されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-172">This sets up Azure to write logs to the Blob Service for every HTTP request to your application.</span></span> <span data-ttu-id="774f6-173">Blob サービスは基本的にクラウドファイルストレージであり、HDInsight との統合に適しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-173">The Blob Service is basically cloud file storage, and it integrates nicely with HDInsight.</span></span>

    ![Blob Storage するログ](data-storage-options/_static/image2.png)
- <span data-ttu-id="774f6-175">アプリがトラフィックを取得すると、web サーバーの IIS ログが Blob ストレージに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="774f6-175">As the app gets traffic, web server IIS logs are written to Blob storage.</span></span>

    ![Web サーバー ログ](data-storage-options/_static/image3.png)
- <span data-ttu-id="774f6-177">ポータルで、**新規** -  をクリックして**Data Services** - **hdinsight** - **簡易作成** をクリックし、HDInsight クラスター名、クラスターのサイズ (hdinsight クラスターのデータノードの数)、hdinsight クラスターのユーザー名とパスワードを指定します。</span><span class="sxs-lookup"><span data-stu-id="774f6-177">In the portal, click **New** - **Data Services** - **HDInsight** - **Quick Create**, and specify an HDInsight cluster name, cluster size (number of HDInsight cluster data nodes), and a user name and password for the HDInsight cluster.</span></span>

    ![HDInsight](data-storage-options/_static/image4.png)

<span data-ttu-id="774f6-179">これで、MapReduce ジョブを設定してログを分析し、次のような疑問に対する答えを得ることができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-179">You can now set up MapReduce jobs to analyze your logs and get answers to questions such as:</span></span>

- <span data-ttu-id="774f6-180">アプリが最大または最小のトラフィックを取得するのはどのような時間ですか。</span><span class="sxs-lookup"><span data-stu-id="774f6-180">What times of day does my app get the most or least traffic?</span></span>
- <span data-ttu-id="774f6-181">トラフィックの発信元の国</span><span class="sxs-lookup"><span data-stu-id="774f6-181">What countries is my traffic coming from?</span></span>
- <span data-ttu-id="774f6-182">トラフィックの発信元となる領域の平均的な周辺収入は何ですか。</span><span class="sxs-lookup"><span data-stu-id="774f6-182">What is the average neighborhood income of the areas my traffic comes from.</span></span> <span data-ttu-id="774f6-183">(IP アドレスによって地域の収入を提供するパブリックデータセットがあります。これは、web サーバーログの IP アドレスと一致させることができます)。</span><span class="sxs-lookup"><span data-stu-id="774f6-183">(There's a public dataset that gives you neighborhood income by IP address, and you can match that against IP address in the web server logs.)</span></span>
- <span data-ttu-id="774f6-184">近所の収入は、サイト内の特定のページまたは製品とどのように関連付けられていますか。</span><span class="sxs-lookup"><span data-stu-id="774f6-184">How does neighborhood income correlate to specific pages or products in the site?</span></span>

<span data-ttu-id="774f6-185">次に、このような質問に対する回答を利用して、顧客が関心を持つ可能性や、特定の製品を購入する可能性に基づいて広告を対象にすることができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-185">You could then use the answers to questions like these to target ads based on the likelihood a customer would be interested in or likely to buy a particular product.</span></span>

<span data-ttu-id="774f6-186">「[すべて自動化](automate-everything.md)」の章で説明したように、ポータルで実行できるほとんどの関数は自動化でき、HDInsight 分析ジョブの設定と実行も含まれます。</span><span class="sxs-lookup"><span data-stu-id="774f6-186">As explained in the [Automate Everything chapter](automate-everything.md), most functions that you can do in the portal can be automated, and that includes setting up and executing HDInsight analysis jobs.</span></span> <span data-ttu-id="774f6-187">一般的な HDInsight スクリプトには、次の手順が含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-187">A typical HDInsight script might contain the following steps:</span></span>

- <span data-ttu-id="774f6-188">HDInsight クラスターをプロビジョニングし、Blob storage の入力用にストレージアカウントにリンクします。</span><span class="sxs-lookup"><span data-stu-id="774f6-188">Provision an HDInsight cluster and link it to your storage account for Blob storage input.</span></span>
- <span data-ttu-id="774f6-189">MapReduce ジョブの実行可能ファイル (.jar または .exe ファイル) を HDInsight クラスターにアップロードします。</span><span class="sxs-lookup"><span data-stu-id="774f6-189">Upload the MapReduce job executables (.jar or .exe files) to the HDInsight cluster.</span></span>
- <span data-ttu-id="774f6-190">出力データを Blob storage に格納する MapReduce を送信します。</span><span class="sxs-lookup"><span data-stu-id="774f6-190">Submit a MapReduce that stores the output data to Blob storage.</span></span>
- <span data-ttu-id="774f6-191">ジョブが完了するまで待ちます。</span><span class="sxs-lookup"><span data-stu-id="774f6-191">Wait for the job to complete.</span></span>
- <span data-ttu-id="774f6-192">HDInsight クラスターを削除する。</span><span class="sxs-lookup"><span data-stu-id="774f6-192">Delete the HDInsight cluster.</span></span>
- <span data-ttu-id="774f6-193">Blob storage からの出力にアクセスします。</span><span class="sxs-lookup"><span data-stu-id="774f6-193">Access the output from Blob storage.</span></span>

<span data-ttu-id="774f6-194">すべてを実行するスクリプトを実行することで、HDInsight クラスターがプロビジョニングされる時間を最小限に抑えることができます。これにより、コストを最小限に抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-194">By running a script that does all this, you minimize the amount of time that the HDInsight cluster is provisioned, which minimizes your costs.</span></span>

<a id="paasiaas"></a>
## <a name="platform-as-a-service-paas-versus-infrastructure-as-a-service-iaas"></a><span data-ttu-id="774f6-195">サービスとしてのプラットフォーム (PaaS) とサービスとしてのインフラストラクチャ (IaaS)</span><span class="sxs-lookup"><span data-stu-id="774f6-195">Platform as a Service (PaaS) versus Infrastructure as a Service (IaaS)</span></span>

<span data-ttu-id="774f6-196">前述のデータストレージオプションには、サービスとしてのプラットフォーム (PaaS) とサービスとしてのインフラストラクチャ (IaaS) ソリューションの両方が含まれています。</span><span class="sxs-lookup"><span data-stu-id="774f6-196">The data storage options listed earlier include both Platform-as-a-Service (PaaS) and Infrastructure-as-a-Service (IaaS) solutions.</span></span> <span data-ttu-id="774f6-197">PaaS は、ハードウェアとソフトウェアのインフラストラクチャを管理し、サービスを使用することを意味します。</span><span class="sxs-lookup"><span data-stu-id="774f6-197">PaaS means that we manage the hardware and software infrastructure and you just use the service.</span></span> <span data-ttu-id="774f6-198">SQL Database は、Azure の PaaS 機能です。</span><span class="sxs-lookup"><span data-stu-id="774f6-198">SQL Database is a PaaS feature of Azure.</span></span> <span data-ttu-id="774f6-199">データベースを要求すると、その後、Azure によって Vm がセットアップおよび構成され、データベースが設定されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-199">You ask for databases, and behind the scenes Azure sets up and configures the VMs and sets up the databases on them.</span></span> <span data-ttu-id="774f6-200">Vm に直接アクセスすることはできません。 Vm を管理する必要はありません。IaaS は、データセンターインフラストラクチャで実行される Vm を設定、構成、および管理し、必要なものを任意に配置することを意味します。</span><span class="sxs-lookup"><span data-stu-id="774f6-200">You don't have direct access to the VMs and don't have to manage them.IaaS means that you set up, configure, and manage VMs that run in our data center infrastructure, and you put whatever you want on them.</span></span> <span data-ttu-id="774f6-201">一般的な VM 構成用に事前に構成された VM イメージのギャラリーが用意されています。</span><span class="sxs-lookup"><span data-stu-id="774f6-201">We provide a gallery of pre-configured VM images for common VM configurations.</span></span> <span data-ttu-id="774f6-202">たとえば、Windows Server 2008、Windows Server 2012、BizTalk Server、Oracle WebLogic Server、Oracle Database などの事前構成済みの VM イメージをインストールできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-202">For example, you can install pre-configured VM images for Windows Server 2008, Windows Server 2012, BizTalk Server, Oracle WebLogic Server, Oracle Database, etc.</span></span>

<span data-ttu-id="774f6-203">Azure が提供する PaaS データソリューションには、次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-203">PaaS data solutions that Azure offers include:</span></span>

- <span data-ttu-id="774f6-204">Azure SQL Database (旧称 SQL Azure)。</span><span class="sxs-lookup"><span data-stu-id="774f6-204">Azure SQL Database (formerly known as SQL Azure).</span></span> <span data-ttu-id="774f6-205">SQL Server に基づくクラウドリレーショナルデータベース。</span><span class="sxs-lookup"><span data-stu-id="774f6-205">A cloud relational database based on SQL Server.</span></span>
- <span data-ttu-id="774f6-206">Azure Table Storage。</span><span class="sxs-lookup"><span data-stu-id="774f6-206">Azure Table storage.</span></span> <span data-ttu-id="774f6-207">キー/値 NoSQL データベース。</span><span class="sxs-lookup"><span data-stu-id="774f6-207">A key/value NoSQL database.</span></span>
- <span data-ttu-id="774f6-208">Azure Blob Storage。</span><span class="sxs-lookup"><span data-stu-id="774f6-208">Azure Blob storage.</span></span> <span data-ttu-id="774f6-209">クラウド内のファイルストレージ。</span><span class="sxs-lookup"><span data-stu-id="774f6-209">File storage in the cloud.</span></span>

<span data-ttu-id="774f6-210">IaaS の場合は、VM に読み込むことのできるすべてのものを実行できます。次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="774f6-210">For IaaS, you can run anything you can load onto a VM, for example:</span></span>

- <span data-ttu-id="774f6-211">リレーショナルデータベース (SQL Server、Oracle、MySQL、SQL Compact、SQLite、Postgres など)。</span><span class="sxs-lookup"><span data-stu-id="774f6-211">Relational databases such as SQL Server, Oracle, MySQL, SQL Compact, SQLite, or Postgres.</span></span>
- <span data-ttu-id="774f6-212">Memcached、Redis、Cassandra、Riak などのキー/値データストア。</span><span class="sxs-lookup"><span data-stu-id="774f6-212">Key/value data stores such as Memcached, Redis, Cassandra, and Riak.</span></span>
- <span data-ttu-id="774f6-213">HBase などの列データストア。</span><span class="sxs-lookup"><span data-stu-id="774f6-213">Column data stores such as HBase.</span></span>
- <span data-ttu-id="774f6-214">MongoDB、RavenDB、CouchDB などのドキュメントデータベース。</span><span class="sxs-lookup"><span data-stu-id="774f6-214">Document databases such as MongoDB, RavenDB, and CouchDB.</span></span>
- <span data-ttu-id="774f6-215">Neo4j などのグラフデータベース。</span><span class="sxs-lookup"><span data-stu-id="774f6-215">Graph databases such as Neo4j.</span></span>

![Azure のデータストレージオプション](data-storage-options/_static/image5.png)

<span data-ttu-id="774f6-217">IaaS オプションを使用すると、ほとんど無制限のデータストレージオプションが得られます。構成済みのイメージを使用して Vm を作成できるため、これらの多くは特に簡単に使用できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-217">The IaaS option gives you almost unlimited data storage options, and many of them are especially easy to use because you can create VMs using preconfigured images.</span></span> <span data-ttu-id="774f6-218">たとえば、管理ポータルで**Virtual Machines**に移動し、 **[イメージ]** タブをクリックして、VM の使用方法の **[参照]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="774f6-218">For example, in the management portal go to **Virtual Machines**, click the **Images** tab, and click **Browse VM Depot**.</span></span>

![VM の引き取りを参照](data-storage-options/_static/image6.png)

<span data-ttu-id="774f6-220">数[百の事前構成済みの vm イメージ](http://www.hanselman.com/blog/Over400VirtualMachineImagesOfOpenSourceSoftwareStacksInTheVMDepotAzureGallery.aspx)の一覧が表示され、MongoDB、Neo4J、Redis、Cassandra、CouchDB などのデータベース管理システムがプレインストールされたイメージから vm を作成できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-220">You then see a list of [hundreds of preconfigured VM images](http://www.hanselman.com/blog/Over400VirtualMachineImagesOfOpenSourceSoftwareStacksInTheVMDepotAzureGallery.aspx), and you can create a VM from an image that has a database management system preinstalled, such as MongoDB, Neo4J, Redis, Cassandra, or CouchDB:</span></span>

![VM の引き取りでの MongoDB](data-storage-options/_static/image7.png)

<span data-ttu-id="774f6-222">Azure では、IaaS データストレージオプションを可能な限り簡単に使用できますが、PaaS オファリングには、多くのシナリオにおいてコスト効率が高く、実用的であるという多くの利点があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-222">Azure makes IaaS data storage options as easy to use as possible, but the PaaS offerings have many advantages that make them more cost-effective and practical for many scenarios:</span></span>

- <span data-ttu-id="774f6-223">Vm を作成する必要はありませんが、ポータルまたはスクリプトを使用してデータストアを設定するだけです。</span><span class="sxs-lookup"><span data-stu-id="774f6-223">You don't have to create VMs, you just use the portal or a script to set up a data store.</span></span> <span data-ttu-id="774f6-224">200テラバイトのデータストアが必要な場合は、ボタンをクリックするかコマンドを実行するだけで、数秒で使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="774f6-224">If you want a 200 terabyte data store, you can just click a button or run a command, and in seconds it's ready for you to use.</span></span>
- <span data-ttu-id="774f6-225">サービスによって使用される Vm を管理または修正する必要はありません。Microsoft は自動的にこれを行います。-スケーリングや高可用性のためのインフラストラクチャのセットアップについて心配する必要はありません。Microsoft はすべてのことを処理します。</span><span class="sxs-lookup"><span data-stu-id="774f6-225">You don't have to manage or patch the VMs used by the service; Microsoft does that for you automatically.- You don't have to worry about setting up infrastructure for scaling or high availability; Microsoft handles all that for you.</span></span>
- <span data-ttu-id="774f6-226">ライセンスを購入する必要はありません。ライセンス料金は、サービス料金に含まれています。</span><span class="sxs-lookup"><span data-stu-id="774f6-226">You don't have to buy licenses; license fees are included in the service fees.</span></span>
- <span data-ttu-id="774f6-227">料金は使用した分だけになります。</span><span class="sxs-lookup"><span data-stu-id="774f6-227">You only pay for what you use.</span></span>

<span data-ttu-id="774f6-228">Azure の PaaS データストレージオプションには、サードパーティプロバイダーによって提供されるサービスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="774f6-228">PaaS data storage options in Azure include offerings by third-party providers.</span></span> <span data-ttu-id="774f6-229">たとえば、Azure ストアから[MongoLab アドオン](https://azure.microsoft.com/documentation/articles/store-mongolab-web-sites-dotnet-store-data-mongodb/)を選択して、MongoDB データベースをサービスとしてプロビジョニングすることができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-229">For example, you can choose the [MongoLab Add-On](https://azure.microsoft.com/documentation/articles/store-mongolab-web-sites-dotnet-store-data-mongodb/) from the Azure Store to provision a MongoDB database as a service.</span></span>

## <a name="choosing-a-data-storage-option"></a><span data-ttu-id="774f6-230">データストレージオプションの選択</span><span class="sxs-lookup"><span data-stu-id="774f6-230">Choosing a data storage option</span></span>

<span data-ttu-id="774f6-231">すべてのシナリオに適した方法はありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-231">No one approach is right for all scenarios.</span></span> <span data-ttu-id="774f6-232">このテクノロジが答えであることがわかっている場合、最初に質問するのは、さまざまなソリューションがさまざまな用途に合わせて最適化されているためです。</span><span class="sxs-lookup"><span data-stu-id="774f6-232">If anyone says that this technology is the answer, the first thing to ask is "What is the question?", because different solutions are optimized for different things.</span></span> <span data-ttu-id="774f6-233">リレーショナルモデルには明確な利点があります。そのため、これはそれほど長くありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-233">There are definite advantages to the relational model; that's why it's been around for so long.</span></span> <span data-ttu-id="774f6-234">ただし、NoSQL ソリューションを使用して対処できる、SQL のダウンサイドもあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-234">But there are also down-sides to SQL that can be addressed with a NoSQL solution.</span></span>

<span data-ttu-id="774f6-235">多くの場合、1つのソリューションで SQL と NoSQL を使用する複合的なアプローチが最適です。</span><span class="sxs-lookup"><span data-stu-id="774f6-235">Often what we see work best is a compositional approach, where you use SQL and NoSQL in a single solution.</span></span> <span data-ttu-id="774f6-236">ユーザーが NoSQL を採用している場合でも、何をしているかを掘り下げていくと、さまざまな NoSQL フレームワークを使用していることがよくわかります。これらのフレームワークでは、 [CouchDB](http://wiki.apache.org/couchdb/Introduction)、 [Redis](http://redis.io/)、および[riak](http://basho.com/riak/)がさまざまな目的で使用されています。</span><span class="sxs-lookup"><span data-stu-id="774f6-236">Even when people say they're embracing NoSQL, if you drill into what they're doing you often find that they're using several different NoSQL frameworks: they're using [CouchDB](http://wiki.apache.org/couchdb/Introduction), and [Redis](http://redis.io/), and [Riak](http://basho.com/riak/) for different things.</span></span> <span data-ttu-id="774f6-237">NoSQL を幅広く使用する Facebook でも、サービスのさまざまな部分に異なる NoSQL フレームワークを使用します。</span><span class="sxs-lookup"><span data-stu-id="774f6-237">Even Facebook, which uses NoSQL extensively, uses different NoSQL frameworks for different parts of the service.</span></span> <span data-ttu-id="774f6-238">データストレージのアプローチを柔軟に組み合わせることは、複数のデータソリューションを使用して1つのアプリに統合するのが簡単であるため、クラウドにとって優れている点の1つです。</span><span class="sxs-lookup"><span data-stu-id="774f6-238">The flexibility to mix and match data storage approaches is one of the things that's nice about the cloud, because it's easy to use multiple data solutions and integrate them in a single app.</span></span>

<span data-ttu-id="774f6-239">アプローチを選択する場合は、次の点を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-239">Here are some questions to think about when you're choosing an approach:</span></span>

| <span data-ttu-id="774f6-240">データセマンティック</span><span class="sxs-lookup"><span data-stu-id="774f6-240">Data semantic</span></span> | <span data-ttu-id="774f6-241">-コアデータストレージとデータアクセスのセマンティックとは何ですか (リレーショナルデータまたは非構造化データを格納していますか)。</span><span class="sxs-lookup"><span data-stu-id="774f6-241">- What is the core data storage and data access semantic (are you storing relational or unstructured data)?</span></span> <span data-ttu-id="774f6-242">メディアファイルなどの非構造化データは、blob ストレージに最適です。製品、在庫、仕入先、顧客注文などの関連データのコレクションは、リレーショナルデータベースに最適です。</span><span class="sxs-lookup"><span data-stu-id="774f6-242">Unstructured data such as media files fits best in blob storage; a collection of related data such as products, inventories, suppliers, customer orders, etc., fits best in a relational database.</span></span> |
| --- | --- |
| <span data-ttu-id="774f6-243">クエリのサポート</span><span class="sxs-lookup"><span data-stu-id="774f6-243">Query support</span></span> | <span data-ttu-id="774f6-244">-データに対してクエリを実行するのは簡単ですか。</span><span class="sxs-lookup"><span data-stu-id="774f6-244">- How easy is it to query the data?</span></span> <span data-ttu-id="774f6-245">-どのような種類の質問を効率的に要求できますか。</span><span class="sxs-lookup"><span data-stu-id="774f6-245">- What types of questions can be efficiently asked?</span></span> <span data-ttu-id="774f6-246">キー値を指定して1つの行を取得するには、キー/値データストアが非常に優れていますが、複雑なクエリには適していません。</span><span class="sxs-lookup"><span data-stu-id="774f6-246">Key/value data stores are very good at getting a single row given a key value but not so good for complex queries.</span></span> <span data-ttu-id="774f6-247">常に1つの特定のユーザーのデータを取得しているユーザープロファイルデータストアの場合、キー/値データストアが正常に機能する可能性があります。製品カタログでは、さまざまな製品属性に基づいて異なるグループを取得する必要がある場合は、リレーショナルデータベースの方が適している可能性があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-247">For a user profile data store where you are always getting the data for one particular user, a key/value data store could work well; for a product catalog where you want to get different groupings based on various product attributes a relational database might work better.</span></span> <span data-ttu-id="774f6-248">NoSQL データベースは大量のデータを効率的に格納できますが、アプリがデータを照会する方法を中心にデータベースを構成する必要があります。これにより、アドホッククエリの実行が困難になります。</span><span class="sxs-lookup"><span data-stu-id="774f6-248">NoSQL databases can store large volumes of data efficiently, but you have to structure the database around how the app queries the data, and this makes ad hoc queries harder to do.</span></span> <span data-ttu-id="774f6-249">リレーショナルデータベースを使用すると、ほぼすべての種類のクエリを作成できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-249">With a relational database, you can build almost any kind of query.</span></span> |
| <span data-ttu-id="774f6-250">機能プロジェクション</span><span class="sxs-lookup"><span data-stu-id="774f6-250">Functional projection</span></span> | <span data-ttu-id="774f6-251">-サーバー側で実行できる質問や集計などがありますか。</span><span class="sxs-lookup"><span data-stu-id="774f6-251">- Can questions, aggregations, etc., be executed server-side?</span></span> <span data-ttu-id="774f6-252">SQL のテーブルから SELECT COUNT (\*) を実行すると、サーバー上のすべての作業が非常に効率的に実行され、探している数値が返されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-252">If I run SELECT COUNT(\*) from a table in SQL, it will very efficiently do all the work on the server and return the number I'm looking for.</span></span> <span data-ttu-id="774f6-253">集計をサポートしていない NoSQL データストアから同じ計算を行う場合、これは非効率的な "無制限クエリ" であり、タイムアウトする可能性があります。クエリが成功した場合でも、サーバーからクライアントにすべてのデータを取得し、クライアントの行をカウントする必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-253">If I want the same calculation from a NoSQL data store that doesn't support aggregation, this is an inefficient "unbounded query" and will probably time out. Even if the query succeeds I have to retrieve all of the data from the server to the client and count the rows on the client.</span></span> <span data-ttu-id="774f6-254">-使用できる式の言語または種類を教えてください。</span><span class="sxs-lookup"><span data-stu-id="774f6-254">- What languages or types of expressions can be used?</span></span> <span data-ttu-id="774f6-255">リレーショナルデータベースでは、SQL を使用できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-255">With a relational database I can use SQL.</span></span> <span data-ttu-id="774f6-256">Azure Table storage などの一部の NoSQL データベースでは、 [OData](http://www.odata.org/)を使用します。これは、主キーに対してフィルター処理を行い、プロジェクションを取得する (使用可能なフィールドのサブセットを選択する) だけです。</span><span class="sxs-lookup"><span data-stu-id="774f6-256">With some NoSQL databases such as Azure Table storage, I'll be using [OData](http://www.odata.org/), and all I can do is filter on primary key and get projections (select a subset of the available fields).</span></span> |
| <span data-ttu-id="774f6-257">拡張性の向上</span><span class="sxs-lookup"><span data-stu-id="774f6-257">Ease of scalability</span></span> | <span data-ttu-id="774f6-258">-どのくらいの頻度でデータをスケールする必要がありますか。</span><span class="sxs-lookup"><span data-stu-id="774f6-258">- How often and how much will the data need to scale?</span></span> <span data-ttu-id="774f6-259">-プラットフォームはネイティブにスケールアウトを実装していますか。</span><span class="sxs-lookup"><span data-stu-id="774f6-259">- Does the platform natively implement scale-out?</span></span> <span data-ttu-id="774f6-260">-容量 (サイズとスループット) を追加または削除するのは簡単ですか?</span><span class="sxs-lookup"><span data-stu-id="774f6-260">- How easy is it to add/remove capacity (size and throughput)?</span></span> <span data-ttu-id="774f6-261">リレーショナルデータベースとテーブルは、拡張性を確保するために自動的にパーティション分割されないため、特定の制限を超えて拡張することは困難です。</span><span class="sxs-lookup"><span data-stu-id="774f6-261">Relational databases and tables aren't automatically partitioned to make them scalable, so they are difficult to scale beyond certain limitations.</span></span> <span data-ttu-id="774f6-262">Azure Table storage のような NoSQL データストアは、本質的にすべてをパーティション分割します。パーティションの追加にはほとんど制限がありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-262">NoSQL data stores like Azure Table storage inherently partition everything, and there is almost no limit to adding partitions.</span></span> <span data-ttu-id="774f6-263">最大200テラバイトの Table Storage を簡単にスケーリングできますが、Azure SQL Database のデータベースの最大サイズは 500 gb です。</span><span class="sxs-lookup"><span data-stu-id="774f6-263">You can readily scale Table Storage up to 200 terabytes, but the maximum database size for Azure SQL Database is 500 gigabytes.</span></span> <span data-ttu-id="774f6-264">リレーショナルデータは、複数のデータベースにパーティション分割することによって拡張できますが、そのモデルをサポートするようにアプリケーションを設定するには、多数のプログラミング作業が必要になります。</span><span class="sxs-lookup"><span data-stu-id="774f6-264">You can scale relational data by partitioning it into multiple databases, but setting up an application to support that model involves a lot of programming work.</span></span> |
| <span data-ttu-id="774f6-265">インストルメンテーションと管理性</span><span class="sxs-lookup"><span data-stu-id="774f6-265">Instrumentation and Manageability</span></span> | <span data-ttu-id="774f6-266">-プラットフォームがどの程度簡単にインストルメント化、監視、および管理できるか。</span><span class="sxs-lookup"><span data-stu-id="774f6-266">- How easy is the platform to instrument, monitor, and manage?</span></span> <span data-ttu-id="774f6-267">データストアの正常性とパフォーマンスに関する情報を常に把握しておく必要があります。そのため、プラットフォームが無償で提供するメトリックと、自分で開発する必要があるものを事前に把握しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-267">You will need to keep informed about the health and performance of your data store, so you need to know up front what metrics a platform gives you for free, and what you have to develop yourself.</span></span> |
| <span data-ttu-id="774f6-268">操作</span><span class="sxs-lookup"><span data-stu-id="774f6-268">Operations</span></span> | <span data-ttu-id="774f6-269">-Azure でデプロイおよび実行するプラットフォームはどれほど簡単ですか?</span><span class="sxs-lookup"><span data-stu-id="774f6-269">- How easy is the platform to deploy and run on Azure?</span></span> <span data-ttu-id="774f6-270">PaaS?</span><span class="sxs-lookup"><span data-stu-id="774f6-270">PaaS?</span></span> <span data-ttu-id="774f6-271">IaaS?</span><span class="sxs-lookup"><span data-stu-id="774f6-271">IaaS?</span></span> <span data-ttu-id="774f6-272">マシン?</span><span class="sxs-lookup"><span data-stu-id="774f6-272">Linux?</span></span> <span data-ttu-id="774f6-273">Table Storage と SQL Database は、Azure で簡単にセットアップできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-273">Table Storage and SQL Database are easy to set up on Azure.</span></span> <span data-ttu-id="774f6-274">Azure PaaS ソリューションが組み込まれていないプラットフォームでは、より多くの労力が必要になります。</span><span class="sxs-lookup"><span data-stu-id="774f6-274">Platforms that aren't built-in Azure PaaS solutions require more effort.</span></span> |
| <span data-ttu-id="774f6-275">API のサポート</span><span class="sxs-lookup"><span data-stu-id="774f6-275">API Support</span></span> | <span data-ttu-id="774f6-276">-プラットフォームを簡単に操作できる API が用意されていますか。</span><span class="sxs-lookup"><span data-stu-id="774f6-276">- Is an API available that makes it easy to work with the platform?</span></span> <span data-ttu-id="774f6-277">Azure Table Service の SDK には、.net 4.5 の非同期プログラミングモデルをサポートする .NET API が含まれています。</span><span class="sxs-lookup"><span data-stu-id="774f6-277">For the Azure Table Service there's an SDK with a .NET API that supports the .NET 4.5 asynchronous programming model.</span></span> <span data-ttu-id="774f6-278">.NET アプリを作成している場合は、Azure Table Service のコードを記述してテストする方がはるかに簡単です。 API がない別のキー/値列のデータストアプラットフォームや、あまり包括的ではないものがあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-278">If you're writing a .NET app, it'll be much easier to write and test code for the Azure Table Service compared to another key/value column data store platform that has no API or a less comprehensive one.</span></span> |
| <span data-ttu-id="774f6-279">トランザクションの整合性とデータの一貫性</span><span class="sxs-lookup"><span data-stu-id="774f6-279">Transactional integrity and data consistency</span></span> | <span data-ttu-id="774f6-280">-プラットフォームがデータの一貫性を保証するためにトランザクションをサポートしていることは重要ですか。</span><span class="sxs-lookup"><span data-stu-id="774f6-280">- Is it critical that the platform support transactions in order to guarantee data consistency?</span></span> <span data-ttu-id="774f6-281">送信された一括メールを追跡するには、データプラットフォームでのトランザクションまたは参照整合性の自動サポートよりもパフォーマンスと低データストレージコストが重要になることがあります。そのため、Azure Table Service を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="774f6-281">For keeping track of bulk emails sent, performance and low data storage cost might be more important than automatic support for transactions or referential integrity in the data platform, making the Azure Table Service a good choice.</span></span> <span data-ttu-id="774f6-282">銀行口座の残高や注文書を追跡する場合は、強力なトランザクション保証を提供するリレーショナルデータベースプラットフォームの方が適しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-282">For tracking bank account balances or purchase orders a relational database platform that provides strong transactional guarantees would be a better choice.</span></span> |
| <span data-ttu-id="774f6-283">ビジネス継続性</span><span class="sxs-lookup"><span data-stu-id="774f6-283">Business continuity</span></span> | <span data-ttu-id="774f6-284">-バックアップ、復元、ディザスターリカバリーの容易さ</span><span class="sxs-lookup"><span data-stu-id="774f6-284">- How easy are backup, restore, and disaster recovery?</span></span> <span data-ttu-id="774f6-285">前または後の実稼働データが破損しているため、元に戻す機能が必要です。</span><span class="sxs-lookup"><span data-stu-id="774f6-285">Sooner or later production data will get corrupted and you'll need an undo function.</span></span> <span data-ttu-id="774f6-286">多くの場合、リレーショナルデータベースには、特定の時点に復元する機能など、よりきめ細かな復元機能があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-286">Relational databases often have more fine-grained restore capabilities, such as the ability to restore to a point in time.</span></span> <span data-ttu-id="774f6-287">検討している各プラットフォームで使用できる復元機能を理解することは、考慮すべき重要な要素です。</span><span class="sxs-lookup"><span data-stu-id="774f6-287">Understanding what restore features are available in each platform you're considering is an important factor to consider.</span></span> |
| <span data-ttu-id="774f6-288">コスト</span><span class="sxs-lookup"><span data-stu-id="774f6-288">Cost</span></span> | <span data-ttu-id="774f6-289">-複数のプラットフォームがデータワークロードをサポートできる場合、コストを比較するにはどうすればよいでしょうか。</span><span class="sxs-lookup"><span data-stu-id="774f6-289">- If more than one platform can support your data workload, how do they compare in cost?</span></span> <span data-ttu-id="774f6-290">たとえば、ASP.NET Identity を使用する場合、ユーザープロファイルデータを Azure Table Service または Azure SQL Database に格納できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-290">For example, if you use ASP.NET Identity, you can store user profile data in Azure Table Service or Azure SQL Database.</span></span> <span data-ttu-id="774f6-291">SQL Database の豊富なクエリ機能が不要な場合は、Azure テーブルを選択することもできます。これは、特定の量のストレージに対してコストが大幅に削減されるためです。</span><span class="sxs-lookup"><span data-stu-id="774f6-291">If you don't need the rich querying facilities of SQL Database, you might choose Azure Tables in part because it costs much less for a given amount of storage.</span></span> |

<span data-ttu-id="774f6-292">データストレージソリューションを選択する前に、これらの各カテゴリの質問に対する回答を確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="774f6-292">What we generally recommend is know the answer to the questions in each of these categories before you choose your data storage solutions.</span></span>

<span data-ttu-id="774f6-293">また、ワークロードには、プラットフォームによってはサポートされる可能性のある特定の要件がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-293">In addition, your workload might have specific requirements that some platforms can support better than others.</span></span> <span data-ttu-id="774f6-294">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="774f6-294">For example:</span></span>

- <span data-ttu-id="774f6-295">アプリケーションには監査機能が必要ですか。</span><span class="sxs-lookup"><span data-stu-id="774f6-295">Does your application require audit capabilities?</span></span>
- <span data-ttu-id="774f6-296">データの保存期間の要件はどのようなものですか?-自動アーカイブまたは削除の機能が必要ですか?</span><span class="sxs-lookup"><span data-stu-id="774f6-296">What are your data longevity requirements -- do you require automated archival or purging capabilities?</span></span>
- <span data-ttu-id="774f6-297">特別なセキュリティニーズはありますか。</span><span class="sxs-lookup"><span data-stu-id="774f6-297">Do you have specialized security needs?</span></span> <span data-ttu-id="774f6-298">たとえば、データには PII (個人を特定できる情報) が含まれますが、クエリ結果から PII が除外されるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-298">For example, the data includes PII (personally identifiable information) but you have to be able to make sure that PII is excluded from query results.</span></span>
- <span data-ttu-id="774f6-299">規制や技術的な理由でクラウドに保存できないデータがある場合は、オンプレミスストレージとの統合を容易にするクラウドデータストレージプラットフォームが必要になることがあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-299">If you have some data that can't be stored in the cloud for regulatory or technological reasons, you might need a cloud data storage platform that facilitates integrating with your on-premises storage.</span></span>

## <a name="demo--using-sql-database-in-azure"></a><span data-ttu-id="774f6-300">デモ– Azure での SQL Database の使用</span><span class="sxs-lookup"><span data-stu-id="774f6-300">Demo – using SQL Database in Azure</span></span>

<span data-ttu-id="774f6-301">Fix It アプリは、リレーショナルデータベースを使用してタスクを格納します。</span><span class="sxs-lookup"><span data-stu-id="774f6-301">The Fix It app uses a relational database to store tasks.</span></span> <span data-ttu-id="774f6-302">「[すべて自動化](automate-everything.md)」の章に示されている環境作成の Windows PowerShell スクリプトは、2つの SQL Database インスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="774f6-302">The environment creation Windows PowerShell script shown in the [Automate Everything chapter](automate-everything.md) creates two SQL Database instances.</span></span> <span data-ttu-id="774f6-303">ポータルで **[SQL データベース]** タブをクリックすると、これらを確認できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-303">You can see these in the portal by clicking the **SQL Databases** tab.</span></span>

![ポータルの SQL データベース](data-storage-options/_static/image8.png)

<span data-ttu-id="774f6-305">ポータルを使用してデータベースを簡単に作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-305">It's also easy to create databases by using the portal.</span></span>

<span data-ttu-id="774f6-306">**新規--Data Services** -- **SQL Database** -- **簡易作成** をクリックし、データベース名を入力します。アカウントに既にあるサーバーを選択するか、新しいサーバーを作成して、**SQL Database の作成** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="774f6-306">Click **New -- Data Services** -- **SQL Database** -- **Quick Create**, enter a database name, choose a server you already have in your account or create a new one, and click **Create SQL Database**.</span></span>

![新しい SQL データベース](data-storage-options/_static/image9.png)

<span data-ttu-id="774f6-308">数秒待ってから、Azure のデータベースを使用する準備ができていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="774f6-308">Wait several seconds, and you have a database in Azure ready for you to use.</span></span>

![新しい SQL Database 作成済み](data-storage-options/_static/image10.png)

<span data-ttu-id="774f6-310">Azure では、オンプレミス環境での実行に1日または1週間以上かかることがあります。</span><span class="sxs-lookup"><span data-stu-id="774f6-310">So Azure does in a few seconds what it may take you a day or a week or longer to accomplish in the on-premises environment.</span></span> <span data-ttu-id="774f6-311">また、スクリプト内や管理 API を使用してデータベースを自動的に作成するのと同じように、アプリケーションがプログラミングされている限り、データを複数のデータベースに分散させることで、動的にスケールアウトすることができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-311">And since you can just as easily create databases automatically in a script or by using a management API, you can dynamically scale out by spreading your data across multiple databases, so long as your application has been programmed for that.</span></span>

<span data-ttu-id="774f6-312">これは、サービスとしてのプラットフォームモデルの例です。</span><span class="sxs-lookup"><span data-stu-id="774f6-312">This is an example of our Platform-as-a-Service model.</span></span> <span data-ttu-id="774f6-313">サーバーを管理する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-313">You don't have to manage the servers, we do it.</span></span> <span data-ttu-id="774f6-314">バックアップについて心配する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-314">You don't have to worry about backups, we do it.</span></span> <span data-ttu-id="774f6-315">高可用性で実行されています。データベース内のデータは、3つのサーバー間で自動的にレプリケートされます。</span><span class="sxs-lookup"><span data-stu-id="774f6-315">It's running in high availability – the data in the database is replicated across three servers automatically.</span></span> <span data-ttu-id="774f6-316">コンピューターで障害が発生した場合、自動的にフェールオーバーされ、データは失われます。</span><span class="sxs-lookup"><span data-stu-id="774f6-316">If a machine dies, we automatically fail over and you lose no data.</span></span> <span data-ttu-id="774f6-317">サーバーには定期的にパッチが適用されますが、それについて心配する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-317">The server is patched regularly, you don't need to worry about that.</span></span>

<span data-ttu-id="774f6-318">ボタンをクリックすると、必要な正確な接続文字列が表示され、新しいデータベースの使用をすぐに開始できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-318">Click a button and you get the exact connection string you need and can immediately start using the new database.</span></span>

![Connection strings](data-storage-options/_static/image11.png)

<span data-ttu-id="774f6-320">ダッシュボードには、接続の履歴と使用されているストレージの量が表示されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-320">The Dashboard shows you connection history and amount of storage used.</span></span>

![SQL Database ダッシュボード](data-storage-options/_static/image12.png)

<span data-ttu-id="774f6-322">データベースを管理するには、ポータルで、または既に使い慣れている SQL Server ツールを使用します。たとえば、SQL Server Management Studio (SSMS)、Visual Studio tools SQL Server オブジェクトエクスプローラー (SSOX)、サーバーエクスプローラーなどです。</span><span class="sxs-lookup"><span data-stu-id="774f6-322">You can manage databases in the portal or by using SQL Server tools you're already familiar with, including SQL Server Management Studio (SSMS) and the Visual Studio tools SQL Server Object Explorer (SSOX) and Server Explorer.</span></span>

![SSOX](data-storage-options/_static/image13.png)

<span data-ttu-id="774f6-324">もう1つの優れた点は、価格モデルです。</span><span class="sxs-lookup"><span data-stu-id="774f6-324">Another nice thing is the pricing model.</span></span> <span data-ttu-id="774f6-325">20 MB の無料データベースを使用して開発を開始することができ、運用データベースは1か月あたり約 $5 から開始できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-325">You can start development with a free 20 MB database, and a production database starts at about $5 per month.</span></span> <span data-ttu-id="774f6-326">実際には、データベースに格納されているデータの量に対してのみ課金され、最大容量は支払いません。</span><span class="sxs-lookup"><span data-stu-id="774f6-326">You pay only for the amount of data you actually store in the database, not the maximum capacity.</span></span> <span data-ttu-id="774f6-327">ライセンスを購入する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="774f6-327">You don't have to buy a license.</span></span>

<span data-ttu-id="774f6-328">SQL Database は簡単に拡張できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-328">SQL Database is easy to scale.</span></span> <span data-ttu-id="774f6-329">It アプリを修正するために、自動化スクリプトで作成するデータベースは 1 gb に制限されています。</span><span class="sxs-lookup"><span data-stu-id="774f6-329">For the Fix It app, the database we create in our automation script is capped at 1 gig.</span></span> <span data-ttu-id="774f6-330">最大 150 gb まで拡張するには、ポータルに移動し、その設定を変更するか REST API コマンドを実行します。また、データを配置できる 150 gb のデータベースがあることを秒単位で確認できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-330">If you want to scale it up to 150 gig, you can just go into the portal and change that setting, or execute a REST API command, and in seconds you have a 150 gig database that you can deploy data into.</span></span>

![SQL Database のエディションとサイズ](data-storage-options/_static/image14.png)

<span data-ttu-id="774f6-332">これは、インフラストラクチャを迅速かつ簡単に立ち上げ、すぐに使用を開始するクラウドの能力です。</span><span class="sxs-lookup"><span data-stu-id="774f6-332">That's the power of the cloud to stand up infrastructure quickly and easily and start using it immediately.</span></span>

<span data-ttu-id="774f6-333">この修正プログラムでは、メンバーシップ (認証と承認) 用とデータ用の2つの SQL データベースが使用されています。これにより、プロビジョニングとスケーリングを行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-333">The Fix It app uses two SQL databases, one for membership (authentication and authorization) and one for data, and this is all you have to do to provision it and scale it.</span></span> <span data-ttu-id="774f6-334">Windows PowerShell スクリプトを使用してデータベースをプロビジョニングする方法について説明しましたが、ポータルで簡単に実行できることがわかりました。</span><span class="sxs-lookup"><span data-stu-id="774f6-334">You saw earlier how to provision the databases through Windows PowerShell scripts, and now you've also seen how easy it is to do in the portal.</span></span>

## <a name="entity-framework-versus-direct-database-access-using-adonet"></a><span data-ttu-id="774f6-335">ADO.NET を使用した Entity Framework とデータベースへの直接アクセス</span><span class="sxs-lookup"><span data-stu-id="774f6-335">Entity Framework versus direct database access using ADO.NET</span></span>

<span data-ttu-id="774f6-336">この修正プログラムでは、.NET アプリケーション用の Microsoft の推奨される ORM (オブジェクトリレーショナルマッパー) Entity Framework を使用して、このようなデータベースにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="774f6-336">The Fix It app accesses these databases by using the Entity Framework, Microsoft's recommended ORM (object-relational mapper) for .NET applications.</span></span> <span data-ttu-id="774f6-337">ORM は、開発者の生産性を向上させる優れたツールですが、一部のシナリオではパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="774f6-337">An ORM is a great tool that facilitates developer productivity, but productivity comes at the expense of degraded performance in some scenarios.</span></span> <span data-ttu-id="774f6-338">実際のクラウドアプリでは、EF を使用するか、直接 ADO.NET を使用するかを選択することはできません。両方を使用します。</span><span class="sxs-lookup"><span data-stu-id="774f6-338">In a real-world cloud app you won't be making a choice between using EF or using ADO.NET directly -- you'll use both.</span></span> <span data-ttu-id="774f6-339">データベースで動作するコードを記述するほとんどの場合、パフォーマンスを最大にすることは重要ではなく、Entity Framework によって得られる単純化されたコーディングとテストを活用できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-339">Most of the time when you're writing code that works with the database, getting maximum performance is not critical and you can take advantage of the simplified coding and testing that you get with the Entity Framework.</span></span> <span data-ttu-id="774f6-340">EF のオーバーヘッドによって許容できないパフォーマンスが発生する場合は、ストアドプロシージャを呼び出すことで、ADO.NET を使用して独自のクエリを記述して実行できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-340">In situations where the EF overhead would cause unacceptable performance, you can write and execute your own queries using ADO.NET, ideally by calling stored procedures.</span></span>

<span data-ttu-id="774f6-341">データベースへのアクセスに使用する方法にかかわらず、できるだけ "頻繁な通信" を最小化することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="774f6-341">Whatever method you use to access the database, you want to minimize "chattiness" as much as possible.</span></span> <span data-ttu-id="774f6-342">つまり、必要なすべてのデータを、数十または数百の小さなクエリ結果セットではなく、1つの大きなクエリ結果セットとして取得できる場合は、通常はそれが適しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-342">In other words, if you can get all the data you need in one larger query result set rather than dozens or hundreds of smaller ones, that's usually preferable.</span></span> <span data-ttu-id="774f6-343">たとえば、学生とそれらが登録されているコースを一覧表示する必要がある場合は、通常、1つのクエリで学生を取得し、各学生のコースに対して個別のクエリを実行するのではなく、1つの結合クエリですべてのデータを取得することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="774f6-343">For example, if you need to list students and the courses they're enrolled in, it's usually better to get all of the data in one join query rather than getting the students in one query and executing separate queries for each student's courses.</span></span>

## <a name="sql-databases-and-the-entity-framework-in-the-fix-it-app"></a><span data-ttu-id="774f6-344">SQL データベースと修正プログラムの It アプリの Entity Framework</span><span class="sxs-lookup"><span data-stu-id="774f6-344">SQL databases and the Entity Framework in the Fix It app</span></span>

<span data-ttu-id="774f6-345">Fix It app では、Entity Framework `DbContext` クラスから派生した `FixItContext` クラスによってデータベースが識別され、データベース内のテーブルが指定されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-345">In the Fix It app the `FixItContext` class, which derives from the Entity Framework `DbContext` class, identifies the database and specifies the tables in the database.</span></span> <span data-ttu-id="774f6-346">コンテキストでは、タスクのエンティティセット (テーブル) を指定し、コードが接続文字列名をコンテキストに渡します。</span><span class="sxs-lookup"><span data-stu-id="774f6-346">The context specifies an entity set (table) for tasks, and the code passes in to the context the connection string name.</span></span> <span data-ttu-id="774f6-347">この名前は、web.config ファイルで定義されている接続文字列を表します。</span><span class="sxs-lookup"><span data-stu-id="774f6-347">That name refers to a connection string that is defined in the Web.config file.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample1.cs?highlight=4,8)]

<span data-ttu-id="774f6-348">*Web.config ファイル内*の接続文字列は、appdb という名前になります (ここでは、ローカル開発データベースを指しています)。</span><span class="sxs-lookup"><span data-stu-id="774f6-348">The connection string in the *Web.config* file is named appdb (here pointing to the local development database):</span></span>

[!code-xml[Main](data-storage-options/samples/sample2.xml?highlight=3)]

<span data-ttu-id="774f6-349">Entity Framework は、`FixItTask` エンティティクラスに含まれるプロパティに基づいて、 *Fixittasks*テーブルを作成します。</span><span class="sxs-lookup"><span data-stu-id="774f6-349">The Entity Framework creates a *FixItTasks* table based on the properties included in the `FixItTask` entity class.</span></span> <span data-ttu-id="774f6-350">これは単純な POCO (Plain Old CLR Object) クラスです。つまり、これは、から継承されたり、Entity Framework に依存したりしないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="774f6-350">This is a simple POCO (Plain Old CLR Object) class, which means it doesn't inherit from or have any dependencies on the Entity Framework.</span></span> <span data-ttu-id="774f6-351">ただし Entity Framework は、それに基づいてテーブルを作成し、CRUD (作成、読み取り、更新、削除) 操作を実行する方法を知っています。</span><span class="sxs-lookup"><span data-stu-id="774f6-351">But Entity Framework knows how to create a table based on it and execute CRUD (create-read-update-delete) operations with it.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample3.cs)]

![FixItTasks テーブル](data-storage-options/_static/image15.png)

<span data-ttu-id="774f6-353">Fix It アプリには、データストアを操作する CRUD 操作に使用するリポジトリインターフェイスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="774f6-353">The Fix It app includes a repository interface that it uses for CRUD operations working with the data store.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample4.cs)]

<span data-ttu-id="774f6-354">リポジトリのメソッドがすべて非同期であるため、すべてのデータアクセスを完全に非同期に実行できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-354">Notice that the repository methods are all async, so all data access can be done in a completely asynchronous way.</span></span>

<span data-ttu-id="774f6-355">リポジトリの実装は、LINQ クエリだけでなく、挿入、更新、および削除の各操作についても、データを操作するために Entity Framework 非同期メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="774f6-355">The repository implementation calls Entity Framework async methods to work with the data, including LINQ queries as well as for insert, update, and delete operations.</span></span> <span data-ttu-id="774f6-356">Fix It タスクを検索するコードの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="774f6-356">Here's an example of the code for looking up a Fix It task.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample5.cs)]

<span data-ttu-id="774f6-357">ここでは、タイミングとエラーのログ記録のコードもあります。この点については、後で[監視とテレメトリ](monitoring-and-telemetry.md)に関する章をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="774f6-357">You'll notice there's also some timing and error logging code here, we'll look at that later in the [Monitoring and Telemetry chapter](monitoring-and-telemetry.md).</span></span>

<a id="sqliaas"></a>
## <a name="choosing-sql-database-paas-versus-sql-server-in-a-vm-iaas-in-azure"></a><span data-ttu-id="774f6-358">Azure での VM (IaaS) での SQL Database (PaaS) と SQL Server の選択</span><span class="sxs-lookup"><span data-stu-id="774f6-358">Choosing SQL Database (PaaS) versus SQL Server in a VM (IaaS) in Azure</span></span>

<span data-ttu-id="774f6-359">SQL Server と Azure SQL Database についての優れた点は、両方のコアプログラミングモデルが同じであることです。</span><span class="sxs-lookup"><span data-stu-id="774f6-359">A nice thing about SQL Server and Azure SQL Database is that the core programming model for both of them is identical.</span></span> <span data-ttu-id="774f6-360">同じスキルのほとんどを両方の環境で使用できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-360">You can use most of the same skills in both environments.</span></span> <span data-ttu-id="774f6-361">開発中の SQL Server データベースとクラウドの SQL Database インスタンスを使用することもできます。これは、It アプリの修正プログラムのセットアップ方法です。</span><span class="sxs-lookup"><span data-stu-id="774f6-361">You can even use a SQL Server database in development and a SQL Database instance in the cloud, which is how the Fix It app is set up.</span></span>

<span data-ttu-id="774f6-362">別の方法として、IaaS Vm にインストールして、オンプレミスで実行するのと同じ SQL Server をクラウドで実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-362">As an alternative, you can run the same SQL Server in the cloud that you run on-premises by installing it on IaaS VMs.</span></span> <span data-ttu-id="774f6-363">一部のレガシアプリケーションでは、VM で SQL Server を実行する方が適している場合があります。</span><span class="sxs-lookup"><span data-stu-id="774f6-363">For some legacy applications, running SQL Server in a VM might be a better solution.</span></span> <span data-ttu-id="774f6-364">SQL Server データベースは専用 VM 上で実行されるため、共有サーバーで実行されている SQL Database データベースよりも多くのリソースを使用できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-364">Because a SQL Server database runs on a dedicated VM, it has more resources available to it than a SQL Database database that runs on a shared server.</span></span> <span data-ttu-id="774f6-365">つまり、SQL Server データベースは大きくなる可能性があり、それでも正常に動作します。</span><span class="sxs-lookup"><span data-stu-id="774f6-365">That means a SQL Server database can be larger and still perform well.</span></span> <span data-ttu-id="774f6-366">一般に、データベースのサイズとテーブルのサイズが小さいほど、SQL Database (PaaS) でのユースケースの方が適しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-366">In general, the smaller the database size and table size, the better the use case works for SQL Database (PaaS).</span></span>

<span data-ttu-id="774f6-367">2つのモデルを選択する方法に関するガイドラインを次に示します。</span><span class="sxs-lookup"><span data-stu-id="774f6-367">Here are some guidelines on how to choose between the two models.</span></span>

| <span data-ttu-id="774f6-368">Azure SQL Database (PaaS)</span><span class="sxs-lookup"><span data-stu-id="774f6-368">Azure SQL Database (PaaS)</span></span> | <span data-ttu-id="774f6-369">仮想マシン (IaaS) での SQL Server</span><span class="sxs-lookup"><span data-stu-id="774f6-369">SQL Server in a Virtual Machine (IaaS)</span></span> |
| --- | --- |
| <span data-ttu-id="774f6-370">**長所**-vm の作成や管理、OS や SQL の更新、パッチの適用は不要です。Azure では、このことを行います。</span><span class="sxs-lookup"><span data-stu-id="774f6-370">**Pros** - You don't have to create or manage VMs, update or patch OS or SQL; Azure does that for you.</span></span> <span data-ttu-id="774f6-371">-データベースレベルの SLA を備えた組み込みの高可用性。</span><span class="sxs-lookup"><span data-stu-id="774f6-371">- Built-in High Availability, with a database-level SLA.</span></span> <span data-ttu-id="774f6-372">-総保有コスト (TCO) は、使用した分だけ支払います (ライセンスは必要ありません)。</span><span class="sxs-lookup"><span data-stu-id="774f6-372">- Low total cost of ownership (TCO) because you pay only for what you use (no license required).</span></span> <span data-ttu-id="774f6-373">-小さいデータベースを大量に処理する場合に適しています (&lt;はそれぞれ 500 GB です)。</span><span class="sxs-lookup"><span data-stu-id="774f6-373">- Good for handling large numbers of smaller databases (&lt;=500 GB each).</span></span> <span data-ttu-id="774f6-374">-新しいデータベースを動的に作成して、スケールアウトを有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-374">- Easy to dynamically create new databases to enable scale-out.</span></span> | <span data-ttu-id="774f6-375">***プロフェッショナル***-機能とオンプレミスの SQL Server との互換性。</span><span class="sxs-lookup"><span data-stu-id="774f6-375">***Pros*** - Feature-compatible with on-premises SQL Server.</span></span> <span data-ttu-id="774f6-376">-VM レベルの SLA を使用して、2つ以上の Vm で AlwaysOn を使用して SQL Server[高可用性](https://www.microsoft.com/sqlserver/solutions-technologies/mission-critical-operations/high-availability.aspx)を実装できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-376">- Can implement SQL Server [High Availability via AlwaysOn](https://www.microsoft.com/sqlserver/solutions-technologies/mission-critical-operations/high-availability.aspx) in 2+ VMs, with VM-level SLA.</span></span> <span data-ttu-id="774f6-377">-SQL の管理方法を完全に制御できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-377">- You have complete control over how SQL is managed.</span></span> <span data-ttu-id="774f6-378">-既に所有している SQL ライセンスを再利用することも、1時間ごとに支払いを行うこともできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-378">- Can re-use SQL licenses you already own, or pay by the hour for one.</span></span> <span data-ttu-id="774f6-379">-より小さい (1 TB 以上) データベースを処理する場合に適しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-379">- Good for handling fewer but larger (1 TB+) databases.</span></span> |
| <span data-ttu-id="774f6-380">**短所**-オンプレミスの SQL Server ( [CLR 統合](https://technet.microsoft.com/library/ms131102.aspx)の欠如、 [tde](https://technet.microsoft.com/library/bb934049.aspx)、[圧縮サポート](https://technet.microsoft.com/library/cc280449.aspx)、 [SQL Server Reporting Services](https://technet.microsoft.com/library/ms159106.aspx)など) と比較した一部の機能のギャップ (データベースサイズの上限は 500 gb)。</span><span class="sxs-lookup"><span data-stu-id="774f6-380">**Cons** - Some feature gaps compared to on-premises SQL Server (lack of [CLR integration](https://technet.microsoft.com/library/ms131102.aspx), [TDE](https://technet.microsoft.com/library/bb934049.aspx), [compression support](https://technet.microsoft.com/library/cc280449.aspx), [SQL Server Reporting Services](https://technet.microsoft.com/library/ms159106.aspx), etc.) - Database size limit of 500GB.</span></span> | <span data-ttu-id="774f6-381">***短所***-更新プログラム/パッチ (OS と SQL) は、ユーザーの責任として、db の責任 (1 秒あたりの入力/出力操作) は約 8000 (16 データドライブを使用) に制限されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-381">***Cons*** - Updates/patches (OS and SQL) are your responsibility - Creation and management of DBs are your responsibility - Disk IOPS (input/output operations per second) limited to about 8000 (via 16 data drives).</span></span> |

<span data-ttu-id="774f6-382">VM で SQL Server を使用する場合は、独自の SQL Server ライセンスを使用することも、1時間分の料金を支払うこともできます。</span><span class="sxs-lookup"><span data-stu-id="774f6-382">If you want to use SQL Server in a VM, you can use your own SQL Server license, or you can pay for one by the hour.</span></span> <span data-ttu-id="774f6-383">たとえば、ポータルまたは REST API 経由で、SQL Server イメージを使用して新しい VM を作成できます。</span><span class="sxs-lookup"><span data-stu-id="774f6-383">For example, in the portal or via the REST API you can create a new VM using a SQL Server image.</span></span>

![SQL Server を使用した VM の作成](data-storage-options/_static/image16.png)

![SQL Server VM イメージの一覧](data-storage-options/_static/image17.png)

<span data-ttu-id="774f6-386">SQL Server イメージを使用して VM を作成すると、VM の使用量に基づいて、SQL Server ライセンスコストが1時間ごとに評価されます。</span><span class="sxs-lookup"><span data-stu-id="774f6-386">When you create a VM with a SQL Server image, we pro-rate the SQL Server license cost by the hour based on your usage of the VM.</span></span> <span data-ttu-id="774f6-387">2か月に1回だけ実行するプロジェクトがある場合は、1時間分の料金がかかります。</span><span class="sxs-lookup"><span data-stu-id="774f6-387">If you have a project that's only going to run for a couple of months, it's cheaper to pay by the hour.</span></span> <span data-ttu-id="774f6-388">プロジェクトが長年にわたって最後になると思われる場合は、通常どおりにライセンスを購入する方が安価です。</span><span class="sxs-lookup"><span data-stu-id="774f6-388">If you think your project is going to last for years, it's cheaper to buy the license the way you normally do.</span></span>

## <a name="summary"></a><span data-ttu-id="774f6-389">まとめ</span><span class="sxs-lookup"><span data-stu-id="774f6-389">Summary</span></span>

<span data-ttu-id="774f6-390">クラウドコンピューティングを使用すると、アプリケーションのニーズに合わせてデータストレージアプローチを最大限に活用し、対応することができます。</span><span class="sxs-lookup"><span data-stu-id="774f6-390">Cloud computing makes it practical to mix and match data storage approaches to best fit the needs of your application.</span></span> <span data-ttu-id="774f6-391">新しいアプリケーションを構築している場合は、ここに記載されている質問について慎重に検討して、アプリケーションの規模が拡大しても引き続き適切に機能する方法を選択してください。</span><span class="sxs-lookup"><span data-stu-id="774f6-391">If you're building a new application, think carefully about the questions listed here in order to pick approaches that will continue to work well when your application grows.</span></span> <span data-ttu-id="774f6-392">[次の章](data-partitioning-strategies.md)では、複数のデータストレージアプローチを組み合わせるために使用できるパーティション分割方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="774f6-392">The [next chapter](data-partitioning-strategies.md) will explain some partitioning strategies that you can use to combine multiple data storage approaches.</span></span>

## <a name="resources"></a><span data-ttu-id="774f6-393">リソース</span><span class="sxs-lookup"><span data-stu-id="774f6-393">Resources</span></span>

<span data-ttu-id="774f6-394">詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="774f6-394">For more information, see the following resources.</span></span>

<span data-ttu-id="774f6-395">データベースプラットフォームの選択:</span><span class="sxs-lookup"><span data-stu-id="774f6-395">Choosing a database platform:</span></span>

- <span data-ttu-id="774f6-396">[拡張性の高いソリューションのためのデータアクセス: SQL、NoSQL、および多言語の永続性を使用](https://aka.ms/dag-doc)します。</span><span class="sxs-lookup"><span data-stu-id="774f6-396">[Data Access for Highly-Scalable Solutions: Using SQL, NoSQL, and Polyglot Persistence](https://aka.ms/dag-doc).</span></span> <span data-ttu-id="774f6-397">Microsoft のパターンとプラクティスによって、クラウドアプリケーションで使用できるさまざまな種類のデータストアについて詳しく解説しています。</span><span class="sxs-lookup"><span data-stu-id="774f6-397">E-book by Microsoft Patterns and Practices that goes in depth into the different kinds of data stores available for cloud applications.</span></span>
- <span data-ttu-id="774f6-398">[Microsoft のパターンとプラクティス-Azure のガイダンス](https://msdn.microsoft.com/library/ff898430.aspx)。</span><span class="sxs-lookup"><span data-stu-id="774f6-398">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/ff898430.aspx).</span></span> <span data-ttu-id="774f6-399">「データの一貫性の概要」、「データのレプリケーションと同期のガイダンス」、「インデックステーブルパターン」、「具体化されたビューパターン」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="774f6-399">See Data Consistency Primer, Data Replication and Synchronization Guidance, Index Table pattern, Materialized View pattern.</span></span>
- <span data-ttu-id="774f6-400">[BASE: Acid の代替手段](http://queue.acm.org/detail.cfm?id=1394128)です。</span><span class="sxs-lookup"><span data-stu-id="774f6-400">[BASE: An Acid Alternative](http://queue.acm.org/detail.cfm?id=1394128).</span></span> <span data-ttu-id="774f6-401">データの一貫性とスケーラビリティのトレードオフについての記事です。</span><span class="sxs-lookup"><span data-stu-id="774f6-401">Article about tradeoffs between data consistency and scalability.</span></span>
- <span data-ttu-id="774f6-402">7[週間の7つのデータベース: 最新のデータベースと NoSQL 移動のガイドです](https://www.amazon.com/Seven-Databases-Weeks-Modern-Movement/dp/1934356921)。</span><span class="sxs-lookup"><span data-stu-id="774f6-402">[Seven Databases in Seven Weeks: A Guide to Modern Databases and the NoSQL Movement](https://www.amazon.com/Seven-Databases-Weeks-Modern-Movement/dp/1934356921).</span></span> <span data-ttu-id="774f6-403">Eric Redmond と Jim r. Wilson の書籍です。</span><span class="sxs-lookup"><span data-stu-id="774f6-403">Book by Eric Redmond and Jim R. Wilson.</span></span> <span data-ttu-id="774f6-404">現在利用可能なデータストレージプラットフォームの範囲についてご紹介します。</span><span class="sxs-lookup"><span data-stu-id="774f6-404">Highly recommended for introducing yourself to the range of data storage platforms available today.</span></span>

<span data-ttu-id="774f6-405">SQL Server と SQL Database の選択:</span><span class="sxs-lookup"><span data-stu-id="774f6-405">Choosing between SQL Server and SQL Database:</span></span>

- <span data-ttu-id="774f6-406">[SQL Database ガイダンスの Premium プレビュー](https://msdn.microsoft.com/library/windowsazure/dn369873.aspx)。</span><span class="sxs-lookup"><span data-stu-id="774f6-406">[Premium Preview for SQL Database Guidance](https://msdn.microsoft.com/library/windowsazure/dn369873.aspx).</span></span> <span data-ttu-id="774f6-407">SQL Database Premium の概要と、SQL Database Web edition および Business edition から選択する場合のガイダンスについて説明します。</span><span class="sxs-lookup"><span data-stu-id="774f6-407">An introduction to SQL Database Premium, and guidance on when to choose it over the SQL Database Web and Business editions.</span></span>
- <span data-ttu-id="774f6-408">[ガイドラインと制限事項 (Azure SQL Database)](https://msdn.microsoft.com/library/windowsazure/ff394102.aspx)。</span><span class="sxs-lookup"><span data-stu-id="774f6-408">[Guidelines and Limitations (Azure SQL Database)](https://msdn.microsoft.com/library/windowsazure/ff394102.aspx).</span></span> <span data-ttu-id="774f6-409">SQL Database の制限事項に関するドキュメントにリンクされたポータルページ。 SQL Database がサポートしていない SQL Server の機能に重点を置いています。</span><span class="sxs-lookup"><span data-stu-id="774f6-409">Portal page that links to documentation about limitations of SQL Database, including one that focuses on SQL Server features that SQL Database doesn't support.</span></span>
- <span data-ttu-id="774f6-410">[Azure Virtual Machines で SQL Server](https://msdn.microsoft.com/library/windowsazure/jj823132.aspx)ます。</span><span class="sxs-lookup"><span data-stu-id="774f6-410">[SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/jj823132.aspx).</span></span> <span data-ttu-id="774f6-411">Azure での SQL Server の実行に関するドキュメントへのリンクが掲載されているポータルページ。</span><span class="sxs-lookup"><span data-stu-id="774f6-411">Portal page that links to documentation about running SQL Server in Azure.</span></span>
- <span data-ttu-id="774f6-412">[Scott Guthrie は、Azure の SQL データベースについて説明して](https://azure.microsoft.com/documentation/videos/sql-in-azure-scottgu/)います。</span><span class="sxs-lookup"><span data-stu-id="774f6-412">[Scott Guthrie explains SQL Databases in Azure](https://azure.microsoft.com/documentation/videos/sql-in-azure-scottgu/).</span></span> <span data-ttu-id="774f6-413">6分間のビデオでは、Scott Guthrie による SQL Database の概要について説明します。</span><span class="sxs-lookup"><span data-stu-id="774f6-413">6-minute video introduction to SQL Database by Scott Guthrie.</span></span>
- <span data-ttu-id="774f6-414">[Azure Virtual Machines で SQL Server するためのアプリケーションパターンと開発戦略](https://msdn.microsoft.com/library/windowsazure/dn574746.aspx)。</span><span class="sxs-lookup"><span data-stu-id="774f6-414">[Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/dn574746.aspx).</span></span>

<span data-ttu-id="774f6-415">ASP.NET Web アプリでの Entity Framework と SQL Database の使用</span><span class="sxs-lookup"><span data-stu-id="774f6-415">Using Entity Framework and SQL Database in an ASP.NET Web app</span></span>

- <span data-ttu-id="774f6-416">[MVC 5 を使用した EF 6 でのはじめに](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)。</span><span class="sxs-lookup"><span data-stu-id="774f6-416">[Getting Started with EF 6 using MVC 5](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md).</span></span> <span data-ttu-id="774f6-417">「9パートチュートリアルシリーズ」では、EF を使用してデータベースを Azure にデプロイし、SQL Database する MVC アプリを構築する手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="774f6-417">Nine-part tutorial series that walks you through building an MVC app that uses EF and deploys the database to Azure and SQL Database.</span></span>
- <span data-ttu-id="774f6-418">[Visual Studio を使用した ASP.NET Web デプロイ](../../../../web-forms/overview/deployment/visual-studio-web-deployment/introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="774f6-418">[ASP.NET Web Deployment using Visual Studio](../../../../web-forms/overview/deployment/visual-studio-web-deployment/introduction.md).</span></span> <span data-ttu-id="774f6-419">「12パートチュートリアルシリーズ」では、EF Code First を使用してデータベースを配置する方法についてさらに詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="774f6-419">Twelve-part tutorial series that goes into more depth about how to deploy a database by using EF Code First.</span></span>
- <span data-ttu-id="774f6-420">[メンバーシップ、OAuth、SQL Database を持つ Secure ASP.NET MVC 5 アプリを Azure の Web サイトにデプロイ](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-app-membership-oauth-sql-database/)します。</span><span class="sxs-lookup"><span data-stu-id="774f6-420">[Deploy a Secure ASP.NET MVC 5 app with Membership, OAuth, and SQL Database to an Azure Web Site](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-app-membership-oauth-sql-database/).</span></span> <span data-ttu-id="774f6-421">認証を使用する web アプリを作成する手順を説明したチュートリアルです。メンバーシップデータベースにアプリケーションテーブルを格納し、データベーススキーマを変更して、Azure にアプリをデプロイします。</span><span class="sxs-lookup"><span data-stu-id="774f6-421">Step-by-step tutorial that walks you through creating a web app that uses authentication, stores application tables in the membership database, modifies the database schema, and deploys the app to Azure.</span></span>
- <span data-ttu-id="774f6-422">[ASP.NET Data Access コンテンツマップ](https://go.microsoft.com/fwlink/p/?LinkId=282414)。</span><span class="sxs-lookup"><span data-stu-id="774f6-422">[ASP.NET Data Access Content Map](https://go.microsoft.com/fwlink/p/?LinkId=282414).</span></span> <span data-ttu-id="774f6-423">EF と SQL Database を操作するためのリソースへのリンク。</span><span class="sxs-lookup"><span data-stu-id="774f6-423">Links to resources for working with EF and SQL Database.</span></span>

<span data-ttu-id="774f6-424">Azure での MongoDB の使用:</span><span class="sxs-lookup"><span data-stu-id="774f6-424">Using MongoDB on Azure:</span></span>

- <span data-ttu-id="774f6-425">[MongoLab-Azure での MongoDB](http://msopentech.com/opentech-projects/mongolab-mongodb-on-windows-azure/)。</span><span class="sxs-lookup"><span data-stu-id="774f6-425">[MongoLab - MongoDB on Azure](http://msopentech.com/opentech-projects/mongolab-mongodb-on-windows-azure/).</span></span> <span data-ttu-id="774f6-426">Azure での MongoDB の実行に関するドキュメントのポータルページです。</span><span class="sxs-lookup"><span data-stu-id="774f6-426">Portal page for documentation about running MongoDB on Azure.</span></span>
- <span data-ttu-id="774f6-427">[Azure の仮想マシンで実行されている MongoDB に接続する azure の web サイトを作成](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/)します。</span><span class="sxs-lookup"><span data-stu-id="774f6-427">[Create an Azure web site that connects to MongoDB running on a virtual machine in Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/).</span></span> <span data-ttu-id="774f6-428">ASP.NET web アプリケーションで MongoDB データベースを使用する方法を示すステップバイステップのチュートリアルです。</span><span class="sxs-lookup"><span data-stu-id="774f6-428">Step-by-step tutorial that shows how to use a MongoDB database in an ASP.NET web application.</span></span>

<span data-ttu-id="774f6-429">HDInsight (Azure 上の Hadoop):</span><span class="sxs-lookup"><span data-stu-id="774f6-429">HDInsight (Hadoop on Azure):</span></span>

- <span data-ttu-id="774f6-430">[HDInsight](https://azure.microsoft.com/documentation/services/hdinsight/)。</span><span class="sxs-lookup"><span data-stu-id="774f6-430">[HDInsight](https://azure.microsoft.com/documentation/services/hdinsight/).</span></span> <span data-ttu-id="774f6-431">[Azure](https://azure.microsoft.com/) web サイトの HDInsight のドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="774f6-431">Portal to HDInsight documentation on the [Azure](https://azure.microsoft.com/) website.</span></span>
- <span data-ttu-id="774f6-432">[Hadoop と HDInsight: Azure のビッグデータ](https://msdn.microsoft.com/magazine/dn385705.aspx)。</span><span class="sxs-lookup"><span data-stu-id="774f6-432">[Hadoop and HDInsight: Big Data in Azure](https://msdn.microsoft.com/magazine/dn385705.aspx).</span></span> <span data-ttu-id="774f6-433">Bruno Terkaly と高橋さん Villalobos による MSDN マガジン記事。 Azure での Hadoop の導入。</span><span class="sxs-lookup"><span data-stu-id="774f6-433">MSDN Magazine article by Bruno Terkaly and Ricardo Villalobos, introducing Hadoop on Azure.</span></span>
- <span data-ttu-id="774f6-434">[Microsoft のパターンとプラクティス-Azure のガイダンス](https://msdn.microsoft.com/library/dn568099.aspx)。</span><span class="sxs-lookup"><span data-stu-id="774f6-434">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="774f6-435">MapReduce パターンを参照してください。</span><span class="sxs-lookup"><span data-stu-id="774f6-435">See MapReduce pattern.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="774f6-436">[前へ](single-sign-on.md)
> [次へ](data-partitioning-strategies.md)</span><span class="sxs-lookup"><span data-stu-id="774f6-436">[Previous](single-sign-on.md)
[Next](data-partitioning-strategies.md)</span></span>
