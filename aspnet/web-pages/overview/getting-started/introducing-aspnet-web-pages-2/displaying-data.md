---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
title: 'ASP.NET Web ページの概要: データの表示 |Microsoft Docs'
author: Rick-Anderson
description: このチュートリアルでは、WebMatrix でデータベースを作成する方法と、ASP.NET Web ページ (Razor) を使用してデータベースデータをページに表示する方法について説明します。 この例では、y...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: b3a006a0-3ea2-4d45-b833-e20e3a3c0a1a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
msc.type: authoredcontent
ms.openlocfilehash: 9e665ca8dd064c23a8b8bd3593014969d0c3da48
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78421486"
---
# <a name="introducing-aspnet-web-pages---displaying-data"></a>ASP.NET Web ページの概要-データの表示

[Tom FitzMacken](https://github.com/tfitzmac)

> このチュートリアルでは、WebMatrix でデータベースを作成する方法と、ASP.NET Web ページ (Razor) を使用してデータベースデータをページに表示する方法について説明します。 この記事では、 [ASP.NET Web ページプログラミングの概要につい](../introducing-razor-syntax-c.md)て説明します。
> 
> ここでは、次の内容について学習します。
> 
> - WebMatrix ツールを使用してデータベースとデータベーステーブルを作成する方法について説明します。
> - WebMatrix ツールを使用してデータベースにデータを追加する方法について説明します。
> - ページのデータベースのデータを表示する方法。
> - ASP.NET Web ページで SQL コマンドを実行する方法について説明します。
> - `WebGrid` ヘルパーをカスタマイズしてデータ表示を変更し、ページングと並べ替えを追加する方法について説明します。
>   
> 
> 説明する機能/テクノロジ:
> 
> - WebMatrix データベースツール。
> - `WebGrid` ヘルパー。

## <a name="what-youll-build"></a>作成するアプリケーション:

前のチュートリアルでは、ASP.NET Web ページ (*cshtml*ファイル) を Razor 構文の基本とヘルパーに導入しました。 このチュートリアルでは、シリーズの残りの部分で使用する実際の web アプリケーションの作成を開始します。 アプリは、ムービーに関する情報を表示、追加、変更、および削除できる単純なムービーアプリケーションです。

このチュートリアルを完了すると、次のようなムービーの一覧を表示できるようになります。

![CSS クラス名に設定されたパラメーターを含む WebGrid 表示](displaying-data/_static/image1.png)

ただし、開始するには、データベースを作成する必要があります。

## <a name="a-very-brief-introduction-to-databases"></a>データベースの概要

このチュートリアルでは、データベースの briefest の概要についてのみ説明します。 データベースの使用経験がある場合は、この短いセクションを省略できます。

データベースには、顧客、注文、および仕入先のテーブルや、学生、教師、クラス、グレードなどの情報 &mdash; を含むテーブルが1つ以上含まれています。 構造的には、データベーステーブルはスプレッドシートに似ています。 一般的なアドレス帳を想像してください。 アドレス帳の各エントリ (つまり、各ユーザーについて) には、名、姓、住所、電子メールアドレス、電話番号など、いくつかの情報が含まれています。

![単純なグリッドとしてのサンプルデータベーステーブル](displaying-data/_static/image2.png)

(行は*レコード*と呼ばれることもあり、列は*フィールド*と呼ばれることもあります)。

ほとんどのデータベーステーブルでは、テーブルには、顧客番号や勘定科目番号などの一意の値を含む列が必要です。 この値はテーブルの*主キー*と呼ばれ、テーブルの各行を識別するために使用します。 この例では、ID 列は、前の例で示したアドレス帳の主キーです。

Web アプリケーションで行う作業の多くは、データベースから情報を読み取り、ページに表示することで構成されます。 また、多くの場合、ユーザーから情報を収集してデータベースに追加するか、データベースに既に存在するレコードを変更します。 (このすべての操作については、このチュートリアルセットで説明します)。

データベース作業は非常に複雑で、特別な知識が必要になる場合があります。 ただし、このチュートリアルでは、基本的な概念について理解しておく必要があります。これについてはすべて説明します。

## <a name="creating-a-database"></a>データベースを作成します。

WebMatrix には、データベースを簡単に作成したり、データベースにテーブルを作成したりするためのツールが含まれています。 (データベースの構造は、データベースの*スキーマ*と呼ばれます)。このチュートリアルセットでは、&mdash; 映画にテーブルが1つだけ含まれるデータベースを作成します。

WebMatrix をまだ開いていない場合は開き、前のチュートリアルで作成した Webweb ムービーサイトを開きます。

左側のウィンドウで、 **[データベース]** ワークスペースをクリックします。

![WebMatrix データベースワークスペースタブ](displaying-data/_static/image3.png)

リボンが変更され、データベース関連のタスクが表示されます。 リボンの **[新しいデータベース]** をクリックします。

![WebMatrix リボンの [新しいデータベース] ボタン](displaying-data/_static/image4.png)

WebMatrix では、&mdash; サイトと同じ名前の SQL Server の CE データベース ( *.sdf*ファイル) が*作成され*ます。 (これはここでは実行しませんが、ファイル名は *.sdf*拡張子が付いている限り、好きな名前に変更できます)。

## <a name="creating-a-table"></a>テーブルの作成

リボンの **[新しいテーブル]** をクリックします。 WebMatrix では、テーブルデザイナーが新しいタブで開きます。 ([新しいテーブル] オプションが使用できない場合は、左側のツリービューで新しいデータベースが選択されていることを確認してください)。

![WebMatrix リボンの [新しいテーブル] ボタン](displaying-data/_static/image5.png)

上部のテキストボックス (ウォーターマークの [テーブル名の入力] と表示されます) で、「ムービー」と入力します。

![WebMatrix データベースデザイナーでのテーブル名の入力](displaying-data/_static/image6.png)

テーブル名の下のペインには、個々の列を定義します。 このチュートリアルの*ムービー*テーブルでは、 *ID*、*タイトル*、*ジャンル*、*年*など、いくつかの列のみを作成します。

**[名前]** ボックスに「ID」と入力します。 ここで値を入力すると、新しい列のすべてのコントロールがアクティブになります。

Tab キーを押して **[データ型]** の一覧に入力し、 **[int]** を選択します。この値は、ID 列に整数 (数値) データが含まれることを指定します。

> [!NOTE]
> ここではそれ以上のことはありませんが、標準の Windows キーボードジェスチャを使用してこのグリッド内を移動できます。 たとえば、フィールド間で tab キーを押すと、リスト内の項目を選択するために入力を開始できます。

Tab キーを使用して、**既定値**ボックスの後に移動します (空白のままにします)。 **[Is Primary Key]** チェックボックスをオンにして選択します。 このオプションを使用すると、 *ID*列に個々の行を識別するデータが含まれることがデータベースに通知されます。 (つまり、各行の ID 列には、その行を検索するために使用できる一意の値が含まれます)。

**[Id]** オプションを選択します。 このオプションは、新しい行ごとに次の連続する数値を自動的に生成するようにデータベースに指示します。 **[Is Identity]** オプションは、 **[主キー]** オプションも選択した場合にのみ機能します。

次のグリッド行をクリックするか、Tab キーを2回押して、現在の行を完成させます。 どちらのジェスチャも、現在の行を保存し、次の行を開始します。 **既定値**の列に  **Null**」と表示されていることに注意してください。 (既定値の既定値は Null です)。

新しい**ID**列の定義が完了すると、デザイナーは次の図のようになります。

![ムービーテーブルの ID 列を定義した後の WebMatrix データベースデザイナー](displaying-data/_static/image7.png)

次の列を作成するには、 **[名前]** 列のボックス内をクリックします。 列に「Title」と入力し、 **[データ型]** の値として **[nvarchar]** を選択します。 **Nvarchar**の "var" 部分は、この列のデータが、レコードごとにサイズが異なる可能性がある文字列であることをデータベースに伝えます。 "N" プレフィックスは "national" を表します。これは、フィールドが任意のアルファベットまたは書記体系の文字データを保持できること、つまり、フィールドが Unicode データを保持していることを示します。

**[Nvarchar]** を選択すると、フィールドの最大長を入力できる別のボックスが表示されます。 このチュートリアルで使用するムービータイトルが50文字を超えないことを想定して、50を入力します。

**既定値**をスキップし、[ **null**を許容] オプションをオフにします。 タイトルのないデータベースへのムービーの入力をデータベースに許可しないようにします。

次の行に進むと、デザイナーは次の図のようになります。

![ムービーテーブルのタイトル列を定義した後の WebMatrix データベースデザイナー](displaying-data/_static/image8.png)

この手順を繰り返して、"Genre" という名前の列を作成します。長さを除き、30に設定します。

"Year" という名前の別の列を作成します。 [データ型] で、[ **nchar** ( **nvarchar**以外)] を選択し、長さを4に設定します。 年については、"1995" または "2010" のような4桁の数字を使用します。そのため、可変サイズの列は必要ありません。

完成した設計は次のようになります。

![すべてのフィールドがムービーテーブルに対して定義された後の WebMatrix データベースデザイナー](displaying-data/_static/image9.png)

Ctrl + S キーを押すか、クイックアクセスツールバーの **[保存]** ボタンをクリックします。 タブを閉じて、データベースデザイナーを閉じます。

## <a name="adding-some-example-data"></a>サンプルデータの追加

このチュートリアルシリーズの後半では、フォームに新しいムービーを入力できるページを作成します。 ただし、ここでは、ページに表示できるデータの例をいくつか追加することができます。

WebMatrix の **[データベース]** ワークスペースに、前に作成した *.sdf*ファイルを示すツリーが表示されていることを確認します。 新しい *.sdf*ファイルのノードを開き、 **[テーブル]** ノードを開きます。

![[ムービーに対してツリーを開く] という WebMatrix データベースワークスペース](displaying-data/_static/image10.png)

**[ムービー]** ノードを右クリックし、 **[データ]** を選択します。 WebMatrix では、次のようなグリッドが開き、*ムービー*テーブルのデータを入力できます。

![WebMatrix のデータベースエントリグリッド (空)](displaying-data/_static/image11.png)

**[タイトル]** 列をクリックし、「When Harry が大いに一致した場合」と入力します。 **Genre**列に移動し (Tab キーを使用できます)、「ロマンチックコメディ」と入力します。 **年**の列に移動し、「1989」と入力します。

![1つのレコードを含む WebMatrix のデータベースエントリグリッド](displaying-data/_static/image12.png)

Enter キーを押すと、WebMatrix によって新しいムービーが保存されます。 **ID**列が入力されていることに注意してください。

![1つのレコードと自動生成 ID を持つ WebMatrix のデータベースエントリグリッド](displaying-data/_static/image13.png)

別のムービーを入力します (たとえば、"ドラマ"、""、"1939")。 ID 列にもう一度入力します。

![2つのレコードと自動生成された Id を持つ WebMatrix のデータベースエントリグリッド](displaying-data/_static/image14.png)

3番目のムービー (たとえば、"Ghostbusters"、"コメディ") を入力します。 実験として、**年**の列を空白のままにして、enter キーを押します。 **[Null を許容]** オプションを選択しなかったため、データベースにエラーが表示されます。

![必要な列の値が空白のままになっていると、' 無効なデータ ' エラーが表示される](displaying-data/_static/image15.png)

**[OK]** をクリックして戻って、エントリ ("Ghostbusters" の年は 1984) を修正し、enter キーを押します。

8個以上のムービーを作成します。 (8 を入力すると、後でページングを簡単に操作できるようになります。 しかし、それが多すぎる場合は、今すぐ数だけ入力してください)。実際のデータは重要ではありません。

![いずれかのレコードを含む WebMatrix のデータベースエントリグリッド](displaying-data/_static/image16.png)

すべてのムービーをエラーなしで入力した場合、ID 値は順次です。 不完全なムービーレコードを保存しようとした場合、ID 番号が連続していない可能性があります。 そうすれば大丈夫です。 これらの数値には固有の意味はありません。重要なのは、これらが*ムービー*テーブル内で一意であることだけです。

データベースデザイナーを含むタブを閉じます。

これで、このデータを web ページに表示できるようになりました。

## <a name="displaying-data-in-a-page-by-using-the-webgrid-helper"></a>WebGrid Helper を使用してページ内のデータを表示する

ページにデータを表示するには、`WebGrid` ヘルパーを使用します。 このヘルパーは、グリッドまたはテーブル (行と列) に表示を生成します。 ご覧のように、書式設定やその他の機能を使用してグリッドを調整できます。

グリッドを実行するには、数行のコードを記述する必要があります。 これらの数行は、このチュートリアルで実行するほとんどすべてのデータアクセスに対して、一種のパターンとして機能します。

> [!NOTE]
> 実際には、ページにデータを表示するためのオプションが多数あります。`WebGrid` ヘルパーはただ1つです。 このチュートリアルでは、データを表示するための最も簡単な方法であるため、このチュートリアルではこれを選択しました。これは、柔軟性に優れているためです。 次のチュートリアルセットでは、ページ内のデータを操作するための "手動" の方法を使用する方法について説明します。これにより、データの表示方法をより直接的に制御できるようになります。

WebMatrix の左側のウィンドウで、 **[ファイル]** ワークスペースをクリックします。

作成した新しいデータベースは、 *App\_Data*フォルダーにあります。 フォルダーが既に存在していない場合は、新しいデータベース用に作成されます。 (以前にヘルパーをインストールした場合は、フォルダーが存在していた可能性があります)。

ツリービューで、web サイトのルートを選択します。 Web サイトのルートを選択する必要があります。それ以外の場合は、新しいファイルが App\_Data フォルダーに追加される可能性があります。

リボンで **[新規]** をクリックします。 **[ファイルの種類の選択]** ボックスで、 **[CSHTML]** を選択します。

**[名前]** ボックスに、新しいページに「"ムービー. cshtml" という名前を指定します。

![' ムービー ' ページが表示された [ファイルの種類を選択] ダイアログボックス](displaying-data/_static/image17.png)

**[OK]** をクリックします。 WebMatrix は、一部のスケルトン要素を含む新しいファイルを開きます。 まず、データベースからデータを取得するためのコードを記述します。 次に、ページにマークアップを追加して、実際にデータを表示します。

### <a name="writing-the-data-query-code"></a>データクエリコードの記述

ページの上部で、`@{` と `}` の文字の間に、次のコードを入力します。 (始めかっこと終わりかっこの間にこのコードを入力してください)。

[!code-csharp[Main](displaying-data/samples/sample1.cs)]

最初の行では、前に作成したデータベースが開きます。これは、データベースに対して何らかの処理を実行する前の最初の手順です。 開くデータベースの `Database.Open` メソッド名を指定します。 名前には *.sdf*を含めないことに注意してください。 `Open` メソッドでは、 *.sdf*ファイル (つまり*web\* ) が検索され、 *.Sdf*ファイルが*App\_Data*フォルダーにあることを前提としています。 (前述のように、 *App\_Data*フォルダーは予約されています。このシナリオは、ASP.NET がその名前について想定している場所の1つです)。

データベースを開くと、そのデータベースへの参照が `db`という名前の変数に格納されます。 (名前は任意です)。`db` 変数は、データベースとの対話を終了する方法です。

2行目では、実際には `Query` メソッドを使用してデータベースデータをフェッチします。 このコードの動作に注意してください。 `db` 変数には、開いているデータベースへの参照があり、`db` 変数 (`db.Query`) を使用して `Query` メソッドを呼び出します。

クエリ自体は SQL `Select` ステートメントです。 (SQL の概要については、後述の説明を参照してください)。ステートメントでは、`Movies` は、クエリを実行するテーブルを識別します。 `*` 文字は、クエリがテーブルからすべての列を返す必要があることを指定します。 (列をコンマで区切って個別に一覧表示することもできます)。

クエリの結果 (存在する場合) が返され、`selectedData` 変数で使用できるようになります。 ここでも、変数には任意の名前を付けることができます。

最後に、3行目では、`WebGrid` ヘルパーのインスタンスを使用することを ASP.NET に指示します。 `new` キーワードを使用してヘルパーオブジェクトを作成 (*インスタンス化*) し、`selectedData` 変数を使用してクエリ結果を渡します。 新しい `WebGrid` オブジェクトは、データベースクエリの結果と共に、`grid` 変数で使用できるようになります。 実際にページのデータを表示するには、結果が必要になります。

この段階で、データベースが開かれ、必要なデータが得られました。また、そのデータを使用して `WebGrid` ヘルパーを準備しました。 次に、ページにマークアップを作成します。

> [!TIP] 
> 
> **構造化照会言語 (SQL)**
> 
> SQL は、データベース内のデータを管理するためにほとんどのリレーショナルデータベースで使用される言語です。 これには、データを取得して更新するためのコマンドが含まれています。このコマンドを使用すると、データベーステーブルのデータを作成、変更、および管理できます。 SQL は、プログラミング言語 (C#) のように異なります。 SQL を使用すると、データベースに必要なものが通知され、データベースのジョブによってデータを取得したりタスクを実行したりする方法がわかります。 いくつかの SQL コマンドとその実行内容の例を次に示します。
> 
> `Select * From Movies`
> 
> `SELECT ID, Name, Price FROM Product WHERE Price > 10.00 ORDER BY Name`
> 
> 最初の `Select` ステートメントは、`*`によって指定されたすべての列を、*ムービー*テーブルから取得します。
> 
> 2番目の `Select` ステートメントは、Price 列の値が10を超える*Product*テーブルのレコードから、ID、Name、および price 列をフェッチします。 このコマンドは、Name 列の値に基づいて、結果をアルファベット順に返します。 価格条件に一致するレコードがない場合、コマンドは空のセットを返します。
> 
> `INSERT INTO Product (Name, Description, Price) VALUES ('Croissant', 'A flaky delight', 1.99)`
> 
> このコマンドは、 *Product*テーブルに新しいレコードを挿入し、Name 列を "クロワッサン" に、Description 列を "a 不安定な満足させる" に、price を1.99 に設定します。
> 
> 数値以外の値を指定する場合に、値を単一引用符 (いない二重引用符、C# と同様) で囲むことに注意してください。 これらの引用符は、テキストまたは日付の値を囲むのではなく、数字の周りに使用します。
> 
> `DELETE FROM Product WHERE ExpirationDate < '01/01/2008'`
> 
> このコマンドは、有効期限の日付列が2008年1月1日より前の*製品*テーブル内のレコードを削除します。 (もちろん、このコマンドでは、 *Product*テーブルにこのような列があることを前提としています)。日付は MM/DD/YYYY 形式で入力しますが、ロケールに使用する形式で入力する必要があります。
> 
> `Insert` と `Delete` のコマンドでは、結果セットは返されません。 代わりに、コマンドによって影響を受けたレコードの数を示す数値が返されます。
> 
> これらの操作 (レコードの挿入や削除など) の一部では、操作を要求しているプロセスがデータベース内で適切な権限を持っている必要があります。 そのため、データベースに接続するときに、多くの場合、運用データベースではユーザー名とパスワードを入力する必要があります。
> 
> SQL コマンドは多数ありますが、これらはすべて、ここに表示されるコマンドのようなパターンに従います。 SQL コマンドを使用して、データベーステーブルを作成したり、テーブル内のレコード数をカウントしたり、価格を計算したり、多くの操作を実行したりすることができます。

### <a name="adding-markup-to-display-the-data"></a>データを表示するためのマークアップの追加

`<head>` 要素内で、`<title>` 要素の内容を "映画" に設定します。

[!code-html[Main](displaying-data/samples/sample2.html?highlight=3)]

ページの `<body>` 要素内に、次の項目を追加します。

[!code-html[Main](displaying-data/samples/sample3.html)]

これで終了です。 `grid` 変数は、前のコードで `WebGrid` オブジェクトを作成したときに作成した値です。

WebMatrix ツリービューで、ページを右クリックし、 **[ブラウザーで起動]** を選択します。 次のようなページが表示されます。

![ムービーテーブルからの既定の WebGrid helper の出力](displaying-data/_static/image18.png)

列見出しのリンクをクリックすると、その列で並べ替えることができます。 見出しをクリックして並べ替えることができるのは、 **WebGrid**ヘルパーに組み込まれている機能です。

`GetHtml` メソッドは、名前のように、データを表示するマークアップを生成します。 既定では、`GetHtml` メソッドは HTML `<table>` 要素を生成します。 (必要に応じて、ブラウザーのページのソースを見て、表示を確認できます)。

## <a name="modifying-the-look-of-the-grid"></a>グリッドの外観の変更

`WebGrid` ヘルパーを使用するのは簡単ですが、結果として表示される表示は単純です。 `WebGrid` ヘルパーには、データの表示方法を制御できるあらゆる種類のオプションがあります。 このチュートリアルでは、このチュートリアルでは詳しく説明しませんが、このセクションではこれらのオプションのいくつかについて説明します。 このシリーズの後のチュートリアルでは、いくつかの追加オプションについて説明します。

### <a name="specifying-individual-columns-to-display"></a>表示する個々の列の指定

まず、特定の列のみを表示するように指定できます。 既定では、このグリッドには、*ムービー*テーブルの4つの列がすべて表示されます。

次のように、*ムービーの cshtml*ファイルで、追加した `@grid.GetHtml()` マークアップを置き換えます。

[!code-css[Main](displaying-data/samples/sample4.css)]

表示する列をヘルパーに伝えるには、`GetHtml` メソッドに `columns` パラメーターを含め、列のコレクションを渡します。 コレクションでは、含める各列を指定します。 `grid.Column` オブジェクトを含めることによって、表示する個々の列を指定し、必要なデータ列の名前を渡します。 (これらの列は SQL クエリの結果に含まれる必要があります。 `WebGrid` ヘルパーは、クエリによって返されなかった列を表示することはできません)。

ブラウザーでもう一度 [*ムービー* ] ページを開きます。今度は、次のような画面が表示されます (ID 列が表示されていないことに注意してください)。

![選択された列のみを表示する WebGrid](displaying-data/_static/image19.png)

### <a name="changing-the-look-of-the-grid"></a>グリッドの外観の変更

列を表示するためのオプションは他にもいくつかあります。その一部については、このセットの以降のチュートリアルで説明します。 ここでは、グリッド全体をスタイル指定する方法について説明します。

ページの `<head>` セクション内で、終了 `</head>` タグの直前に、次の `<style>` 要素を追加します。

[!code-css[Main](displaying-data/samples/sample5.css)]

この CSS マークアップは、`grid`、`head`などという名前のクラスを定義します。 これらのスタイル定義を別の *.css*ファイルに配置して、ページにリンクすることもできます。 (実際には、このチュートリアルで後ほど説明します)。しかし、このチュートリアルを簡単にするために、データが表示されるのと同じページ内に配置されています。

これで、これらのスタイルクラスを使用するための `WebGrid` ヘルパーを取得できるようになりました。 ヘルパーには、この目的でいくつかのプロパティ (`tableStyle`など) があります。このクラスに CSS スタイルクラス名を割り当てます。そのクラス名は、ヘルパーによってレンダリングされるマークアップの一部としてレンダリングされます。

`grid.GetHtml` マークアップを次のコードのように変更します。

[!code-css[Main](displaying-data/samples/sample6.css)]

ここでの新機能として、`tableStyle`、`headerStyle`、`alternatingRowStyle` のパラメーターを `GetHtml` メソッドに追加しました。 これらのパラメーターは、少し前に追加した CSS スタイルの名前に設定されています。

ページを実行します。今度は、次のような形式のグリッドが表示されます。

![CSS クラス名に設定されたパラメーターを含む WebGrid 表示](displaying-data/_static/image20.png)

`GetHtml` メソッドが生成された内容を確認するには、ブラウザーでページのソースを確認します。 ここでは詳しく説明しませんが、重要な点は、`tableStyle`のようなパラメーターを指定することで、グリッドが次のような HTML タグを生成することです。

`<table class="grid">`

`<table>` タグには、前に追加した CSS ルールの1つを参照する `class` 属性が追加されています。 このコードは、`GetHtml` メソッドのさまざまなパラメーター &mdash; 基本パターンを示しています。これにより、メソッドがマークアップと共に生成する CSS クラスを参照できるようになります。 CSS クラスを使用して何を行うかは、ユーザーによって決まります。

## <a name="adding-paging"></a>ページングの追加

このチュートリアルの最後のタスクとして、グリッドにページングを追加します。 現時点では、すべてのムービーを一度に表示するのは問題ではありません。 しかし、何百ものムービーを追加した場合は、ページの表示が長くなります。

ページコードで、`WebGrid` オブジェクトを作成する行を次のコードに変更します。

[!code-csharp[Main](displaying-data/samples/sample7.cs)]

以前の唯一の違いは、3に設定された `rowsPerPage` パラメーターを追加したことです。

ページを実行します。 グリッドには、一度に3つの行が表示されます。また、データベース内のムービーのページを表示するためのナビゲーションリンクも表示されます。

![ページングによる WebGrid の表示](displaying-data/_static/image21.png)

## <a name="coming-up-next"></a>次へ

次のチュートリアルでは、Razor および C# のコードを使用して、フォーム内のユーザー入力を取得する方法を学習します。 [ムービー] ページに検索ボックスを追加して、タイトルまたはジャンルで映画を検索できるようにします。

## <a name="complete-listing-for-movies-page"></a>[ムービーの完全な一覧表示] ページ

[!code-cshtml[Main](displaying-data/samples/sample8.cshtml)]

## <a name="additional-resources"></a>その他のリソース

- [Razor 構文を使用した ASP.NET Web プログラミングの概要](https://go.microsoft.com/fwlink/?LinkID=202890)

> [!div class="step-by-step"]
> [前へ](intro-to-web-pages-programming.md)
> [次へ](form-basics.md)
