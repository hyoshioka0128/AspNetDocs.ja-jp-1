---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/publishing
title: ASP.NET Web Pages の概要 - WebMatrix を使用して、サイトの発行 |Microsoft Docs
author: Rick-Anderson
description: このチュートリアルでは、Microsoft WebMatrix と ASP.NET Web Pages を紹介するチュートリアルのセットの最終回です。 T サイトを発行する方法について説明しています.
ms.author: riande
ms.date: 05/28/2015
ms.assetid: 7e85c70e-1a88-4408-8b3d-29611c7713ed
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/publishing
msc.type: authoredcontent
ms.openlocfilehash: 49a841dbda183bf1d59153b83f694c9f517e0b94
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78514384"
---
# <a name="introducing-aspnet-web-pages---publishing-a-site-by-using-webmatrix"></a>WebMatrix を使用してサイトを発行する-ASP.NET Web Pages の概要

[Tom FitzMacken](https://github.com/tfitzmac)

> このチュートリアルでは、Microsoft WebMatrix と ASP.NET Web Pages を紹介するチュートリアルのセットの最終回です。 これには、他のユーザーが操作できるように、サイトをインターネットに公開する方法について説明します。 [ASP.NET Web ページサイトの一貫性のある検索を作成](https://go.microsoft.com/fwlink/?LinkId=251585)することによって、シリーズを完了していることを前提としています。
> 
> 使用して、サイトを発行する方法について説明します。
> 
> - Microsoft Azure
> - Web ホスティング企業

## <a name="about-publishing-your-site"></a>サイトの発行について

ここでは、最大のページをテストするなど、ローカル コンピューター上のすべての作業を行っています。 このように、<em>cshtml</em>ページを実行するには、WebMatrix に組み込まれている web サーバー (IIS Express) を使用しました。 もちろんこと以外に作成したサイトを参照していないことができます。 他のユーザーが自分のサイトを使用できるように、インターネットに公開する必要があります。

公開されている web サーバーにまだアクセスできない限り、公開とは、*クラウドプラットフォーム*または*ホスティングプロバイダー*を持つアカウントが必要であることを意味します。 Microsoft Azure などのクラウド プラットフォームでは、アプリケーションのオンデマンド インフラストラクチャを提供します。 ホスティング プロバイダーは、パブリックにアクセスできる web サーバーを所有しているとをレンタルするは、企業が、サイトの領域です。 ホスティング プランの実行、ほんの数ドルから (または無料) を何百もの商用 web サイトの高ボリューム ドルの小規模なサイトです。

> [!NOTE]
> インターネット サービスを自宅での取得に使用するインターネット サービス プロバイダー (ISP) 経由でパブリック web サーバーへのアクセスを使用するがあります。 ただし、ホスティング プロバイダーは、ASP.NET Web Pages をサポートする必要があります。 多くの Isp がありませんが、チェックに値するは常にします。

発行する方法の概要について付与は、このチュートリアルでします。 すべてのホスティング プロバイダーのプロセスが少し異なるため、すべての正確な詳細を提供する実用的ではありません。 プロセスのしくみのことをお勧めできます。

このチュートリアルには、4 つのセクションが含まれています。

1. [既定のページの設定](#defaultpage)
2. 発行 (次のいずれかを選択)  
 a. [Microsoft Azure にサイトを発行する](#azure)  
 b. [Web ホスティング会社へのサイトの発行](#host)
3. [ライブサイトを更新しています: 再発行](#update)

<a id="defaultpage"></a>
## <a name="setting-up-the-default-page"></a>既定のページの設定

ユーザーは、web サイトのベース アドレスに移動して、ユーザーに、サイトの既定のページが表示されます。 たとえば、既定の *.htm*が `www.contoso.com`のサイトの既定のページとして設定されている場合、`www.contoso.com` への移動は `www.contoso.com/Default.htm`への移動と同じです。

現在、サイトでは既定のページとして**既定の cshtml**が使用されています。 このページは、既定のページでは、問題ありませんが、このチュートリアルではないコンテンツを追加した、そのページに空白のページを表示するためです。 Default.cshtml を開き、内容を次のコードに置き換えます。

[!code-cshtml[Main](publishing/samples/sample1.cshtml)]

次に、サイトの公開の準備は。 最初に、サイトを Azure にデプロイする方法と、web サイトをホストにデプロイする方法が表示されます。 Web サイトのいずれか オプションはのみ、展開オプションのいずれかに従う必要があります。

<a id="azure"></a>
## <a name="publishing-your-site-to-microsoft-azure"></a>Microsoft azure サイトの発行

このチュートリアルでは最初に説明する Microsoft Azure には、サイトをデプロイする方法。 Microsoft アカウントをサインインすることで、Azure で最大 10 個無料サイトを作成できます。 これらの無料サイトでは、サイトをテストする便利な手段を提供します。 この例のサイトを使用してすべての無料サイトを回避するには、後でいつでも削除できます。 数分で無料試用版のアカウントを作成することができます。 詳細については、「[Azure の無料試用版サイト](https://azure.microsoft.com/free/?WT.mc_id=A443DD604)」を参照してください。

WebMatrix リボンで、 **[発行]** ボタンをクリックします。

![WebMatrix リボンで、'publish' ボタン](publishing/_static/image1.png)

**[サイトの発行]** ダイアログボックスが表示されます。 Microsoft アカウントにサインインしていない場合は、ダイアログボックスに**Azure の使用を開始**するリンクが表示されます。 このリンクをクリックします。

![サイトを発行します。](publishing/_static/image2.png)

サインインしていない Microsoft アカウントに場合、もう一度サインインする機会が提供されます。 Azure でサイトを発行する Microsoft アカウントにサインインする必要があります。

![Sign In (Azure: サインイン)](publishing/_static/image3.png)

Microsoft アカウントにサインインした後は、ダイアログ ボックスには、Azure で新しいサイトを作成または Azure 上で、既存のサイトのいずれかに接続するリンクが含まれます。

![新しいサイトを作成します。](publishing/_static/image4.png)

**[新しいサイトの作成]** を選択します。

プロジェクトに**webwebpagesmovies.azurewebsites.net**という名前を付けた場合は、サイトの既定の名前が使用されます。 この既定の名前が最も高い利用できない、赤色の感嘆符で示されます。

![既定の Web サイト名](publishing/_static/image5.png)

サイト名を利用可能なものに変更し、自分の場所に近い場所を選択します。

![変更されたサイト名](publishing/_static/image6.png)

**[OK]** をクリックします。

WebMatrix performss かどうか、サーバーは、サイトとの互換性を判断するテストをします。

![互換性のテスト](publishing/_static/image7.png)

**[続行]** をクリックします。

互換性テストの結果が表示されます。

![互換性の結果](publishing/_static/image8.png)

**[続行]** をクリックします。

WebMatrix には、ファイルおよびサイトにパブリッシュされるデータベースが表示されます。 これは、サイトを発行して初めてであるため、すべてのファイルの一覧が表示されます。 発行する準備ができているファイルをオフにすることができます。 後続のパブリケーションで変更されたファイルのみが表示されます。 「[ライブサイトの更新: 再パブリッシュ」を](#update)参照してください。

![[続行]](publishing/_static/image9.png)

**[続行]** をクリックします。

サイトは、Azure にデプロイされたが後、は、デプロイが完了しているかを示すメッセージが表示されます。

![発行の完了](publishing/_static/image10.png)

サイトとデータベースを Azure にパブリッシュされは、パブリックに利用できるようになりました。 発行が完了したら、およびデプロイするサイトが表示されますを示すメッセージ内のリンクをクリックします。 か、インターネットにアクセスできるすべてのユーザーが追加またはデータベース内のレコードを変更できます。

![](publishing/_static/image11.png)

<a id="host"></a>
## <a name="publishing-your-site-to-a-web-hosting-company"></a>Web サイトをホストするサイトの発行

Azure に発行しない場合は、web ホスティング企業に代わりに、サイトを発行できます。

**[Web ホスティングの検索]** リンクをクリックします。

![発行の設定 ダイアログ ボックスで、'web ホスティングの検索' ボタン](publishing/_static/image12.png)

ページに移動するには、Microsoft サイトを ASP.NET をサポートするホスティング プロバイダーの一覧を表示します。

![Microsoft のサイトをホスティング プロバイダーの一覧を表示するページ](publishing/_static/image13.png)

当然ながら、知っておく、長期間に必要なホスティング機能正確に難しいことができます。 次に、いくつかの考慮事項を示します。

- WebPagesMovies サイトのために、SQL Server は、多くの場合、余分なコストに個別のアドオンがありません。 サイトには自己完結型である SQL Server Compact Edition を使用しています。 ただし、将来の web サイト作業をいくつかの SQL サーバーへのアクセスを必要があります。 可能性がある場合は、SQL Server の機能を後で追加できることを確認します。
- ホスティング プロバイダーが Web 配置発行プロトコルをサポートするかどうかを確認します。 FTP プロトコルを使用して発行することができますが、Web Deploy を使用する方が便利です。

一部のサイトでは、無料の試用期間を提供します。 無料試用版が公開してください。 に適した方法と、WebMatrix と ASP.NET Web Pages を引き続き実験をホストしている間にします。

1 つを選択します。 このチュートリアルでは、会社、チュートリアルの作成中にユーザーが数か月の無料のサイトをホストできるようにする昇格されていたために DiscountASP.NET を選択します。

> [!NOTE]
> このチュートリアルでは、ホスティング プロバイダーの任意は、上の他の会社を推薦として解釈しないでください。 図では、いずれかを選択する必要があるいて、DiscountASP.NET は、パブリッシング用の ASP.NET Web ページおよび Web Deploy プロトコルをサポートする多くの企業の 1 つです。

通常、ホスティング プロバイダーにサインアップしたら後、会社を送信するユーザー名とパスワード、web サーバーの URL を含む電子メールをします。 ホスティング企業は、Web Deploy プロトコルをサポートする場合を含むファイルを発行の設定、または 1 つをダウンロードすることができますを送信する可能性があります。 発行設定ファイルには、プロセスが簡略化します。

サインアップし、発行する準備ができたら、WebMatrix リボンの **[発行]** ボタンをクリックします。 **[発行の設定]** ダイアログボックスが表示されます。

ホスティングプロバイダーから発行設定ファイルが送信された場合は、 **[発行設定のインポート]** リンクをクリックして、ファイルをインポートします。 発行設定ファイルを持っていない場合は、ホスティング企業に電子メールを送信します。 値を使用して、フィールドに入力します。 完了すると、 **[発行の設定]** ダイアログボックスは次のようになります。

![発行設定の [発行の設定] ダイアログ ボックスで入力します。](publishing/_static/image14.png)

**[接続の検証]** をクリックします。 問題がなければ、ダイアログボックスは**正常に接続されて**いることを示しています。これは、ホスティングプロバイダーのサーバーと通信できることを意味します。

![成功した場合のメッセージの発行の設定が正しい](publishing/_static/image15.png)

問題がある場合に問題が何を通知することをお勧めは WebMatrix 実行します。

![問題がある場合、エラー メッセージ発行の設定](publishing/_static/image16.png)

**[Save]** をクリックして設定を保存します。 WebMatrix は、ホスティング サイトと正しく通信できることを確認するテストの実行に提供します。

![公開プロセスのテストを実行するよう求めるメッセージ](publishing/_static/image17.png)

**[はい]** をクリックします。 WebMatrix は、ホスティング プロバイダーにいくつかのサンプル ファイルをアップロードします。 互換性テストを完了すると、WebMatrix、結果を報告します。

![公開のテストの結果](publishing/_static/image18.png)

準備ができたら、 **[続行]** をクリックして、実際の発行プロセスを開始します。 WebMatrix は、どのようなファイルが、サイト (現在、なし)、ホスト サーバー上に既にと公開プロセスのプレビューを示しますによって判別します。

![発行プロセスをアップロードするファイルのプレビュー](publishing/_static/image19.png)

発行するファイルの一覧には、*ムービー*のように作成した web ページが含まれます。 一覧には、ヘルパーをインストールしたが、データベースの SQL Server Compact Edition を実行するファイルのファイルも含まれています。 最初の結果として、発行プロセスが大幅にすることができます。

**[続行]** をクリックします。 WebMatrix は、ホスティング プロバイダーのサーバーにファイルをコピーします。 完了したら、ステータス バーで、結果が報告されます。

![発行プロセスが正常に完了すると、ステータス バー メッセージ](publishing/_static/image20.png)

ライブ サイトを表示するには、ステータス バーのリンクをクリックします。 URL に*ムービー*を追加すると、作成した*ムービーの cshtml*ファイルが表示されます。

![映画 ページを示すライブ サイト](publishing/_static/image21.png)

<a id="update"></a>
## <a name="updating-the-live-site-republishing"></a>ライブ サイトを更新しています再パブリッシュ。

(Azure または web ホスティング会社のいずれかに) サイトを発行したら、コンピューター上のバージョンとサービスプロバイダーのバージョン &mdash; 2 つのコピーがあります。 サイトの開発を続行したいでしょう (他に何もしない場合、次のチュートリアルのセットの一部として)。 実行すると、サービス プロバイダーにお使いのコンピューターからの変更をコピーするには、サイトを再発行する必要があります。 WebMatrix で、発行プロセスでは、サイトで変更されたファイルを判断でき、それらのファイルだけを公開することができます。

再パブリッシュのしくみを確認するに*は、del サイトを*開き、少し変更を加えてから、ファイルを保存します。 たとえば、タイトルを `Movies - Updated`に変更します。

リボンの **[発行]** ボタンをクリックします。 WebMatrix は、何が変更され、それを発行するファイルのプレビューが表示を決定します。

![変更を示す [発行] ダイアログ ボックスのファイルを再パブリッシュの準備が完了します。](publishing/_static/image22.png)

> [!IMPORTANT] 
> 
> 既定では、WebMatrix は、サイトを初めて発行するときにのみデータベース ( *.sdf*ファイル) を発行します。 サイトを発行し、ユーザーが web サイトと対話する、ライブ サイトのデータベースでは通常、サイトの実際のデータがあります。 ライブデータベースを、コンピューター上の *.sdf*ファイルで上書きしないように注意する必要があります。このファイルには、通常、テストデータのみが含まれています。 このため、[発行] によって**リモートデータベースが上書きさ**れることがわかります。また、既定では、[ *web* ] のチェックボックスがオフになっています。

**[続行]** をクリックします。 WebMatrix では、変更されたファイルを発行して、最初に発行したときと同じように、成功のメッセージを表示します。

(することができますのリンクをクリック、成功メッセージがまだ表示されている場合)、ライブ サイトに移動し、変更が公開されていることを確認します。

> [!TIP] 
> 
> **ファイルのリモート編集**
> 
> 代わりに、サイトを変更して、再パブリッシュし、WebMatrix で直接、リモート ファイルを編集できます。 このシナリオで、サービス プロバイダー上にあるファイルを開くし、WebMatrix のダウンロードを編集するためのコピー。 ファイルを保存するたびに、WebMatrix は、変更をサイトに送信します。
> 
> ライブ サイトを変更する簡単な方法は、リモートを編集します。 ただし、この方法が行った変更は、ローカル サイト内のファイルと同期されていません。 リモート サイトとローカルのファイルを同期するには、リモート ファイルをダウンロードできます。 このプロセスはように動作の公開、除く逆の順序で。
> 
> リモート編集、およびリモート ダウンロード機能 WebMatrix のこちらの詳細については説明はしません。 複数の人が別のコンピューターで同じサイトで動作する必要がある場合に非常に便利です。 詳細については、「 [WebMatrix 2 Beta を使用したリモートサイトの発行と編集](https://go.microsoft.com/fwlink/?LinkId=251591)」を参照してください。

## <a name="additional-resources"></a>その他のリソース

- [ASP.NET WebMatrix ASP.NET Web ページフォーラム](https://forums.asp.net/1224.aspx/1?WebMatrix+and+ASP+NET+Web+Pages)。質問を投稿して回答を得ることができます。

> [!div class="step-by-step"]
> [[戻る]](layouts.md)
