---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
title: ASP.NET Web ページプログラミングの基礎 |Microsoft Docs
author: Rick-Anderson
description: "このチュートリアルでは、Razor 構文を使用して ASP.NET Web ページでプログラミングする方法の概要を示します。 学習内容: pr に使用する基本的な ' Razor ' 構文..."
ms.author: riande
ms.date: 06/17/2015
ms.assetid: 7526ed45-a97d-4e8a-8301-01324ef0eff9
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
msc.type: authoredcontent
ms.openlocfilehash: 474de7671ac2931e5ba9ff635d77385403644521
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78509980"
---
# <a name="introducing-aspnet-web-pages---programming-basics"></a><span data-ttu-id="fdb52-104">ASP.NET Web ページの概要-プログラミングの基礎</span><span class="sxs-lookup"><span data-stu-id="fdb52-104">Introducing ASP.NET Web Pages - Programming Basics</span></span>

<span data-ttu-id="fdb52-105">[Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="fdb52-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="fdb52-106">このチュートリアルでは、Razor 構文を使用して ASP.NET Web ページでプログラミングする方法の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-106">This tutorial gives you an overview of how to program in ASP.NET Web Pages with Razor syntax.</span></span>
> 
> <span data-ttu-id="fdb52-107">ここでは、次の内容について学習します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-107">What you'll learn:</span></span>
> 
> - <span data-ttu-id="fdb52-108">ASP.NET Web ページでのプログラミングに使用する基本的な "Razor" 構文。</span><span class="sxs-lookup"><span data-stu-id="fdb52-108">The basic "Razor" syntax that you use for programming in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="fdb52-109">基本的なC#ものとして、使用するプログラミング言語があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-109">Some basic C#, which is the programming language you'll use.</span></span>
> - <span data-ttu-id="fdb52-110">Web ページの基本的なプログラミング概念をいくつか紹介します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-110">Some fundamental programming concepts for Web Pages.</span></span>
> - <span data-ttu-id="fdb52-111">サイトで使用するパッケージ (事前にビルドされたコードを含むコンポーネント) をインストールする方法。</span><span class="sxs-lookup"><span data-stu-id="fdb52-111">How to install packages (components that contain prebuilt code) to use with your site.</span></span>
> - <span data-ttu-id="fdb52-112">*ヘルパー*を使用して一般的なプログラミングタスクを実行する方法。</span><span class="sxs-lookup"><span data-stu-id="fdb52-112">How to use *helpers* to perform common programming tasks.</span></span>
>   
> 
> <span data-ttu-id="fdb52-113">説明する機能/テクノロジ:</span><span class="sxs-lookup"><span data-stu-id="fdb52-113">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="fdb52-114">NuGet およびパッケージマネージャー。</span><span class="sxs-lookup"><span data-stu-id="fdb52-114">NuGet and the package manager.</span></span>
> - <span data-ttu-id="fdb52-115">`Gravatar` ヘルパー。</span><span class="sxs-lookup"><span data-stu-id="fdb52-115">The `Gravatar` helper.</span></span>

<span data-ttu-id="fdb52-116">このチュートリアルでは、主に ASP.NET Web ページに使用するプログラミング構文を紹介します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-116">This tutorial is primarily an exercise in introducing you to the programming syntax that you'll use for ASP.NET Web Pages.</span></span> <span data-ttu-id="fdb52-117">プログラミング言語で記述された Razor 構文とコードについて説明します。 C#</span><span class="sxs-lookup"><span data-stu-id="fdb52-117">You'll learn about *Razor syntax* and code that's written in the C# programming language.</span></span> <span data-ttu-id="fdb52-118">前のチュートリアルでは、この構文を見ていきます。このチュートリアルでは、構文の詳細について説明します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-118">You got a glimpse of this syntax in the previous tutorial; in this tutorial we'll explain the syntax more.</span></span>

<span data-ttu-id="fdb52-119">このチュートリアルでは、1つのチュートリアルで紹介している最も多くのプログラミングについて説明します。これは、プログラミング*に関する唯一のチュートリアルです。*</span><span class="sxs-lookup"><span data-stu-id="fdb52-119">We promise that this tutorial involves the most programming that you'll see in a single tutorial, and that it's the only tutorial that is *only* about programming.</span></span> <span data-ttu-id="fdb52-120">このセットの残りのチュートリアルでは、興味深い作業を行うページを実際に作成します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-120">In the remaining tutorials in this set, you'll actually create pages that do interesting things.</span></span>

<span data-ttu-id="fdb52-121">*ヘルパー*についても学習します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-121">You'll also learn about *helpers*.</span></span> <span data-ttu-id="fdb52-122">ヘルパーは、ページに追加できるコンポーネントで、パッケージ化されたコードの一部です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-122">A helper is a component — a packaged-up piece of code — that you can add to a page.</span></span> <span data-ttu-id="fdb52-123">ヘルパーは、不要な作業や複雑な作業を手作業で行うことができます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-123">The helper performs work for you that otherwise might be tedious or complex to do by hand.</span></span>

## <a name="creating-a-page-to-play-with-razor"></a><span data-ttu-id="fdb52-124">Razor で再生するページを作成する</span><span class="sxs-lookup"><span data-stu-id="fdb52-124">Creating a Page to Play with Razor</span></span>

<span data-ttu-id="fdb52-125">このセクションでは、基本的な構文を理解できるように、Razor を使用して少し説明します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-125">In this section you'll play a bit with Razor so you can get a sense of the basic syntax.</span></span>

<span data-ttu-id="fdb52-126">WebMatrix がまだ実行されていない場合は、開始します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-126">Start WebMatrix if it's not already running.</span></span> <span data-ttu-id="fdb52-127">前のチュートリアル ([Web ページではじめに](https://go.microsoft.com/fwlink/?LinkId=251578)) で作成した web サイトを使用します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-127">You'll use the website you created in the previous tutorial ([Getting Started With Web Pages](https://go.microsoft.com/fwlink/?LinkId=251578)).</span></span> <span data-ttu-id="fdb52-128">もう一度開くには、 **[マイサイト]** をクリックし、 **[Webpagemovies]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-128">To reopen it, click **My Sites** and choose **WebPageMovies**:</span></span>

![[サイトを開く] オプションと [マイサイト] が強調表示されている WebMatrix の開始画面](intro-to-web-pages-programming/_static/image1.png)

<span data-ttu-id="fdb52-130">**[ファイル]** ワークスペースを選択します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-130">Select the **Files** workspace.</span></span>

<span data-ttu-id="fdb52-131">リボンで **[新規]** をクリックしてページを作成します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-131">In the ribbon, click **New** to create a page.</span></span> <span data-ttu-id="fdb52-132">**[CSHTML]** を選択し、新しいページに*TestRazor*という名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-132">Select **CSHTML** and name the new page *TestRazor.cshtml*.</span></span>

<span data-ttu-id="fdb52-133">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-133">Click **OK**.</span></span>

<span data-ttu-id="fdb52-134">次のファイルをコピーして、既に存在するものを完全に置き換えます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-134">Copy the following into the file, completely replacing what's there already.</span></span>

> [!NOTE]
> <span data-ttu-id="fdb52-135">コードまたはマークアップを例からページにコピーする場合、インデントとアラインメントはチュートリアルと同じではない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-135">When you copy code or markup from the examples into a page, the indentation and alignment might not be the same as in the tutorial.</span></span> <span data-ttu-id="fdb52-136">ただし、インデントとアラインメントは、コードの実行方法には影響しません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-136">Indentation and alignment don't affect how the code runs, though.</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample1.cshtml)]

## <a name="examining-the-example-page"></a><span data-ttu-id="fdb52-137">例のページを調べる</span><span class="sxs-lookup"><span data-stu-id="fdb52-137">Examining the Example Page</span></span>

<span data-ttu-id="fdb52-138">ほとんどの場合、通常の HTML が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-138">Most of what you see is ordinary HTML.</span></span> <span data-ttu-id="fdb52-139">ただし、上部には次のコードブロックがあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-139">However, at the top there's this code block:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample2.cshtml)]

<span data-ttu-id="fdb52-140">このコードブロックについては、次の点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="fdb52-140">Notice the following things about this code block:</span></span>

- <span data-ttu-id="fdb52-141">@ 文字は、次の内容が HTML ではなく Razor コードであることを ASP.NET に通知します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-141">The @ character tells ASP.NET that what follows is Razor code, not HTML.</span></span> <span data-ttu-id="fdb52-142">ASP.NET は、@ 文字の後のすべてを、HTML に再度実行されるまでコードとして扱います。</span><span class="sxs-lookup"><span data-stu-id="fdb52-142">ASP.NET will treat everything after the @ character as code until it runs into some HTML again.</span></span> <span data-ttu-id="fdb52-143">(この例では、これは &lt;です。DOCTYPE&gt; 要素。</span><span class="sxs-lookup"><span data-stu-id="fdb52-143">(In this case, that's the &lt;!DOCTYPE&gt; element.</span></span>
- <span data-ttu-id="fdb52-144">コードに複数の行が含まれている場合、中かっこ ({と}) は Razor コードのブロックを囲みます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-144">The braces ( { and } ) enclose a block of Razor code if the code has more than one line.</span></span> <span data-ttu-id="fdb52-145">中かっこは、そのブロックのコードの開始位置と終了位置を ASP.NET に指示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-145">The braces tell ASP.NET where the code for that block starts and ends.</span></span>
- <span data-ttu-id="fdb52-146">//文字は、コメント、つまり実行されないコードの一部をマークします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-146">The // characters mark a comment — that is, a part of the code that won't execute.</span></span>
- <span data-ttu-id="fdb52-147">各ステートメントは、セミコロン (;) で終わる必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-147">Each statement has to end with a semicolon (;).</span></span> <span data-ttu-id="fdb52-148">(ただし、コメントはありません)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-148">(Not comments, though.)</span></span>
- <span data-ttu-id="fdb52-149">変数に値を格納することができます。*変数*には、var というキーワードを使用して作成する (*declare*) 必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-149">You can store values in *variables*, which you create (*declare*) with the keyword var.</span></span> <span data-ttu-id="fdb52-150">変数を作成するときに、名前を指定します。これには、文字、数字、アンダースコア (\_) を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-150">When you create a variable, you give it a name, which can include letters, numbers, and underscore (\_).</span></span> <span data-ttu-id="fdb52-151">変数名の先頭を数字にすることはできません。プログラミングキーワードの名前 (var など) を使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-151">Variable names can't start with a number and can't use the name of a programming keyword (like var).</span></span>
- <span data-ttu-id="fdb52-152">文字列 ("ASP.NET" や "Web Pages" など) は引用符で囲みます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-152">You enclose character strings (like "ASP.NET" and "Web Pages") in quotation marks.</span></span> <span data-ttu-id="fdb52-153">(二重引用符で囲む必要があります)。数字は引用符で囲まれていません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-153">(They must be double quotation marks.) Numbers are not in quotation marks.</span></span>
- <span data-ttu-id="fdb52-154">引用符以外の空白は意味がありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-154">Whitespace outside of quotation marks doesn't matter.</span></span> <span data-ttu-id="fdb52-155">改行はほとんど問題ありません。例外として、行を引用符で囲んだ文字列を分割することはできません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-155">Line breaks mostly don't matter; the exception is that you can't split a string in quotation marks across lines.</span></span> <span data-ttu-id="fdb52-156">インデントとアラインメントは関係ありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-156">Indentation and alignment don't matter.</span></span>

<span data-ttu-id="fdb52-157">この例では、すべてのコードで大文字と小文字が区別されていることがわかりません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-157">Something that's not obvious from this example is that all code is case sensitive.</span></span> <span data-ttu-id="fdb52-158">これは、変数の変数が、変数として指定されている変数と異なる変数であることを意味します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-158">This means that the variable TheSum is a different variable than variables that might be named theSum or thesum.</span></span> <span data-ttu-id="fdb52-159">同様に、var はキーワードですが、Var はキーワードではありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-159">Similarly, var is a keyword, but Var is not.</span></span>

### <a name="objects-and-properties-and-methods"></a><span data-ttu-id="fdb52-160">オブジェクト、プロパティ、およびメソッド</span><span class="sxs-lookup"><span data-stu-id="fdb52-160">Objects and properties and methods</span></span>

<span data-ttu-id="fdb52-161">次に、式 DateTime を指定します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-161">Then there's the expression DateTime.Now.</span></span> <span data-ttu-id="fdb52-162">簡単に言うと、DateTime は*オブジェクト*です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-162">In simple terms, DateTime is an *object*.</span></span> <span data-ttu-id="fdb52-163">オブジェクトは、ページ、テキストボックス、ファイル、画像、web 要求、電子メールメッセージ、顧客レコードなどを使用してプログラミングすることができます。オブジェクトには、その特性を説明する1つ以上の*プロパティ*があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-163">An object is a thing that you can program with—a page, a text box, a file, an image, a web request, an email message, a customer record, etc. Objects have one or more *properties* that describe their characteristics.</span></span> <span data-ttu-id="fdb52-164">テキストボックスオブジェクトには、テキストプロパティ (その他)、要求オブジェクト、Url プロパティ (その他)、電子メールメッセージの From プロパティ、To プロパティなどがあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-164">A text box object has a Text property (among others), a request object has a Url property (and others), an email message has a From property and a To property, and so on.</span></span> <span data-ttu-id="fdb52-165">オブジェクトには、実行可能な "動詞" である*メソッド*もあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-165">Objects also have *methods* that are the "verbs" they can perform.</span></span> <span data-ttu-id="fdb52-166">オブジェクトを頻繁に操作します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-166">You'll be working with objects a lot.</span></span>

<span data-ttu-id="fdb52-167">例からわかるように、DateTime は、日付と時刻をプログラミングできるオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-167">As you can see from the example, DateTime is an object that lets you program dates and times.</span></span> <span data-ttu-id="fdb52-168">現在の日付と時刻を返す Now という名前のプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-168">It has a property named Now that returns the current date and time.</span></span>

### <a name="using-code-to-render-markup-in-the-page"></a><span data-ttu-id="fdb52-169">コードを使用してページにマークアップを表示する</span><span class="sxs-lookup"><span data-stu-id="fdb52-169">Using code to render markup in the page</span></span>

<span data-ttu-id="fdb52-170">ページの本文で、次の点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="fdb52-170">In the body of the page, notice the following:</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample3.html)]

<span data-ttu-id="fdb52-171">ここでも、@ 文字は、次のコードが HTML ではなくコードであることを ASP.NET に伝えます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-171">Again, the @ character tells ASP.NET that what follows is code, not HTML.</span></span> <span data-ttu-id="fdb52-172">マークアップでは、@ の後にコード式を追加することができ、ASP.NET はその式の値をその時点で右に表示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-172">In the markup you can add @ followed by a code expression, and ASP.NET will render the value of that expression right at that point.</span></span> <span data-ttu-id="fdb52-173">この例では、@a は、という名前の変数の値を表示します。また、@product product という名前の変数には何でもレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-173">In the example, @a will render whatever the value is of the variable named a, @product renders whatever is in the variable named product, and so on.</span></span>

<span data-ttu-id="fdb52-174">ただし、変数に限定されるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-174">You're not limited to variables, though.</span></span> <span data-ttu-id="fdb52-175">ここでは、@ 文字が式の前にあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-175">In a few instances here, the @ character precedes an expression:</span></span>

- <span data-ttu-id="fdb52-176">@ (a\*b) は、変数 a と b に含まれるすべての製品を表示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-176">@(a\*b) renders the product of whatever is in the variables a and b.</span></span> <span data-ttu-id="fdb52-177">(\* 演算子は乗算を意味します)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-177">(The \* operator means multiplication.)</span></span>
- <span data-ttu-id="fdb52-178">@ (テクノロジ + "" + 製品) では、変数を連結し、その間にスペースを追加すると、変数のテクノロジと製品の値がレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-178">@(technology + " " + product) renders the values in the variables technology and product after concatenating them and adding a space in between.</span></span> <span data-ttu-id="fdb52-179">文字列を連結する演算子 (+) は、数値を追加する演算子と同じです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-179">The operator (+) for concatenating strings is the same as the operator for adding numbers.</span></span> <span data-ttu-id="fdb52-180">ASP.NET は、通常、数値または文字列を使用しているかどうかを判断し、+ 演算子を使用して適切な処理を行います。</span><span class="sxs-lookup"><span data-stu-id="fdb52-180">ASP.NET can usually tell whether you're working with numbers or with strings and does the right thing with the + operator.</span></span>
- <span data-ttu-id="fdb52-181">@Request.Url は、要求オブジェクトの Url プロパティを表示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-181">@Request.Url renders the Url property of the Request object.</span></span> <span data-ttu-id="fdb52-182">要求オブジェクトには、ブラウザーからの現在の要求に関する情報が含まれています。もちろん、Url プロパティには、現在の要求の URL が含まれています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-182">The Request object contains information about the current request from the browser, and of course the Url property contains the URL of that current request.</span></span>

<span data-ttu-id="fdb52-183">この例は、さまざまな方法で作業できることを示すためにも設計されています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-183">The example is also designed to show you that you can do work in different ways.</span></span> <span data-ttu-id="fdb52-184">先頭のコードブロックで計算を実行し、結果を変数に格納して、その変数をマークアップでレンダリングできます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-184">You can do calculations in the code block at the top, put the results into a variable, and then render the variable in markup.</span></span> <span data-ttu-id="fdb52-185">または、マークアップ内の式の中で計算を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-185">Or you can do calculations in an expression right in the markup.</span></span> <span data-ttu-id="fdb52-186">使用する方法は、ユーザーの好みに応じて、何を実行しているかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-186">The approach you use depends on what you're doing and, to some extent, on your own preference.</span></span>

### <a name="seeing-the-code-in-action"></a><span data-ttu-id="fdb52-187">コードの動作を確認する</span><span class="sxs-lookup"><span data-stu-id="fdb52-187">Seeing the code in action</span></span>

<span data-ttu-id="fdb52-188">ファイルの名前を右クリックし、 **[ブラウザーで起動]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-188">Right-click the name of the file and then choose **Launch in browser**.</span></span> <span data-ttu-id="fdb52-189">ページ内ですべての値と式が解決されたページがブラウザーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-189">You see the page in the browser with all the values and expressions resolved in the page.</span></span>

![ブラウザーで実行されている ' TestRazor ' ページ](intro-to-web-pages-programming/_static/image2.png)

<span data-ttu-id="fdb52-191">ブラウザーでソースを確認します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-191">Look at the source in the browser.</span></span>

![ブラウザーでの ' テスト Razor ' ページソース](intro-to-web-pages-programming/_static/image3.png)

<span data-ttu-id="fdb52-193">前のチュートリアルの経験から予想されるように、このページには Razor コードはありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-193">As you expect from your experience in the previous tutorial, none of the Razor code is in the page.</span></span> <span data-ttu-id="fdb52-194">実際の表示値が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-194">All you see are the actual display values.</span></span> <span data-ttu-id="fdb52-195">ページを実行すると、WebMatrix に組み込まれている web サーバーに対して実際に要求を行うことになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-195">When you run a page, you're actually making a request to the web server that's built into WebMatrix.</span></span> <span data-ttu-id="fdb52-196">ASP.NET は、要求を受信すると、すべての値と式を解決し、その値をページに表示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-196">When the request is received, ASP.NET resolves all the values and expressions and renders their values into the page.</span></span> <span data-ttu-id="fdb52-197">次に、ページをブラウザーに送信します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-197">It then sends the page to the browser.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="fdb52-198">**Razor とC#**</span><span class="sxs-lookup"><span data-stu-id="fdb52-198">**Razor and C#**</span></span>
> 
> <span data-ttu-id="fdb52-199">ここまでは、Razor 構文を操作していることを説明しました。</span><span class="sxs-lookup"><span data-stu-id="fdb52-199">Up to now we've said that you're working with Razor syntax.</span></span> <span data-ttu-id="fdb52-200">これは真実ですが、完全な話ではありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-200">That's true, but it's not the complete story.</span></span> <span data-ttu-id="fdb52-201">実際に使用しているプログラミング言語が*C#* 呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-201">The actual programming language you're using is called *C#*.</span></span> <span data-ttu-id="fdb52-202">C#10年前にマイクロソフトによって作成され、Windows アプリを作成するための主要なプログラミング言語の1つになりました。</span><span class="sxs-lookup"><span data-stu-id="fdb52-202">C# was created by Microsoft over a decade ago and has become one of the primary programming languages for creating Windows apps.</span></span> <span data-ttu-id="fdb52-203">変数に名前を指定する方法と、ステートメントを作成する方法について説明したすべてのルールは、実際C#には言語のすべてのルールです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-203">All the rules you've seen about how to name a variable and how to create statements and so on are actually all rules of the C# language.</span></span>
> 
> <span data-ttu-id="fdb52-204">Razor は、このコードをページに埋め込む方法に関する少数の規則セットに特化しています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-204">Razor refers more specifically to the small set of conventions for how you embed this code into a page.</span></span> <span data-ttu-id="fdb52-205">たとえば、@ を使用してページ内のコードをマークし、@ {} を使用してコードブロックを埋め込むという規則は、ページの Razor の側面です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-205">For example, the convention of using @ to mark code in the page and using @{ } to embed a code block is the Razor aspect of a page.</span></span> <span data-ttu-id="fdb52-206">ヘルパーは Razor の一部としても見なされます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-206">Helpers are also considered to be part of Razor.</span></span> <span data-ttu-id="fdb52-207">Razor 構文は、ASP.NET Web ページだけではなく、より多くの場所で使用されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-207">Razor syntax is used in more places than just in ASP.NET Web Pages.</span></span> <span data-ttu-id="fdb52-208">(たとえば、ASP.NET MVC ビューでも使用されます)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-208">(For example, it's used in ASP.NET MVC views as well.)</span></span>
> 
> <span data-ttu-id="fdb52-209">ここでは、ASP.NET Web ページのプログラミングに関する情報を探している場合、Razor に関する多くの参照を見つけることができます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-209">We mention this because if you look for information about programming ASP.NET Web Pages, you'll find lots of references to Razor.</span></span> <span data-ttu-id="fdb52-210">ただし、これらの参照の大部分は、実行している内容には適用されないため、混乱を招く可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-210">However, a lot of those references don't apply to what you're doing and might therefore be confusing.</span></span> <span data-ttu-id="fdb52-211">実際、プログラミングに関する質問の多くは、ASP.NET を使用しC#たり、作業したりすることになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-211">And in fact, many of your programming questions are really going to be about either working with C# or working with ASP.NET.</span></span> <span data-ttu-id="fdb52-212">したがって、特に Razor に関する情報を探しても、必要な回答が見つからない場合があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-212">So if you look specifically for information about Razor, you might not find the answers you need.</span></span>

## <a name="adding-some-conditional-logic"></a><span data-ttu-id="fdb52-213">いくつかの条件ロジックの追加</span><span class="sxs-lookup"><span data-stu-id="fdb52-213">Adding Some Conditional Logic</span></span>

<span data-ttu-id="fdb52-214">ページでコードを使用する場合の優れた機能の1つは、さまざまな条件に基づいて動作を変更できることです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-214">One of the great features about using code in a page is that you can change what happens based on various conditions.</span></span> <span data-ttu-id="fdb52-215">チュートリアルのこの部分では、ページに表示される内容を変更するいくつかの方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-215">In this part of the tutorial, you'll play around with some ways to change what's displayed in the page.</span></span>

<span data-ttu-id="fdb52-216">この例は単純であり、条件ロジックに集中できるように多少不自然です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-216">The example will be simple and somewhat contrived so that we can concentrate on the conditional logic.</span></span> <span data-ttu-id="fdb52-217">ここで作成するページは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-217">The page you'll create will do this:</span></span>

- <span data-ttu-id="fdb52-218">ページが最初に表示されるかどうか、またはボタンをクリックしてページを送信するかどうかに応じて、ページに別のテキストを表示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-218">Show different text on the page depending on whether it's the first time the page is displayed or whether you've clicked a button to submit the page.</span></span> <span data-ttu-id="fdb52-219">これが最初の条件テストになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-219">That will be the first conditional test.</span></span>
- <span data-ttu-id="fdb52-220">URL のクエリ文字列に特定の値が渡された場合にのみメッセージを表示します (http://...? show = true)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-220">Display the message only if a certain value is passed in the query string of the URL (http://...?show=true).</span></span> <span data-ttu-id="fdb52-221">これが2番目の条件付きテストになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-221">That will be the second conditional test.</span></span>

<span data-ttu-id="fdb52-222">WebMatrix で、ページを作成し、 *TestRazorPart2*という名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-222">In WebMatrix, create a page and name it *TestRazorPart2.cshtml*.</span></span> <span data-ttu-id="fdb52-223">(リボンで **[新規]** をクリックし、 **[CSHTML]** を選択して、ファイルに名前を指定し、 **[OK]** をクリックします)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-223">(In the ribbon, click **New**, choose **CSHTML**, name the file, and then click **OK**.)</span></span>

<span data-ttu-id="fdb52-224">そのページの内容を次のように置き換えます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-224">Replace the contents of that page with the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample4.cshtml)]

<span data-ttu-id="fdb52-225">上部のコードブロックでは、メッセージという名前の変数をいくつかのテキストと共に初期化します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-225">The code block at the top initializes a variable named message with some text.</span></span> <span data-ttu-id="fdb52-226">ページの本文では、メッセージ変数の内容が &lt;p&gt; 要素内に表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-226">In the body of the page, the contents of the message variable are displayed inside a &lt;p&gt; element.</span></span> <span data-ttu-id="fdb52-227">マークアップには、 **[送信]** ボタンを作成するための &lt;input&gt; 要素も含まれています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-227">The markup also contains an &lt;input&gt; element to create a **Submit** button.</span></span>

<span data-ttu-id="fdb52-228">ページを実行して、現在の動作を確認します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-228">Run the page to see how it works now.</span></span> <span data-ttu-id="fdb52-229">ここでは、 **[送信]** ボタンをクリックした場合でも、基本的に静的ページになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-229">For now, it's basically a static page, even if you click the **Submit** button.</span></span>

<span data-ttu-id="fdb52-230">WebMatrix に戻ります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-230">Go back to WebMatrix.</span></span> <span data-ttu-id="fdb52-231">コードブロック内で、メッセージを初期化する行の*後*に、次の強調表示されたコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-231">Inside the code block, add the following highlighted code *after* the line that initializes message:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample5.cshtml?highlight=4-6)]

### <a name="the-if---block"></a><span data-ttu-id="fdb52-232">If {} ブロック</span><span class="sxs-lookup"><span data-stu-id="fdb52-232">The if { } block</span></span>

<span data-ttu-id="fdb52-233">先ほど追加したものは if 条件でした。</span><span class="sxs-lookup"><span data-stu-id="fdb52-233">What you just added was an if condition.</span></span> <span data-ttu-id="fdb52-234">コードでは、if 条件に次のような構造があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-234">In code, the if condition has a structure like this:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample6.cs)]

<span data-ttu-id="fdb52-235">テストする条件がかっこで囲まれています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-235">The condition to test is in parentheses.</span></span> <span data-ttu-id="fdb52-236">この値は、true または false を返す値または式である必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-236">It has to be a value or an expression that returns true or false.</span></span> <span data-ttu-id="fdb52-237">条件が true の場合、ASP.NET は、中かっこ内にあるステートメントを実行します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-237">If the condition is true, ASP.NET runs the statement or statements that are inside the braces.</span></span> <span data-ttu-id="fdb52-238">(これらは、 *if then*ロジック*の一部です*)。条件が false の場合は、コードブロックがスキップされます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-238">(Those are the *then* part of the *if-then* logic.) If the condition is false, the block of code is skipped.</span></span>

<span data-ttu-id="fdb52-239">If ステートメントでテストできる条件の例をいくつか次に示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-239">Here are a few examples of conditions you can test in an if statement:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample7.cs)]

<span data-ttu-id="fdb52-240">*論理演算子*または*比較演算子*を使用すると、変数を値に対して、または式に対してテストできます。等号 (= =)、より大きい (&gt;)、より小さい (&lt;)、以上 (&gt;=)、および以下 (&lt;=) です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-240">You can test variables against values or against expressions by using a *logical operator* or *comparison operator*: equal to (==), greater than (&gt;), less than (&lt;), greater than or equal to (&gt;=), and less than or equal to (&lt;=).</span></span> <span data-ttu-id="fdb52-241">! = 演算子はと等しくないことを意味します。たとえば、(a! = 0) の場合、*が0と等しくない*ことを意味します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-241">The != operator means not equal to — for example, if(a != 0) means *if a is not equal to 0*.</span></span>

> [!NOTE]
> <span data-ttu-id="fdb52-242">等号 (= =) の比較演算子が = と同じではないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="fdb52-242">Make sure you notice that the comparison operator for equals to (==) is not the same as =.</span></span> <span data-ttu-id="fdb52-243">= 演算子は、値を代入するためにのみ使用されます (var a = 2)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-243">The = operator is used only to assign values (var a=2).</span></span> <span data-ttu-id="fdb52-244">これらの演算子を組み合わせて使用すると、エラーが発生するか、予想外の結果が得られます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-244">If you mix these operators up, you'll either get an error or you'll get some strange results.</span></span>

<span data-ttu-id="fdb52-245">何かが true であるかどうかをテストするために、完全な構文は if (IsDone = = true) です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-245">To test whether something is true, the complete syntax is if(IsDone == true).</span></span> <span data-ttu-id="fdb52-246">ただし、ショートカット (IsDone) を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-246">But you can also use the shortcut if(IsDone).</span></span> <span data-ttu-id="fdb52-247">比較演算子がない場合、ASP.NET は、テスト対象が true であることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-247">If there's no comparison operator, ASP.NET assumes that you're testing for true.</span></span>

<span data-ttu-id="fdb52-248">!</span><span class="sxs-lookup"><span data-stu-id="fdb52-248">The !</span></span> <span data-ttu-id="fdb52-249">演算子自体は、論理 NOT であることを意味します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-249">operator by itself means a logical NOT.</span></span> <span data-ttu-id="fdb52-250">たとえば、(!IsPost) は、 *IsPost が true でない場合を*意味します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-250">For example, the condition if(!IsPost) means *if IsPost is not true*.</span></span>

<span data-ttu-id="fdb52-251">条件を結合するには、論理 AND (&amp;&amp; 演算子) または論理 OR (| | 演算子) を使用します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-251">You can combine conditions by using a logical AND (&amp;&amp; operator) or logical OR (|| operator).</span></span> <span data-ttu-id="fdb52-252">たとえば、前の例の if 条件の最後は、 *FileProcessingIsDone が true に設定されておらず、displayMessage が false に設定*されている場合を意味します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-252">For example, the last of the if conditions in the preceding examples means *if FileProcessingIsDone is not set to true AND displayMessage is set to false*.</span></span>

### <a name="the-else-block"></a><span data-ttu-id="fdb52-253">Else ブロック</span><span class="sxs-lookup"><span data-stu-id="fdb52-253">The else block</span></span>

<span data-ttu-id="fdb52-254">If ブロックの最後の1つは、if ブロックの後に else ブロックを指定する方法です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-254">One final thing about if blocks: an if block can be followed by an else block.</span></span> <span data-ttu-id="fdb52-255">Else ブロックが役に立つのは、条件が false の場合に別のコードを実行する必要があることです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-255">An else block is useful is you have to execute different code when the condition is false.</span></span> <span data-ttu-id="fdb52-256">単純な例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-256">Here's a simple example:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample8.cs)]

<span data-ttu-id="fdb52-257">このシリーズの後のチュートリアルでは、else ブロックを使用すると便利な例をいくつか紹介します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-257">You'll see some examples in later tutorials in this series where using an else block is useful.</span></span>

### <a name="testing-whether-the-request-is-a-submit-post"></a><span data-ttu-id="fdb52-258">要求が送信 (post) であるかどうかをテストする</span><span class="sxs-lookup"><span data-stu-id="fdb52-258">Testing whether the request is a submit (post)</span></span>

<span data-ttu-id="fdb52-259">この例に戻りましょう。この例では、(IsPost) {...} という条件を使用しています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-259">There's more, but let's get back to the example, which has the condition if(IsPost){ ... }.</span></span> <span data-ttu-id="fdb52-260">IsPost は、実際には現在のページのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-260">IsPost is actually a property of the current page.</span></span> <span data-ttu-id="fdb52-261">ページが初めて要求されたときに、IsPost は false を返します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-261">The first time the page is requested, IsPost returns false.</span></span> <span data-ttu-id="fdb52-262">ただし、ボタンをクリックした場合、またはページを送信した場合 (つまり、投稿した場合)、IsPost は true を返します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-262">However, if you click a button or otherwise submit the page — that is, you post it — IsPost returns true.</span></span> <span data-ttu-id="fdb52-263">IsPost を使用すると、フォームの送信を処理しているかどうかを判断できます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-263">So IsPost lets you determine whether you're dealing with a form submission.</span></span> <span data-ttu-id="fdb52-264">(HTTP 動詞の点では、要求が GET 操作である場合、IsPost は false を返します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-264">(In terms of HTTP verbs, if the request is a GET operation, IsPost returns false.</span></span> <span data-ttu-id="fdb52-265">要求が POST 操作の場合、IsPost は true を返します)。後のチュートリアルでは、このテストが特に役立つ入力フォームを使用します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-265">If the request is a POST operation, IsPost returns true.) In a later tutorial you'll work with input forms, where this test becomes particularly useful.</span></span>

<span data-ttu-id="fdb52-266">ページを実行します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-266">Run the page.</span></span> <span data-ttu-id="fdb52-267">このページを初めて要求したため、"このページを初めて要求したとき" と表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-267">Because this is the first time you're requested the page, you see "This is the first time you've requested the page".</span></span> <span data-ttu-id="fdb52-268">この文字列は、メッセージ変数を初期化した値です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-268">That string is the value that you initialized the message variable to.</span></span> <span data-ttu-id="fdb52-269">If (IsPost) テストがありますが、現時点では false が返されるため、if ブロック内のコードは実行されません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-269">There's an if(IsPost) test, but that returns false at the moment, so the code inside the if block doesn't run.</span></span>

<span data-ttu-id="fdb52-270">**[送信]** ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-270">Click the **Submit** button.</span></span> <span data-ttu-id="fdb52-271">ページが再度要求されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-271">The page is requested again.</span></span> <span data-ttu-id="fdb52-272">前と同様に、メッセージ変数は "This is the first time..." に設定されています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-272">As before, the message variable is set to "This is the first time ...".</span></span> <span data-ttu-id="fdb52-273">ただし今回は、if ブロック内のコードが実行されるように、if (IsPost) によって true が返されることをテストします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-273">But this time, the test if(IsPost) returns true, so the code inside the if block runs.</span></span> <span data-ttu-id="fdb52-274">このコードは、メッセージ変数の値を別の値に変更します。この値は、マークアップで表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-274">The code changes the value of the message variable to a different value, which is what's rendered in the markup.</span></span>

<span data-ttu-id="fdb52-275">ここで、マークアップに if 条件を追加します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-275">Now add an if condition in the markup.</span></span> <span data-ttu-id="fdb52-276">**[送信]** ボタンを含む &lt;p&gt; 要素の下に、次のマークアップを追加します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-276">Below the &lt;p&gt; element that contains the **Submit** button, add the following markup:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample9.cshtml)]

<span data-ttu-id="fdb52-277">マークアップ内にコードを追加しようとしているため、@から始める必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-277">You're adding code inside the markup, so you have to start with @.</span></span> <span data-ttu-id="fdb52-278">次に、コードブロックで前に追加したものと同様の if テストがあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-278">Then there's an if test similar to the one you added earlier up in the code block.</span></span> <span data-ttu-id="fdb52-279">ただし、中かっこ内では通常の HTML を追加しています。少なくとも、@DateTime.Nowになるまでは通常の HTML です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-279">Inside the braces, though, you're adding ordinary HTML — at least, it's ordinary until it gets to @DateTime.Now.</span></span> <span data-ttu-id="fdb52-280">これは Razor コードのもう1つの部分です。そのため、その前に @ を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-280">This is another little bit of Razor code, so again you have to add @ in front of it.</span></span>

<span data-ttu-id="fdb52-281">ここでは、上部とマークアップの両方のコードブロックに条件を追加できることを示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-281">The point here is that you can add if conditions in both the code block at the top and in the markup.</span></span> <span data-ttu-id="fdb52-282">ページの本文で if 条件を使用する場合は、ブロック内の行をマークアップまたはコードにすることができます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-282">If you use an if condition in the body of the page, the lines inside the block can be markup or code.</span></span> <span data-ttu-id="fdb52-283">そのような場合や、マークアップとコードを混在させる場合は常に、@ を使用して、コードがどこにあるかを ASP.NET に明確にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-283">In that case, and as is true anytime you mix markup and code, you have to use @ to make it clear to ASP.NET where the code is.</span></span>

<span data-ttu-id="fdb52-284">ページを実行し、 **[送信]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-284">Run the page and click **Submit**.</span></span> <span data-ttu-id="fdb52-285">今回は、送信時に別のメッセージが表示されるだけではありません ("現在送信した...") が、日付と時刻を一覧表示する新しいメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-285">This time you not only see a different message when you submit ("Now you've submitted ..."), but you see a new message that lists the date and time.</span></span>

![送信後にタイムスタンプが表示されているブラウザーで実行されている ' テスト Razor 2 ' ページ](intro-to-web-pages-programming/_static/image4.png)

### <a name="testing-the-value-of-a-query-string"></a><span data-ttu-id="fdb52-287">クエリ文字列の値のテスト</span><span class="sxs-lookup"><span data-stu-id="fdb52-287">Testing the value of a query string</span></span>

<span data-ttu-id="fdb52-288">もう1つテスト。</span><span class="sxs-lookup"><span data-stu-id="fdb52-288">One more test.</span></span> <span data-ttu-id="fdb52-289">今回は、クエリ文字列に渡される可能性がある show という名前の値をテストする if ブロックを追加します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-289">This time, you'll add an if block that tests a value named show that might be passed in the query string.</span></span> <span data-ttu-id="fdb52-290">(例: `http://localhost:43097/TestRazorPart2.cshtml?show=true`)表示されているメッセージ ("This is the first time..." など) が表示されるようにページを変更します。 [表示] の値が true の場合にのみ表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-290">(Like this: `http://localhost:43097/TestRazorPart2.cshtml?show=true`) You'll change the page so that the message you've been displaying ("This is the first time ...", etc.) is only displayed if the value of show is true.</span></span>

<span data-ttu-id="fdb52-291">ページの一番上にあるコードブロックの下 (ただし内側) で、次のコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-291">At the bottom (but inside) the code block at the top of the page, add the following:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample10.cs)]

<span data-ttu-id="fdb52-292">完成したコードブロックは、次の例のようになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-292">The complete code block now look like the following example.</span></span> <span data-ttu-id="fdb52-293">(コードをページにコピーすると、インデントが異なる場合があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="fdb52-293">(Remember that when you copy the code into your page, the indentation might look different.</span></span> <span data-ttu-id="fdb52-294">ただし、これはコードの実行方法には影響しません)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-294">But that doesn't affect how the code runs.)</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample11.cshtml)]

<span data-ttu-id="fdb52-295">ブロック内の新しいコードは、showMessage という名前の変数を false に初期化します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-295">The new code in the block initializes a variable named showMessage to false.</span></span> <span data-ttu-id="fdb52-296">次に、if テストを実行して、クエリ文字列内の値を検索します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-296">It then does an if test to look for a value in the query string.</span></span> <span data-ttu-id="fdb52-297">最初にページを要求すると、次のような URL が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-297">When you first request the page, it has a URL like this one:</span></span>

`http://localhost:43097/TestRazorPart2.cshtml`

<span data-ttu-id="fdb52-298">このコードは、url の次のバージョンのように、クエリ文字列に show という名前の変数が含まれているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-298">The code determines whether the URL contains a variable named show in the query string, like this version of the URL:</span></span>

<span data-ttu-id="fdb52-299">`http://localhost:43097/TestRazorPart2.cshtml`? show = true</span><span class="sxs-lookup"><span data-stu-id="fdb52-299">`http://localhost:43097/TestRazorPart2.cshtml`?show=true</span></span>

<span data-ttu-id="fdb52-300">テスト自体は、要求オブジェクトの QueryString プロパティを調べます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-300">The test itself looks at the QueryString property of the Request object.</span></span> <span data-ttu-id="fdb52-301">クエリ文字列に show という名前の項目が含まれていて、その項目が true に設定されている場合は、if ブロックが実行され、showMessage 変数が true に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-301">If the query string contains an item named show, and if that item is set to true, the if block runs and sets the showMessage variable to true.</span></span>

<span data-ttu-id="fdb52-302">ご覧のとおり、ここにはコツがあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-302">There's a trick here, as you can see.</span></span> <span data-ttu-id="fdb52-303">名前のように、クエリ文字列は文字列です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-303">Like the name says, the query string is a string.</span></span> <span data-ttu-id="fdb52-304">ただし、テストする値がブール値 (true/false) の場合にのみ、true と false のテストを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-304">However, you can only test for true and false if the value you're testing is a Boolean (true/false) value.</span></span> <span data-ttu-id="fdb52-305">クエリ文字列の show 変数の値をテストする前に、それをブール値に変換する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-305">Before you can test the value of the show variable in the query string, you have to convert it to a Boolean value.</span></span> <span data-ttu-id="fdb52-306">これが AsBool メソッドで実行されます。これは、文字列を入力として受け取り、それをブール値に変換します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-306">That's what the AsBool method does — it takes a string as input and converts it to a Boolean value.</span></span> <span data-ttu-id="fdb52-307">文字列が "true" の場合、AsBool メソッドはその値を true に変換します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-307">Clearly, if the string is "true", the AsBool method converts that value to true.</span></span> <span data-ttu-id="fdb52-308">文字列の値が他の値の場合、AsBool は false を返します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-308">If the value of the string is anything else, AsBool returns false.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="fdb52-309">**データ型と As () メソッド**</span><span class="sxs-lookup"><span data-stu-id="fdb52-309">**Data Types and As() Methods**</span></span>
> 
> <span data-ttu-id="fdb52-310">ここまでに説明したのは、変数を作成するときに、キーワード var を使用することです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-310">We've only said so far that when you create a variable, you use the keyword var.</span></span> <span data-ttu-id="fdb52-311">ただし、これはストーリー全体ではありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-311">That's not the entire story, though.</span></span> <span data-ttu-id="fdb52-312">値の操作 (数値の追加、文字列の連結、日付の比較、または true/false のテスト) C#を行うには、値の適切な内部表現を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-312">In order to manipulate values — to add numbers, or concatenate strings, or compare dates, or test for true/false — C# has to work with an appropriate internal representation of the value.</span></span> <span data-ttu-id="fdb52-313">C#*通常*は、値を使用して何を行っているかに基づいて、その表現がどのようなものであるか (つまり、データの*種類*) を把握できます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-313">C# can *usually* figure out what that representation should be (that is, what *type* the data is) based on what you're doing with the values.</span></span> <span data-ttu-id="fdb52-314">でも、それはできません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-314">Now and then, though, it can't do that.</span></span> <span data-ttu-id="fdb52-315">それ以外の場合は、がデータをどのようC#に表すかを明示的に示す必要があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-315">If not, you have to help out by explicitly indicating how C# should represent the data.</span></span> <span data-ttu-id="fdb52-316">AsBool メソッドは、"true" またC#は "false" の文字列値をブール値として処理するように指示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-316">The AsBool method does that — it tells C# that a string value of "true" or "false" should be treated as a Boolean value.</span></span> <span data-ttu-id="fdb52-317">同様のメソッドは、AsInt (整数として扱う)、Asint (日付/時刻として扱う)、Asint (浮動小数点数として扱う) など、他の型として文字列を表すためにも存在します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-317">Similar methods exist to represent strings as other types as well, like AsInt (treat as an integer), AsDateTime (treat as a date/time), AsFloat (treat as a floating-point number), and so on.</span></span> <span data-ttu-id="fdb52-318">これらの As () メソッドを使用する場合C# 、が要求どおりに文字列値を表すことができないと、エラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-318">When you use these As( ) methods, if C# can't represent the string value as requested, you'll see an error.</span></span>

<span data-ttu-id="fdb52-319">ページのマークアップで、この要素を削除またはコメントアウトします (ここではコメントアウトされています)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-319">In the markup of the page, remove or comment out this element (here it's shown commented out):</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample12.html)]

<span data-ttu-id="fdb52-320">そのテキストを削除またはコメントアウトした場合は、次の内容を追加します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-320">Right where you removed or commented out that text, add the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample13.cshtml)]

<span data-ttu-id="fdb52-321">If テストでは、showMessage 変数が true の場合、メッセージ変数の値を使用して &lt;p&gt; 要素をレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-321">The if test says that if the showMessage variable is true, render a &lt;p&gt; element with the value of the message variable.</span></span>

### <a name="summary-of-your-conditional-logic"></a><span data-ttu-id="fdb52-322">条件ロジックの概要</span><span class="sxs-lookup"><span data-stu-id="fdb52-322">Summary of your conditional logic</span></span>

<span data-ttu-id="fdb52-323">完了したことが完全にわからない場合は、概要を確認してください。</span><span class="sxs-lookup"><span data-stu-id="fdb52-323">In case you're not entirely sure of what you've just done, here's a summary.</span></span>

- <span data-ttu-id="fdb52-324">メッセージ変数は、既定の文字列に初期化されます ("This is the first time...")。</span><span class="sxs-lookup"><span data-stu-id="fdb52-324">The message variable is initialized to a default string ("This is the first time ...").</span></span>
- <span data-ttu-id="fdb52-325">ページ要求が送信 (post) の結果である場合、メッセージの値は "現在送信しています..." に変更されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-325">If the page request is the result of a submit (post), the value of message is changed to "Now you've submitted ..."</span></span>
- <span data-ttu-id="fdb52-326">ShowMessage 変数は false に初期化されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-326">The showMessage variable is initialized to false.</span></span>
- <span data-ttu-id="fdb52-327">クエリ文字列に? show = true が含まれている場合、showMessage 変数は true に設定されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-327">If the query string contains ?show=true, the showMessage variable is set to true.</span></span>
- <span data-ttu-id="fdb52-328">マークアップでは、showMessage が true の場合、メッセージの値を示す &lt;p&gt; 要素がレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-328">In the markup, if showMessage is true, a &lt;p&gt; element is rendered that shows the value of message.</span></span> <span data-ttu-id="fdb52-329">(ShowMessage が false の場合、マークアップのその時点では何もレンダリングされません)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-329">(If showMessage is false, nothing is rendered at that point in the markup.)</span></span>
- <span data-ttu-id="fdb52-330">マークアップでは、要求が post の場合、&lt;p&gt; 要素がレンダリングされ、日付と時刻が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-330">In the markup, if the request is a post, a &lt;p&gt; element is rendered that displays the date and time.</span></span>

<span data-ttu-id="fdb52-331">ページを実行します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-331">Run the page.</span></span> <span data-ttu-id="fdb52-332">ShowMessage が false であるため、メッセージはありません。そのため、マークアップでは、if (showMessage) テストは false を返します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-332">There's no message, because showMessage is false, so in the markup the if(showMessage) test returns false.</span></span>

<span data-ttu-id="fdb52-333">**[送信]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-333">Click **Submit**.</span></span> <span data-ttu-id="fdb52-334">日付と時刻は表示されますが、メッセージは表示されません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-334">You see the date and time, but still no message.</span></span>

<span data-ttu-id="fdb52-335">ブラウザーで [URL] ボックスにアクセスし、URL の末尾に次のコードを追加します。? show = true と入力し、enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-335">In your browser, go to the URL box and add the following to the end of the URL: ?show=true and then press Enter.</span></span>

![クエリ文字列を示す ' テスト Razor 2 ' ページ (ブラウザー内)](intro-to-web-pages-programming/_static/image5.png)

<span data-ttu-id="fdb52-337">ページが再び表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-337">The page is displayed again.</span></span> <span data-ttu-id="fdb52-338">(URL を変更したため、これは送信ではなく新しい要求です)。もう一度 **[送信]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-338">(Because you changed the URL, this is a new request, not a submit.) Click **Submit** again.</span></span> <span data-ttu-id="fdb52-339">メッセージは、日付と時刻と同様に再び表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-339">The message is displayed again, as is the date and time.</span></span>

![クエリ文字列がある場合に送信された ' テスト Razor 2 ' ページ](intro-to-web-pages-programming/_static/image6.png)

<span data-ttu-id="fdb52-341">URL で? show = true に変更し、show = false と入力し、enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-341">In the URL, change ?show=true to ?show=false and press Enter.</span></span> <span data-ttu-id="fdb52-342">ページをもう一度送信します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-342">Submit the page again.</span></span> <span data-ttu-id="fdb52-343">ページは開始した方法に戻ります。メッセージは表示されません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-343">The page is back to how you started — no message.</span></span>

<span data-ttu-id="fdb52-344">前述のように、この例のロジックは少し不自然です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-344">As noted earlier, the logic of this example is a little contrived.</span></span> <span data-ttu-id="fdb52-345">ただし、が多くのページで使用される場合は、ここに表示されている1つ以上のフォームを取得します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-345">However, if is going to come up in many of your pages, and it will take one or more of the forms you've seen here.</span></span>

## <a name="installing-a-helper-displaying-a-gravatar-image"></a><span data-ttu-id="fdb52-346">ヘルパーのインストール (Gravatar イメージの表示)</span><span class="sxs-lookup"><span data-stu-id="fdb52-346">Installing a Helper (Displaying a Gravatar Image)</span></span>

<span data-ttu-id="fdb52-347">Web ページで頻繁に実行するタスクには、多くのコードが必要になる場合や、追加の知識が必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-347">Some tasks that people often want to do on web pages require a lot of code or require extra knowledge.</span></span> <span data-ttu-id="fdb52-348">例: データのグラフを表示するFacebook の "Like" ボタンをページに配置します。web サイトから電子メールを送信しています。イメージのトリミングまたはサイズ変更サイトで PayPal を使用します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-348">Examples: displaying a chart for data; putting a Facebook "Like" button on a page; sending email from your website; cropping or resizing images; using PayPal for your site.</span></span> <span data-ttu-id="fdb52-349">このような作業を簡単に行うために、ASP.NET Web ページで*ヘルパー*を使用できます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-349">To make it easy to do these kinds of things, ASP.NET Web Pages lets you use *helpers*.</span></span> <span data-ttu-id="fdb52-350">ヘルパーは、サイト用にインストールするコンポーネントであり、いくつかの Razor コードだけを使用して一般的なタスクを実行できます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-350">Helpers are components that you install for a site and that let you perform typical tasks by using just a few lines of Razor code.</span></span>

<span data-ttu-id="fdb52-351">ASP.NET Web ページには、いくつかのヘルパーが組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-351">ASP.NET Web Pages has a few helpers built in.</span></span> <span data-ttu-id="fdb52-352">ただし、NuGet パッケージマネージャーを使用して提供されているパッケージ (アドイン) では、多くのヘルパーを利用できます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-352">However, many helpers are available in packages (add-ins) that are provided using the NuGet package manager.</span></span> <span data-ttu-id="fdb52-353">NuGet を使用すると、インストールするパッケージを選択して、インストールのすべての詳細を処理できます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-353">NuGet lets you select a package to install and then it takes care of all the details of the installation.</span></span>

<span data-ttu-id="fdb52-354">チュートリアルのこの部分では、Gravatar ("グローバルに認識されたアバター") イメージを表示できるヘルパーをインストールします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-354">In this part of the tutorial, you'll install a helper that lets you display a Gravatar ("globally recognized avatar") image.</span></span> <span data-ttu-id="fdb52-355">2つのことについて説明します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-355">You'll learn two things.</span></span> <span data-ttu-id="fdb52-356">1つは、ヘルパーを検索してインストールする方法です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-356">One is how to find and install a helper.</span></span> <span data-ttu-id="fdb52-357">また、ヘルパーを使用して、自分で記述する必要のあるコードを多数使用することによって行う必要がある操作を簡単に行う方法についても説明します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-357">You'll also learn how a helper makes it easy to do something you'd otherwise need to do by using a lot of code you'd have to write yourself.</span></span>

<span data-ttu-id="fdb52-358">[http://www.gravatar.com/](http://www.gravatar.com/)の Gravatar web サイトに独自の Gravatar を登録できますが、チュートリアルのこの部分を実行するために Gravatar アカウントを作成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="fdb52-358">You can register your own Gravatar at the Gravatar website at [http://www.gravatar.com/](http://www.gravatar.com/), but it is not essential to create a Gravatar account to perform this part of the tutorial.</span></span>

<span data-ttu-id="fdb52-359">WebMatrix で、 **[NuGet]** ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="fdb52-359">In WebMatrix, click the **NuGet** button.</span></span>

![WebMatrix の [NuGet ギャラリー] ダイアログボックス](intro-to-web-pages-programming/_static/image7.png)

<span data-ttu-id="fdb52-361">NuGet パッケージマネージャーが起動し、使用可能なパッケージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-361">This launches the NuGet package manager and displays available packages.</span></span> <span data-ttu-id="fdb52-362">(すべてのパッケージがヘルパーであるとは限りません。 WebMatrix 自体に機能を追加するものと、追加のテンプレートを追加するものがあります)。バージョンに互換性がないというエラーメッセージが表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-362">(Not all of the packages are helpers; some add functionality to WebMatrix itself, some are additional templates, and so on.) You may get an error message about version incompatibility.</span></span> <span data-ttu-id="fdb52-363">このエラーメッセージを無視するには、 **[OK]** をクリックし、このチュートリアルを続行します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-363">You can ignore this error message by clicking **OK** and proceeding with this tutorial.</span></span>

![WebMatrix の [NuGet ギャラリー] ダイアログボックス](intro-to-web-pages-programming/_static/image8.png)

<span data-ttu-id="fdb52-365">検索ボックスに、「asp.net のヘルパー」と入力します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-365">In the search box, enter "asp.net helpers".</span></span> <span data-ttu-id="fdb52-366">NuGet では、検索語句に一致するパッケージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-366">NuGet shows the packages that match the search terms.</span></span>

![パッケージを示す WebMatrix の NuGet ギャラリー](intro-to-web-pages-programming/_static/image9.png)

<span data-ttu-id="fdb52-368">ASP.NET Web ヘルパーライブラリには、Gravatar イメージの使用など、多くの一般的なタスクを簡略化するコードが含まれています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-368">The ASP.NET Web Helpers Library contains code to simplify many common tasks, including the use of Gravatar images.</span></span> <span data-ttu-id="fdb52-369">**ASP.NET Web ヘルパーライブラリ**パッケージを選択し、 **[インストール]** をクリックしてインストーラーを起動します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-369">Select the **ASP.NET Web Helpers Library** package and then click **Install** to launch the installer.</span></span> <span data-ttu-id="fdb52-370">パッケージをインストールするかどうかを確認するメッセージが表示されたら [**はい]** を選択し、インストールを完了するための条項に同意します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-370">Select **Yes** when asked if you want to install the package, and accept the terms to complete the installation.</span></span>

<span data-ttu-id="fdb52-371">これで終了です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-371">That's it.</span></span> <span data-ttu-id="fdb52-372">NuGet では、必要になる可能性のある追加コンポーネント (*依存関係*) を含め、すべてがダウンロードされ、インストールされます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-372">NuGet downloads and installs everything, including any additional components that might be required (*dependencies*).</span></span>

<span data-ttu-id="fdb52-373">何らかの理由でヘルパーをアンインストールする必要がある場合、プロセスは非常に似ています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-373">If for some reason you have to uninstall a helper, the process is very similar.</span></span> <span data-ttu-id="fdb52-374">**[NuGet]** ボタンをクリックし、 **[インストール済み]** タブをクリックして、アンインストールするパッケージを選択します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-374">Click the **NuGet** button, click the **Installed** tab, and pick the package you want to uninstall.</span></span>

## <a name="using-a-helper-in-a-page"></a><span data-ttu-id="fdb52-375">ページでのヘルパーの使用</span><span class="sxs-lookup"><span data-stu-id="fdb52-375">Using a Helper in a Page</span></span>

<span data-ttu-id="fdb52-376">ここで、インストールしたばかりのヘルパーを使用します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-376">Now you'll use the helper that you just installed.</span></span> <span data-ttu-id="fdb52-377">ヘルパーをページに追加するプロセスは、ほとんどのヘルパーに似ています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-377">The process for adding a helper to a page is similar for most helpers.</span></span>

<span data-ttu-id="fdb52-378">WebMatrix で、ページを作成し、 *GravatarTest*という名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-378">In WebMatrix, create a page and name it *GravatarTest.cshml*.</span></span> <span data-ttu-id="fdb52-379">(ヘルパーをテストするための特別なページを作成していますが、ヘルパーはサイト内のどのページでも使用できます)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-379">(You're creating a special page to test the helper, but you can use helpers in any page in your site.)</span></span>

<span data-ttu-id="fdb52-380">&lt;body&gt; 要素内に、&lt;div&gt; 要素を追加します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-380">Inside the &lt;body&gt; element, add a &lt;div&gt; element.</span></span> <span data-ttu-id="fdb52-381">&lt;div&gt; 要素内に、次のように入力します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-381">Inside the &lt;div&gt; element, type this:</span></span>

<span data-ttu-id="fdb52-382">[https://login.microsoftonline.com/consumers/](@Gravatar)</span><span class="sxs-lookup"><span data-stu-id="fdb52-382">@Gravatar.</span></span>

<span data-ttu-id="fdb52-383">@ 文字は、Razor コードをマークするために使用していた文字と同じです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-383">The @ character is the same character you've been using to mark Razor code.</span></span> <span data-ttu-id="fdb52-384">**Gravatar**は、使用しているヘルパーオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-384">**Gravatar** is the helper object that you're working with.</span></span>

<span data-ttu-id="fdb52-385">ピリオド (.) を入力するとすぐに、WebMatrix によって、Gravatar helper によって使用可能になる*メソッド*(関数) の一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-385">As soon as you type the period (.), WebMatrix displays a list of *methods* (functions) that the Gravatar helper makes available:</span></span>

![Gravatar helper IntelliSense のドロップダウンリスト](intro-to-web-pages-programming/_static/image10.png)

<span data-ttu-id="fdb52-387">この機能は、 *IntelliSense*と呼ばれています。</span><span class="sxs-lookup"><span data-stu-id="fdb52-387">This feature is known as *IntelliSense*.</span></span> <span data-ttu-id="fdb52-388">コンテキストに適した選択肢を提供することで、コードを作成できます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-388">It helps you code by providing context-appropriate choices.</span></span> <span data-ttu-id="fdb52-389">IntelliSense は、HTML、CSS、ASP.NET コード、JavaScript、および WebMatrix でサポートされているその他の言語で動作します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-389">IntelliSense works with HTML, CSS, ASP.NET code, JavaScript, and other languages that are supported in WebMatrix.</span></span> <span data-ttu-id="fdb52-390">これは、WebMatrix で web ページを簡単に開発できるようにするもう1つの機能です。</span><span class="sxs-lookup"><span data-stu-id="fdb52-390">It's another feature that makes it easier to develop web pages in WebMatrix.</span></span>

<span data-ttu-id="fdb52-391">キーボードの G キーを押すと、IntelliSense によって GetHtml メソッドが検出されることがわかります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-391">Press G on the keyboard, and you see that IntelliSense finds the GetHtml method.</span></span> <span data-ttu-id="fdb52-392">Tab キーを押します。 IntelliSense によって、選択したメソッド (GetHtml) が挿入されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-392">Press Tab. IntelliSense inserts the selected method (GetHtml) for you.</span></span> <span data-ttu-id="fdb52-393">始めかっこを入力すると、閉じかっこが自動的に追加されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-393">Type an open parenthesis, and notice that the closing parenthesis is automatically added.</span></span> <span data-ttu-id="fdb52-394">2つのかっこの間に、電子メールアドレスを引用符で囲んで入力します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-394">Type your email address in quotation marks between the two parenthesis.</span></span> <span data-ttu-id="fdb52-395">Gravatar アカウントを持っている場合は、プロファイル画像が返されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-395">If you have a Gravatar account, your profile picture will be returned.</span></span> <span data-ttu-id="fdb52-396">Gravatar アカウントを持っていない場合は、既定の画像が返されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-396">If you do not have a Gravatar account, a default image is returned.</span></span> <span data-ttu-id="fdb52-397">完了すると、行は次のようになります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-397">When you're done, the line looks like this:</span></span>

[!code-css[Main](intro-to-web-pages-programming/samples/sample14.css)]

<span data-ttu-id="fdb52-398">次に、ブラウザーでページを表示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-398">Now view the page in a browser.</span></span> <span data-ttu-id="fdb52-399">Gravatar アカウントがあるかどうかに応じて、画像または既定の画像が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-399">Either your picture or the default image is displayed, depending on whether you have a Gravatar account.</span></span>

![Gravatar](intro-to-web-pages-programming/_static/image11.png) ![既定の画像](intro-to-web-pages-programming/_static/image12.png)

<span data-ttu-id="fdb52-402">ヘルパーが何をしているかを把握するには、ブラウザーでページのソースを表示します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-402">To get an idea of what the helper is doing for you, view the source of the page in the browser.</span></span> <span data-ttu-id="fdb52-403">ページにある HTML と共に、識別子を含む image 要素が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-403">Along with the HTML that you had in your page, you see an image element that includes an identifier.</span></span> <span data-ttu-id="fdb52-404">これは、@Gravatar.GetHtmlした場所のページにヘルパーがレンダリングしたコードです。</span><span class="sxs-lookup"><span data-stu-id="fdb52-404">This is code that the helper rendered into the page at the place where you had @Gravatar.GetHtml.</span></span> <span data-ttu-id="fdb52-405">ヘルパーは、指定された情報を受け取り、指定されたアカウントの正しいイメージを取得するために、Gravatar に直接通信するコードを生成しました。</span><span class="sxs-lookup"><span data-stu-id="fdb52-405">The helper took the information you provided and generated the code that talks directly to Gravatar in order to get back the correct image for supplied account.</span></span>

<span data-ttu-id="fdb52-406">GetHtml メソッドを使用すると、他のパラメーターを指定してイメージをカスタマイズすることもできます。</span><span class="sxs-lookup"><span data-stu-id="fdb52-406">The GetHtml method also enables you to customize the image by providing other parameters.</span></span> <span data-ttu-id="fdb52-407">次のコードは、イメージの幅と高さが40ピクセルであることを要求する方法を示しています。指定されたアカウントが存在しない場合は、 **wavatar**という名前の指定された既定のイメージを使用します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-407">The following code shows how to request an image has a width and height of 40 pixels, and uses a specified default image named **wavatar** if the specified account does not exist.</span></span>

[!code-javascript[Main](intro-to-web-pages-programming/samples/sample15.js)]

<span data-ttu-id="fdb52-408">このコードでは、次のような結果が生成されます (既定のイメージはランダムに変化します)。</span><span class="sxs-lookup"><span data-stu-id="fdb52-408">This code produces something like the following result (the default image will randomly vary).</span></span>

![](intro-to-web-pages-programming/_static/image13.png)

## <a name="coming-up-next"></a><span data-ttu-id="fdb52-409">次へ</span><span class="sxs-lookup"><span data-stu-id="fdb52-409">Coming Up Next</span></span>

<span data-ttu-id="fdb52-410">このチュートリアルを簡潔にするために、いくつかの基本に焦点を当てる必要がありました。</span><span class="sxs-lookup"><span data-stu-id="fdb52-410">To keep this tutorial short, we had to focus on only a few basics.</span></span> <span data-ttu-id="fdb52-411">当然ながら、Razor とC#に*はさらに多くの*ことがあります。</span><span class="sxs-lookup"><span data-stu-id="fdb52-411">Naturally, there's a *lot* more to Razor and C#.</span></span> <span data-ttu-id="fdb52-412">詳細については、これらのチュートリアルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="fdb52-412">You'll learn more as you go through these tutorials.</span></span> <span data-ttu-id="fdb52-413">Razor とC#現在のプログラミングの側面の詳細については、「 [Razor 構文を使用した ASP.NET Web プログラミングの概要」を](https://go.microsoft.com/fwlink/?LinkID=202890)参照してください。</span><span class="sxs-lookup"><span data-stu-id="fdb52-413">If you're interested in learning more about the programming aspects of Razor and C# right now, you can read a more thorough introduction here: [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkID=202890).</span></span>

<span data-ttu-id="fdb52-414">次のチュートリアルでは、データベースを操作する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-414">The next tutorial introduces you to working with a database.</span></span> <span data-ttu-id="fdb52-415">このチュートリアルでは、お気に入りのムービーの一覧を表示できるサンプルアプリケーションの作成を開始します。</span><span class="sxs-lookup"><span data-stu-id="fdb52-415">In that tutorial, you'll begin creating the sample application that lets you list your favorite movies.</span></span>

## <a name="complete-listing-for-testrazor-page"></a><span data-ttu-id="fdb52-416">TestRazor ページの完全な一覧表示</span><span class="sxs-lookup"><span data-stu-id="fdb52-416">Complete Listing for TestRazor Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample16.cshtml)]

## <a name="complete-listing-for-testrazorpart2-page"></a><span data-ttu-id="fdb52-417">TestRazorPart2 ページの完全な一覧表示</span><span class="sxs-lookup"><span data-stu-id="fdb52-417">Complete Listing for TestRazorPart2 Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample17.cshtml)]

## <a name="complete-listing-for-gravatartest-page"></a><span data-ttu-id="fdb52-418">GravatarTest ページの完全な一覧表示</span><span class="sxs-lookup"><span data-stu-id="fdb52-418">Complete Listing for GravatarTest Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample18.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="fdb52-419">その他のリソース</span><span class="sxs-lookup"><span data-stu-id="fdb52-419">Additional Resources</span></span>

- [<span data-ttu-id="fdb52-420">Razor 構文を使用した ASP.NET Web プログラミングの概要</span><span class="sxs-lookup"><span data-stu-id="fdb52-420">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)
- [<span data-ttu-id="fdb52-421">Twitter ヘルパー</span><span class="sxs-lookup"><span data-stu-id="fdb52-421">Twitter helper</span></span>](../../ui-layouts-and-themes/twitter-helper.md)

> [!div class="step-by-step"]
> <span data-ttu-id="fdb52-422">[前へ](getting-started.md)
> [次へ](displaying-data.md)</span><span class="sxs-lookup"><span data-stu-id="fdb52-422">[Previous](getting-started.md)
[Next](displaying-data.md)</span></span>
