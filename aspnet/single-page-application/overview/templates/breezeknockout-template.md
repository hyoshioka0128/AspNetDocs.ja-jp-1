---
uid: single-page-application/overview/templates/breezeknockout-template
title: 簡単/ノックアウトテンプレート |Microsoft Docs
author: madskristensen
description: 簡単/ノックアウトの単一ページアプリケーションテンプレート
ms.author: riande
ms.date: 01/30/2013
ms.assetid: 3bd94827-3c59-448f-abc3-36e6df4858db
msc.legacyurl: /single-page-application/overview/templates/breezeknockout-template
msc.type: authoredcontent
ms.openlocfilehash: 5bb9ee8f758a25afa6baf3ccbaf7d5864754c7df
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78449746"
---
# <a name="breezeknockout-template"></a>Breeze/Knockout テンプレート

[Mads Kristensen](https://github.com/madskristensen)

> 簡単/ノックアウトの MVC テンプレートがベルによって作成されました
> 
> [簡単/ノックアウトの MVC テンプレートをダウンロードする](https://go.microsoft.com/fwlink/?LinkId=282649)

「シングルページアプリケーション」 (SPA) について耳にし、その内容を確認しました。 説明を読むこともできますが、自分で試してみてください。 しかし、サンプルをダウンロードする時間はありますか。 Visual Studio を使用している場合は、ASP.NET MVC 4 の "簡単/ノックアウトシングルページアプリケーション" テンプレートを使用して、SPA の例を60秒未満で稼働させます。

![](http://www.breezejs.com/sites/all/images/spa-template/ZephyrRunning.png)

## <a name="what-is-the-breezeknockout-spa-template"></a>簡単/ノックアウトの SPA テンプレートとは何ですか。

ほとんどのプロジェクトテンプレートは、アプリケーションスケルトンを生成します。 コードを追加することで、これらの骨に具体化を置き、最終的には動作するアプリケーションを提供します。 簡単/ノックアウトの SPA テンプレートが異なります。 この例では、調査するサンプルアプリケーションを生成します。 SPA アプリケーションの設計と、SPA を構築するための多くの手法を示しています。

簡単/ノックアウトテンプレートは、ASP.NET and Web Tools 2012.2 更新プログラムに含まれる[KNOCKOUTJS SPA テンプレート](../introduction/knockoutjs-template.md)のバリエーションです。 簡単な SPA テンプレートでは、同じユーザーエクスペリエンスを持つアプリケーションが生成されますが、データ管理には簡単に使用できますが、実装は異なります。

KnockoutJS SPA テンプレートは、単純なアプリケーションに適した生の jQuery AJAX を使用してサービス要求を行います。 しかし、より高度なアプリには、より厳しいデータ管理要件があります。 たとえば、ほとんどのアプリケーションは次のようになります。

- 拡張ユーザーセッション中にサーバーに対してクエリを実行し、クエリを再実行します。
- クエリフィルター、並べ替え、およびページングを追加します。
- 複数の画面で同じデータを共有します。
- 多くのオブジェクトに変更を蓄積し、1つのトランザクションとして保存します。
- クライアントに対する変更を検証して、ユーザーがデータベースに変更をコミットする前に誤りを修正できるようにします。

BreezeJS ライブラリによってこれらの作業が処理されるため、アプリケーションロジックやユーザーエクスペリエンスを最大限に活用できます。

簡単な機能は、JavaScript および HTML でリッチデータアプリケーションを構築するためのオープンソースライブラリで、[**従来はスタンド**](http://www.breezejs.com/?utm_source=ms-spa)アロンデスクトップアプリケーションとして提供されていたアプリの種類です。

簡単/ノックアウトテンプレートを使用すると、より堅牢なデータ管理インフラストラクチャを実現するための最初の重要な手順を実行できます。 これにより、KnockoutJS SPA テンプレートと同じとのサンプル Todo アプリケーションが生成されます。 内部では、AJAX データレイヤーを簡単に置き換えることができるので、2つの方法を並べて比較することができます。 もちろん、アプリケーションが簡単になる可能性はほとんどありません。 しかし、いかに簡単に動作し、その移行を行うために必要な量が少なくなります。

それでは始めましょう。

## <a name="create-a-breezeknockout-template-project"></a>簡単/ノックアウトテンプレートプロジェクトを作成する

上の [ダウンロード] ボタンをクリックして、テンプレートをダウンロードしてインストールします。 このテンプレートは、Visual Studio 拡張機能 (VSIX) ファイルとしてパッケージ化されています。 場合によっては、Visual Studio を再起動する必要があります。

**[テンプレート]** ペインで、 **[インストールされたテンプレート]** を選択し、  **C#ビジュアル**ノードを展開します。 **[ビジュアルC# ]** で **[Web]** を選択します。 プロジェクトテンプレートの一覧で、 **[ASP.NET MVC 4 Web アプリケーション]** を選択します。 プロジェクト名を指定して、 **[OK]** をクリックします。

**新しいプロジェクト**ウィザードで、[簡単にノックアウトされた**SPA**] を選択します。

![](http://www.breezejs.com/sites/all/images/spa-template/SelectBreezeKOSpaTemplate.png)

Ctrl キーを押しながら F5 キーを押してアプリケーションをビルドし、デバッグせずに実行するか、F5 キーを押してデバッグを実行します。

![](http://www.breezejs.com/sites/all/images/spa-template/ZephyrRunning.png)

アプリケーションを初めて実行すると、ログイン画面が表示されます。 [サインアップ] リンクをクリックすると、新しいページ glides が表示されます。このページでは、ユーザー名とパスワードを入力できます。 (ログインページと登録ページは、ASP.NET MVC を使用して作成されます)。登録フォームを送信すると、サーバーによって、アカウントの2つの項目を含む TodoList が生成されます。 次に、黄色のメモでそれらを表示します。

![](http://www.breezejs.com/sites/all/images/spa-template/TodoList.png)

これで SPA の土地が完成しました。 コードを操作しているときに表示されるものと経験があるものはすべて、ノックアウトと簡単な方法でクライアントでレンダリングおよび管理されます。 アプリをユーザーとして探索... しかし、開発者にとっては、 ブラウザーで開発者ツールを使用して、ネットワークトラフィックをキャプチャします。 (Internet Explorer で F12 キーを押して、 **[ネットワーク]** タブを選択し、 **[キャプチャの開始]** をクリックします)。ここで、次の操作を実行します。

- 新しい Todo 項目を追加します。
- ラベルをクリックし、Todo 項目のタイトルを編集します
- チェックボックスをオンにして、完了した項目をマークします。 テキストボックスが無効になっていることに注意してください。そのため、タイトルは編集できなくなります。
- ラベルの右側にある [x] をクリックします。 アイテムが表示されなくなり、データベースから削除されます。
- 別の項目を選択し、そのタイトルをクリアします。 タイトルが必要であることを示す検証エラーが表示されます。 しばらくすると、前のタイトルが復元されます。
- 呼べの長いタイトルを入力します。 タイトルが長すぎるという別の検証エラーが表示されます。
- [Todo リストの追加] ボタンをクリックします。 前の一覧の左側に新しいリストが表示されます。
- TodoList のタイトルで再生し、必要な長さの検証をトリガーします。
- [タイトル] ボックスをクリックして、エラーメッセージをクリアします。
- 右上隅にある円の "x" をクリックして、TodoList とその todos を削除します。

検証ロジックは、クライアント側で簡単に実行されます。 サーバーモデルクラスの検証属性はクライアントに反映され、クライアントがサーバーに接続する前に自動的に実行されます。

ネットワークトラフィックを確認します。 簡単にエラーが検出された場合、サーバーへの呼び出しがないことに注意してください。 有効な変更が発生するたびに、POST 要求が "/api/Todo/SaveChanges" になりました。 簡単に変更をバンドルし、Web API コントローラーの `SaveChanges` 方法に1つの要求としてまとめて送信します。 これは、各項目に対して、PUT、POST、および DELETE 要求を個別に行う KnockoutJS SPA テンプレートとは異なります。

## <a name="peek-inside"></a>内部を見る

このアプリケーションには、クライアント側とサーバー側があります。 クライアント側スタックは、アプリケーションの JavaScript モジュール ("アプリ" フォルダー内) とサードパーティ製の JavaScript ライブラリ ("Scripts" フォルダー内) のわずかな HTML と組み合わせで構成されます。

![](http://www.breezejs.com/sites/all/images/spa-template/ClientArchitecture.png)

KnockoutJS SPA テンプレートを調査した場合、これは非常になじみのあるものになります。 青いボックスにフォーカスを移動します。 UI アーキテクチャはモデルビュービューモデル (MVVM) で、ビューの HTML ウィジェットはビューモデルのサポートプレゼンテーションコードから明確に分離されています。 データバインディングシステム (このケースではノックアウト) は、ビューとビューモデルを調整して、それぞれが他の情報を熟知することなくジョブを実行できるようにします。

このモデルは、Todo データをカプセル化します。 モデル内のエンティティは、参照可能なプロパティをノックアウトとして簡単に構築されるので、ビューのウィジェットに直接バインドできます。 ビューモデルは、モデルエンティティを取得して保存するようデータコンテキストに要求します。 データコンテキストは、ほとんどの作業を簡単に代行させることができます。

サーバー側スタックは、いくつかの開発者コードと .NET ライブラリである Web API、Entity Framework、Breeze.NET で構成されています。

![](http://www.breezejs.com/sites/all/images/spa-template/ServerArchitecture.png)

基本的なアーキテクチャは、KnockoutJS SPA テンプレートと同じです。 ただし、この実装ははるかに簡単です。 Dto が削除され、Entity Framework の詳細のほとんどが Breeze.NET に委任されています。

## <a name="next-steps"></a>次の手順

ここでは、簡単な web サイトのクライアントとサーバーの両方のスタックについて[詳しく説明](http://www.breezejs.com/spa-template?utm_source=ms-spa)したコードを参照することをお勧めします。

クライアント側のクエリを簡単に試してみることができます。いくつかのフィルターと並べ替えを追加します。 エンドツーエンドの SPA 開発に対してより良い感覚を得るために、モデルのプロパティやエンティティをさらに追加することもできます。 設計が自信を持っている場合は、Todo 機能を破棄して独自の機能に置き換えることができます。

間もなく、次の大規模な手順 (クライアント側の画面の追加とそれらの間の移動) を準備します。 この SPA テンプレートはそのままにして、より完全な SPA スタックにします。たとえば、 [John Papa のホットタオル](https://github.com/johnpapa/HotTowel#readme "ホットタオル")によって、Durandal が簡単でノックアウトなミックスに追加されます。
