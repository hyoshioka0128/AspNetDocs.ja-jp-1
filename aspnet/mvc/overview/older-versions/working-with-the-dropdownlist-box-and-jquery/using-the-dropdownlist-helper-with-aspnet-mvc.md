---
uid: mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
title: ASP.NET MVC で DropDownList ヘルパーを使用する |Microsoft Docs
author: Rick-Anderson
description: ''
ms.author: riande
ms.date: 01/12/2012
ms.assetid: 53767e05-c8ab-42e1-a94b-22d906195200
msc.legacyurl: /mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
msc.type: authoredcontent
ms.openlocfilehash: 6375bb2be158cea18309ffa71c71ac3e67bc91ed
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78433078"
---
# <a name="using-the-dropdownlist-helper-with-aspnet-mvc"></a><span data-ttu-id="861b9-102">ASP.NET MVC で DropDownList ヘルパーを使用する</span><span class="sxs-lookup"><span data-stu-id="861b9-102">Using the DropDownList Helper with ASP.NET MVC</span></span>

<span data-ttu-id="861b9-103">[Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="861b9-103">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="861b9-104">このチュートリアルでは、ASP.NET MVC Web アプリケーションで[DropDownList](https://msdn.microsoft.com/library/dd492948.aspx)ヘルパーと[ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx)ヘルパーを操作するための基本について説明します。</span><span class="sxs-lookup"><span data-stu-id="861b9-104">This tutorial will teach you the basics of working with the [DropDownList](https://msdn.microsoft.com/library/dd492948.aspx) helper and the [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) helper in an ASP.NET MVC Web application.</span></span> <span data-ttu-id="861b9-105">このチュートリアルに従うには、Microsoft Visual Web Developer 2010 Express Service Pack 1 を使用できます。これは Microsoft Visual Studio の無料版です。</span><span class="sxs-lookup"><span data-stu-id="861b9-105">You can use Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio to follow the tutorial.</span></span> <span data-ttu-id="861b9-106">開始する前に、以下に示す前提条件がインストールされていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="861b9-106">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="861b9-107">これらのすべてをインストールするには、次のリンクをクリックします。[Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)。</span><span class="sxs-lookup"><span data-stu-id="861b9-107">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="861b9-108">または、次のリンクを使用して、前提条件を個別にインストールすることもできます。</span><span class="sxs-lookup"><span data-stu-id="861b9-108">Alternatively, you can individually install the prerequisites using the following links:</span></span>

- <span data-ttu-id="861b9-109">[Visual Studio Web Developer EXPRESS SP1 の前提条件](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)<a id="post"></a></span><span class="sxs-lookup"><span data-stu-id="861b9-109">[Visual Studio Web Developer Express SP1 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack) <a id="post"></a></span></span>
- [<span data-ttu-id="861b9-110">ASP.NET MVC 3 ツールの更新</span><span class="sxs-lookup"><span data-stu-id="861b9-110">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
- <span data-ttu-id="861b9-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(ランタイム + ツールのサポート)</span><span class="sxs-lookup"><span data-stu-id="861b9-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>

<span data-ttu-id="861b9-112">Visual Web Developer 2010 ではなく Visual Studio 2010 を使用している場合は、次のリンクをクリックして必要なコンポーネントをインストールします。[Visual Studio 2010 の前提条件](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack)。</span><span class="sxs-lookup"><span data-stu-id="861b9-112">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span> <span data-ttu-id="861b9-113">このチュートリアルでは、 [ASP.NET mvc](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)チュートリアルまたは[ASP.NET mvc ミュージックストア](../mvc-music-store/mvc-music-store-part-1.md)チュートリアルが完了していることを前提としています。または、ASP.NET mvc の開発に精通していることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="861b9-113">This tutorial assumes you have completed the [Intro to ASP.NET MVC](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) tutorial or the[ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial or you are familiar with ASP.NET MVC development.</span></span> <span data-ttu-id="861b9-114">このチュートリアルでは、 [ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md)チュートリアルの変更されたプロジェクトから始めます。</span><span class="sxs-lookup"><span data-stu-id="861b9-114">This tutorial starts with a modified project from the [ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial.</span></span> <span data-ttu-id="861b9-115">次のリンクを使用してスタートプロジェクトをダウンロードし、[バージョンをC#ダウンロード](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829)することができます。</span><span class="sxs-lookup"><span data-stu-id="861b9-115">You can download the starter project with the following link [Download the C# version](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span>

<span data-ttu-id="861b9-116">チュートリアルC#のソースコードが完成した Visual Web Developer プロジェクトは、このトピックに付属しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-116">A Visual Web Developer project with the completed tutorial C# source code is available to accompany this topic.</span></span> <span data-ttu-id="861b9-117">を[ダウンロード](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d)します。</span><span class="sxs-lookup"><span data-stu-id="861b9-117">[Download](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d).</span></span>

### <a name="what-youll-build"></a><span data-ttu-id="861b9-118">作成するアプリケーション:</span><span class="sxs-lookup"><span data-stu-id="861b9-118">What You'll Build</span></span>

<span data-ttu-id="861b9-119">[DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx)ヘルパーを使用してカテゴリを選択するアクションメソッドとビューを作成します。</span><span class="sxs-lookup"><span data-stu-id="861b9-119">You'll create action methods and views that use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select a category.</span></span> <span data-ttu-id="861b9-120">また、 **jQuery**を使用して、新しいカテゴリ (ジャンルやアーティストなど) が必要な場合に使用できる [カテゴリの挿入] ダイアログを追加します。</span><span class="sxs-lookup"><span data-stu-id="861b9-120">You will also use **jQuery** to add an insert category dialog that can be used when a new category (such as genre or artist) is needed.</span></span> <span data-ttu-id="861b9-121">新しいジャンルを追加して新しいアーティストを追加するためのリンクを示す [作成] ビューのスクリーンショットを次に示します。</span><span class="sxs-lookup"><span data-stu-id="861b9-121">Below is a screenshot of the Create view showing links to add a new genre and add a new artist.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image1.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="861b9-122">学習内容</span><span class="sxs-lookup"><span data-stu-id="861b9-122">Skills You'll Learn</span></span>

<span data-ttu-id="861b9-123">ここでは次の内容について学習します。</span><span class="sxs-lookup"><span data-stu-id="861b9-123">Here's what you'll learn:</span></span>

- <span data-ttu-id="861b9-124">[DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx)ヘルパーを使用してカテゴリデータを選択する方法。</span><span class="sxs-lookup"><span data-stu-id="861b9-124">How to use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select category data.</span></span>
- <span data-ttu-id="861b9-125">新しいカテゴリを追加するための**jQuery**ダイアログを追加する方法。</span><span class="sxs-lookup"><span data-stu-id="861b9-125">How to add a **jQuery** dialog to add new categories.</span></span>

### <a name="getting-started"></a><span data-ttu-id="861b9-126">はじめに</span><span class="sxs-lookup"><span data-stu-id="861b9-126">Getting Started</span></span>

<span data-ttu-id="861b9-127">まず、次のリンクを使用してスタートプロジェクト[をダウンロードします。](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829)</span><span class="sxs-lookup"><span data-stu-id="861b9-127">Start by downloading the starter project with the following link, [Download](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span> <span data-ttu-id="861b9-128">Windows エクスプローラーで、 *DDL\_Starter*ファイルを右クリックし、[プロパティ] を選択します。</span><span class="sxs-lookup"><span data-stu-id="861b9-128">In Windows Explorer, right click on the *DDL\_Starter.zip* file and select properties.</span></span> <span data-ttu-id="861b9-129">[ **DDL\_のプロパティ**] ダイアログボックスで、[ブロックの解除] を選択します。</span><span class="sxs-lookup"><span data-stu-id="861b9-129">In the **DDL\_Starter.zip Properties** dialog box, select Unblock.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image2.png)

<span data-ttu-id="861b9-130">DDL\_Starter ファイルを右クリックし、 **[すべて展開]** を選択して、ファイルを解凍します。</span><span class="sxs-lookup"><span data-stu-id="861b9-130">Right click the DDL\_Starter.zip file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="861b9-131">Visual Web Developer 2010 Express ("Visual Web Developer" または "VWD")、または Visual Studio 2010 を使用して、 *StartMusicStore*ファイルを開きます。</span><span class="sxs-lookup"><span data-stu-id="861b9-131">Open the *StartMusicStore.sln* file with Visual Web Developer 2010 Express ("Visual Web Developer" or "VWD" for short) or Visual Studio 2010.</span></span>

<span data-ttu-id="861b9-132">CTRL キーを押しながら F5 キーを押してアプリケーションを実行し、 **[テスト]** リンクをクリックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-132">Press CTRL+F5 to run the application and click the **Test** link.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image3.png)

<span data-ttu-id="861b9-133">**[ムービーカテゴリの選択 (簡易)]** リンクを選択します。</span><span class="sxs-lookup"><span data-stu-id="861b9-133">Select the **Select Movie Category (Simple)** link.</span></span> <span data-ttu-id="861b9-134">選択した値をコメディて、ムービーの種類の選択リストが表示されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-134">A Movie Type Select list is displayed, with Comedy the selected value.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image4.png)

<span data-ttu-id="861b9-135">ブラウザーを右クリックし、[ソースの表示] を選択します。</span><span class="sxs-lookup"><span data-stu-id="861b9-135">Right click in the browser and select view source.</span></span> <span data-ttu-id="861b9-136">ページの HTML が表示されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-136">The HTML for the page is displayed.</span></span> <span data-ttu-id="861b9-137">次のコードは、select 要素の HTML を示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-137">The code below shows the HTML for the select element.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample1.html)]

<span data-ttu-id="861b9-138">選択リストの各項目には値 (Action には0、ドラマには1、コメディの場合は1、サイエンスの場合は 3) と表示名 (Action、ドラマ、コメディ、およびサイエンス) が表示されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-138">You can see that each item in the select list has a value (0 for Action, 1 for Drama, 2 for Comedy and 3 for Science Fiction) and a display name (Action, Drama, Comedy and Science Fiction).</span></span> <span data-ttu-id="861b9-139">上記のコードは、選択リストの標準 HTML です。</span><span class="sxs-lookup"><span data-stu-id="861b9-139">The code above is standard HTML for a select list.</span></span>

<span data-ttu-id="861b9-140">選択リストをドラマに変更し、 **[送信]** ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-140">Change the select list to Drama and hit the **Submit** button.</span></span> <span data-ttu-id="861b9-141">ブラウザーの URL が `http://localhost:2468/Home/CategoryChosen?MovieType=1`、選択した **ページが表示されます。1**。</span><span class="sxs-lookup"><span data-stu-id="861b9-141">The URL in the browser is `http://localhost:2468/Home/CategoryChosen?MovieType=1` and the page displays **You Selected: 1**.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image5.png)

<span data-ttu-id="861b9-142">*Controllers\ homecontroller.cs*ファイルを開き、`SelectCategory` メソッドを確認します。</span><span class="sxs-lookup"><span data-stu-id="861b9-142">Open the *Controllers\HomeController.cs* file and examine the `SelectCategory` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample2.cs)]

<span data-ttu-id="861b9-143">HTML 選択リストを作成するために使用される[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx)ヘルパーには、明示的または暗黙的に**IEnumerable&lt;selectlistitem &gt;** が必要です。</span><span class="sxs-lookup"><span data-stu-id="861b9-143">The [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper used to create an HTML select list requires a **IEnumerable&lt;SelectListItem &gt;**, either explicitly or implicitly.</span></span> <span data-ttu-id="861b9-144">つまり、 **ienumerable&lt;selectlistitem &gt;** を明示的に[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx)ヘルパーに渡すことができます。または、モデルプロパティとして**selectlistitem**に同じ名前を使用して、 **ienumerable&lt;selectlistitem &gt;** を[ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx)に追加することができます。</span><span class="sxs-lookup"><span data-stu-id="861b9-144">That is, you can pass the **IEnumerable&lt;SelectListItem &gt;** explicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper or you can add the **IEnumerable&lt;SelectListItem &gt;** to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) using the same name for the **SelectListItem** as the model property.</span></span> <span data-ttu-id="861b9-145">**Selectlistitem**を暗黙的かつ明示的に渡す方法については、チュートリアルの次の部分で説明します。</span><span class="sxs-lookup"><span data-stu-id="861b9-145">Passing in the **SelectListItem** implicitly and explicitly is covered in the next part of the tutorial.</span></span> <span data-ttu-id="861b9-146">上のコードは、 **IEnumerable&lt;SelectListItem &gt;** を作成し、テキストと値を設定するための最も簡単な方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-146">The code above shows the simplest possible way to create an **IEnumerable&lt;SelectListItem &gt;** and populate it with text and values.</span></span> <span data-ttu-id="861b9-147">`Comedy`[Selectlistitem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx)には、[選択した](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx)プロパティが**true**に設定されていることに注意してください。これにより、表示される選択リストでは、リスト内の選択した項目として**コメディ**が表示されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-147">Note the `Comedy`[SelectListItem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx) has the [Selected](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx) property set to **true;** this will cause the rendered select list to show **Comedy** as the selected item in the list.</span></span>

<span data-ttu-id="861b9-148">上で作成した**IEnumerable&lt;SelectListItem &gt;** が、Mo[ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) type という名前のに追加されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-148">The **IEnumerable&lt;SelectListItem &gt;** created above is added to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) with the name MovieType.</span></span> <span data-ttu-id="861b9-149">次に示すように、 **IEnumerable&lt;SelectListItem &gt;** 暗黙的に[DropDownList](https://msdn.microsoft.com/library/dd492738.aspx)ヘルパーに渡す方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="861b9-149">This is how we pass the **IEnumerable&lt;SelectListItem &gt;** implicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper shown below.</span></span>

<span data-ttu-id="861b9-150">*Views\Home\SelectCategory.cshtml*ファイルを開き、マークアップを確認します。</span><span class="sxs-lookup"><span data-stu-id="861b9-150">Open the *Views\Home\SelectCategory.cshtml* file and examine the markup.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample3.cshtml)]

<span data-ttu-id="861b9-151">3行目では、レイアウトを Views/Shared/\_Simple\_Layout に設定します。これは、標準レイアウトファイルの簡略化されたバージョンです。</span><span class="sxs-lookup"><span data-stu-id="861b9-151">On the third line, we set the layout to Views/Shared/\_Simple\_Layout.cshtml, which is a simplified version of the standard layout file.</span></span> <span data-ttu-id="861b9-152">これを実行して、表示と HTML の表示を単純にします。</span><span class="sxs-lookup"><span data-stu-id="861b9-152">We do this to keep the display and rendered HTML simple.</span></span>

<span data-ttu-id="861b9-153">このサンプルでは、アプリケーションの状態を変更しないので、http **POST**ではなく**http GET**を使用してデータを送信します。</span><span class="sxs-lookup"><span data-stu-id="861b9-153">In this sample we are not changing the state of the application, so we will submit the data using an **HTTP GET**, not **HTTP POST**.</span></span> <span data-ttu-id="861b9-154">[HTTP GET または POST を選択する場合](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist)は、W3C の「クイックチェックリスト」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="861b9-154">See the W3C section [Quick Checklist for Choosing HTTP GET or POST](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist).</span></span> <span data-ttu-id="861b9-155">アプリケーションを変更したりフォームを投稿したりすることはないため、アクションメソッド、コントローラー、およびフォームメソッド (**HTTP POST**または**http GET**) を指定できるようにするために、 [Html. beginform](https://msdn.microsoft.com/library/dd460344.aspx)のオーバーロードを使用します。</span><span class="sxs-lookup"><span data-stu-id="861b9-155">Because we are not changing the application and posting the form, we use the [Html.BeginForm](https://msdn.microsoft.com/library/dd460344.aspx) overload that allows us to specify the action method, controller and form method (**HTTP POST** or **HTTP GET**).</span></span> <span data-ttu-id="861b9-156">通常、ビューには、パラメーターを取らない[Html の BeginForm](https://msdn.microsoft.com/library/dd505244.aspx)オーバーロードが含まれています。</span><span class="sxs-lookup"><span data-stu-id="861b9-156">Typically views contain the [Html.BeginForm](https://msdn.microsoft.com/library/dd505244.aspx) overload that takes no parameters.</span></span> <span data-ttu-id="861b9-157">パラメーターのバージョンを指定しない場合、既定では、同じアクションメソッドとコントローラーのポストバージョンにフォームデータがポストされます。</span><span class="sxs-lookup"><span data-stu-id="861b9-157">The no parameter version defaults to posting the form data to the POST version of the same action method and controller.</span></span>

<span data-ttu-id="861b9-158">次の行</span><span class="sxs-lookup"><span data-stu-id="861b9-158">The following line</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample4.cshtml)]

<span data-ttu-id="861b9-159">**DropDownList**ヘルパーに文字列引数を渡します。</span><span class="sxs-lookup"><span data-stu-id="861b9-159">passes a string argument to the **DropDownList** helper.</span></span> <span data-ttu-id="861b9-160">この例の "Moの種類" という文字列は、次の2つの処理を行います。</span><span class="sxs-lookup"><span data-stu-id="861b9-160">This string, "MovieType" in our example, does two things:</span></span>

- <span data-ttu-id="861b9-161">このメソッドは、 **ViewBag**内の**IEnumerable&lt;selectlistitem &gt;** を検索するための**DropDownList**ヘルパーのキーを提供します。</span><span class="sxs-lookup"><span data-stu-id="861b9-161">It provides the key for the **DropDownList** helper to find a **IEnumerable&lt;SelectListItem &gt;** in the **ViewBag**.</span></span>
- <span data-ttu-id="861b9-162">これは、Moの Type フォーム要素にデータバインドされています。</span><span class="sxs-lookup"><span data-stu-id="861b9-162">It is data-bound to the MovieType form element.</span></span> <span data-ttu-id="861b9-163">Submit メソッドが**HTTP GET**の場合、`MovieType` はクエリ文字列になります。</span><span class="sxs-lookup"><span data-stu-id="861b9-163">If the submit method is **HTTP GET**, `MovieType` will be a query string.</span></span> <span data-ttu-id="861b9-164">送信メソッドが**HTTP POST**の場合、メッセージ本文には `MovieType` が追加されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-164">If the submit method is **HTTP POST**, `MovieType` will be added in the message body.</span></span> <span data-ttu-id="861b9-165">次の図は、値が1のクエリ文字列を示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-165">The following image shows the query string with the value of 1.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image6.png)

<span data-ttu-id="861b9-166">次のコードは、フォームが送信された `CategoryChosen` メソッドを示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-166">The following code shows the `CategoryChosen` method the form was submitted to.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample5.cs)]

<span data-ttu-id="861b9-167">テストページに戻り、 **[HTML SelectList]** リンクを選択します。</span><span class="sxs-lookup"><span data-stu-id="861b9-167">Navigate back to the test page and select the **HTML SelectList** link.</span></span> <span data-ttu-id="861b9-168">HTML ページでは、simple ASP.NET MVC テストページと同様の選択要素がレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="861b9-168">The HTML page renders a select element similar to the simple ASP.NET MVC test page.</span></span> <span data-ttu-id="861b9-169">ブラウザーウィンドウを右クリックし、 **[ソースの表示]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="861b9-169">Right click the browser window and select **view source**.</span></span> <span data-ttu-id="861b9-170">選択リストの HTML マークアップは、基本的には同じです。</span><span class="sxs-lookup"><span data-stu-id="861b9-170">The HTML markup for the select list is essentially identical.</span></span> <span data-ttu-id="861b9-171">HTML ページのテストは、前にテストした ASP.NET MVC アクションメソッドとビューのように機能します。</span><span class="sxs-lookup"><span data-stu-id="861b9-171">Test the HTML page, it works like the ASP.NET MVC action method and view we previously tested.</span></span>

### <a name="improving-the-movie-select-list-with-enums"></a><span data-ttu-id="861b9-172">列挙型を使用してムービー選択リストを改善する</span><span class="sxs-lookup"><span data-stu-id="861b9-172">Improving the Movie Select List with Enums</span></span>

<span data-ttu-id="861b9-173">アプリケーションのカテゴリが固定されており、変更されない場合は、列挙型を利用して、コードをより堅牢で、より簡単に拡張できるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="861b9-173">If the categories in your application are fixed and will not change, you can take advantage of enums to make your code more robust and simpler to extend.</span></span> <span data-ttu-id="861b9-174">新しいカテゴリを追加すると、正しいカテゴリの値が生成されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-174">When you add a new category, the correct category value is generated.</span></span> <span data-ttu-id="861b9-175">では、新しいカテゴリを追加しても、カテゴリの値を更新し忘れた場合、コピーと貼り付けのエラーを回避します。</span><span class="sxs-lookup"><span data-stu-id="861b9-175">The avoids copy and paste errors when you add a new category but forget to update the category value.</span></span>

<span data-ttu-id="861b9-176">*Controllers\ homecontroller.cs*ファイルを開き、次のコードを確認します。</span><span class="sxs-lookup"><span data-stu-id="861b9-176">Open the *Controllers\HomeController.cs* file and examine the following code:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample6.cs)]

<span data-ttu-id="861b9-177">[列挙](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx)`eMovieCategories` は、4種類のムービーをキャプチャします。</span><span class="sxs-lookup"><span data-stu-id="861b9-177">The [enum](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx) `eMovieCategories` captures the four movie types.</span></span> <span data-ttu-id="861b9-178">`SetViewBagMovieType` メソッドは、`eMovieCategories`**列挙型**から**IEnumerable&lt;selectlistitem &gt;** を作成し、`Selected` パラメーターから `selectedMovie` プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="861b9-178">The `SetViewBagMovieType` method creates the **IEnumerable&lt;SelectListItem &gt;** from the `eMovieCategories`**enum**, and sets the `Selected` property from the `selectedMovie` parameter.</span></span> <span data-ttu-id="861b9-179">`SelectCategoryEnum` アクションメソッドは、`SelectCategory` のアクションメソッドと同じビューを使用します。</span><span class="sxs-lookup"><span data-stu-id="861b9-179">The `SelectCategoryEnum` action method uses the same view as the `SelectCategory` action method.</span></span>

<span data-ttu-id="861b9-180">テストページに移動し、[`Select Movie Category (Enum)`] リンクをクリックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-180">Navigate to the Test page and click on the `Select Movie Category (Enum)` link.</span></span> <span data-ttu-id="861b9-181">今回は、値 (数値) を表示するのではなく、列挙体を表す文字列が表示されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-181">This time, instead of a value (number) being displayed, a string representing the enum is displayed.</span></span>

### <a name="posting-enum-values"></a><span data-ttu-id="861b9-182">列挙値のポスト</span><span class="sxs-lookup"><span data-stu-id="861b9-182">Posting Enum Values</span></span>

<span data-ttu-id="861b9-183">通常、HTML フォームは、データをサーバーにポストするために使用されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-183">HTML Forms are typically used to post data to the server.</span></span> <span data-ttu-id="861b9-184">次のコードは、`SelectCategoryEnumPost` メソッドの `HTTP GET` と `HTTP POST` バージョンを示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-184">The following code shows the `HTTP GET` and `HTTP POST` versions of the `SelectCategoryEnumPost` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample7.cs)]

<span data-ttu-id="861b9-185">`eMovieCategories` 列挙型を `POST` メソッドに渡すことによって、列挙値と列挙型文字列の両方を抽出できます。</span><span class="sxs-lookup"><span data-stu-id="861b9-185">By passing a `eMovieCategories` enum to the `POST` method, we can extract both the enum value and the enum string.</span></span> <span data-ttu-id="861b9-186">サンプルを実行し、[テスト] ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="861b9-186">Run the sample and navigate to the Test page.</span></span> <span data-ttu-id="861b9-187">[`Select Movie Category(Enum Post)`] リンクをクリックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-187">Click on the `Select Movie Category(Enum Post)` link.</span></span> <span data-ttu-id="861b9-188">ムービーの種類を選択し、[送信] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-188">Select a movie type and then hit the submit button.</span></span> <span data-ttu-id="861b9-189">表示には、ムービーの種類の値と名前の両方が表示されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-189">The display shows both the value and the name of the movie type.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image7.png)

### <a name="creating-a-multiple-section-select-element"></a><span data-ttu-id="861b9-190">複数のセクションの Select 要素の作成</span><span class="sxs-lookup"><span data-stu-id="861b9-190">Creating a Multiple Section Select Element</span></span>

<span data-ttu-id="861b9-191">[ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) html ヘルパーは、html `<select>` 要素を `multiple` 属性でレンダリングします。これにより、ユーザーは複数の選択を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="861b9-191">The [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) HTML helper renders the HTML `<select>` element with the `multiple` attribute, which allows the users to make multiple selections.</span></span> <span data-ttu-id="861b9-192">テストリンクに移動し、 **[複数選択の国]** リンクを選択します。</span><span class="sxs-lookup"><span data-stu-id="861b9-192">Navigate to the Test link, then select the **Multi Select Country** link.</span></span> <span data-ttu-id="861b9-193">レンダリングされた UI を使用すると、複数の国を選択できます。</span><span class="sxs-lookup"><span data-stu-id="861b9-193">The rendered UI allows you to select multiple countries.</span></span> <span data-ttu-id="861b9-194">次の図では、カナダと中国が選択されています。</span><span class="sxs-lookup"><span data-stu-id="861b9-194">In the image below, Canada and China are selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image8.png)

### <a name="examining-the-multiselectcountry-code"></a><span data-ttu-id="861b9-195">MultiSelectCountry コードを調べる</span><span class="sxs-lookup"><span data-stu-id="861b9-195">Examining the MultiSelectCountry Code</span></span>

<span data-ttu-id="861b9-196">*Controllers\ homecontroller.cs*ファイルから次のコードを確認します。</span><span class="sxs-lookup"><span data-stu-id="861b9-196">Examine the following code from the *Controllers\HomeController.cs* file.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample8.cs)]

<span data-ttu-id="861b9-197">`GetCountries` メソッドは、国の一覧を作成し、それを `MultiSelectList` コンストラクターに渡します。</span><span class="sxs-lookup"><span data-stu-id="861b9-197">The `GetCountries` method creates a list of countries, then passes it to the `MultiSelectList` constructor.</span></span> <span data-ttu-id="861b9-198">上記の `GetCountries` メソッドで使用される `MultiSelectList` コンストラクターオーバーロードは、次の4つのパラメーターを受け取ります。</span><span class="sxs-lookup"><span data-stu-id="861b9-198">The `MultiSelectList` constructor overload used in the `GetCountries` method above takes four parameters:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample9.cs)]

1. <span data-ttu-id="861b9-199">*項目*:リスト内の項目を格納している[IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="861b9-199">*items*: An [IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx) containing the items in the list.</span></span> <span data-ttu-id="861b9-200">上記の例では、国の一覧です。</span><span class="sxs-lookup"><span data-stu-id="861b9-200">In the example above, the list of Countries.</span></span>
2. <span data-ttu-id="861b9-201">*dataValueField*:値を格納している**IEnumerable**リスト内のプロパティの名前。</span><span class="sxs-lookup"><span data-stu-id="861b9-201">*dataValueField*: The name of the property in the **IEnumerable** list that contains the value.</span></span> <span data-ttu-id="861b9-202">上記の例では、`ID` プロパティです。</span><span class="sxs-lookup"><span data-stu-id="861b9-202">In the example above, the `ID` property.</span></span>
3. <span data-ttu-id="861b9-203">*Datatextfield*:表示する情報が格納されている**IEnumerable**リスト内のプロパティの名前。</span><span class="sxs-lookup"><span data-stu-id="861b9-203">*dataTextField*: The name of the property in the **IEnumerable** list that contains the information to display.</span></span> <span data-ttu-id="861b9-204">上記の例では、`name` プロパティです。</span><span class="sxs-lookup"><span data-stu-id="861b9-204">In the example above, the `name` property.</span></span>
4. <span data-ttu-id="861b9-205">*Selectedvalues*:選択された値の一覧。</span><span class="sxs-lookup"><span data-stu-id="861b9-205">*selectedValues*: The list of selected values.</span></span>

<span data-ttu-id="861b9-206">上記の例では、`MultiSelectCountry` メソッドによって選択された国の `null` 値が渡されるため、UI を表示するときに国は選択されません。</span><span class="sxs-lookup"><span data-stu-id="861b9-206">In the example above, the `MultiSelectCountry` method passes a `null` value for the selected countries, so no countries are selected when the UI is displayed.</span></span> <span data-ttu-id="861b9-207">次のコードは、`MultiSelectCountry` ビューを表示するために使用される Razor マークアップを示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-207">The following code shows the Razor markup used to render the `MultiSelectCountry` view.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample10.cshtml)]

<span data-ttu-id="861b9-208">上記で使用した HTML ヘルパー [ListBox](https://msdn.microsoft.com/library/dd470200.aspx)メソッドでは、2つのパラメーターを受け取ります。これは、モデルバインドに対するプロパティの名前と、select オプションと値を含む[MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="861b9-208">The HTML helper [ListBox](https://msdn.microsoft.com/library/dd470200.aspx) method used above take two parameters, the name of the property to model bind and the [MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx) containing the select options and values.</span></span> <span data-ttu-id="861b9-209">上記の `ViewBag.YouSelected` コードは、フォームの送信時に選択した国の値を表示するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-209">The `ViewBag.YouSelected` code above is used to display the values of the countries you selected when you submit the form.</span></span> <span data-ttu-id="861b9-210">`MultiSelectCountry` メソッドの HTTP POST のオーバーロードを確認します。</span><span class="sxs-lookup"><span data-stu-id="861b9-210">Examine the HTTP POST overload of the `MultiSelectCountry` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample11.cs)]

<span data-ttu-id="861b9-211">`ViewBag.YouSelected` 動的プロパティには、フォームコレクションの `Countries` エントリに対して取得された、選択した国が含まれます。</span><span class="sxs-lookup"><span data-stu-id="861b9-211">The `ViewBag.YouSelected` dynamic property contains the selected countries, obtained for the `Countries` entry in the form collection.</span></span> <span data-ttu-id="861b9-212">このバージョンでは、GetCountries メソッドに選択した国の一覧が渡されるため、`MultiSelectCountry` ビューが表示されると、選択した国が UI で選択されます。</span><span class="sxs-lookup"><span data-stu-id="861b9-212">In this version the GetCountries method is passed a list of the selected countries, so when the `MultiSelectCountry` view is displayed, the selected countries are selected in the UI.</span></span>

### <a name="making-a-select-element-friendly-with-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="861b9-213">選択した jQuery プラグインを使用して選択要素をフレンドリ化する</span><span class="sxs-lookup"><span data-stu-id="861b9-213">Making a Select Element Friendly with the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="861b9-214">[選択した jQuery プラグイン](https://harvesthq.github.com/chosen/)を HTML &lt;select&gt; 要素に追加して、ユーザーフレンドリな UI を作成できます。</span><span class="sxs-lookup"><span data-stu-id="861b9-214">The Harvest [Chosen](https://harvesthq.github.com/chosen/) jQuery plugin can be added to an HTML &lt;select&gt; element to create a user friendly UI.</span></span> <span data-ttu-id="861b9-215">次の画像は、`MultiSelectCountry` ビューで[選択](https://harvesthq.github.com/chosen/)された jQuery プラグインを示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-215">The images below demonstrate the Harvest [Chosen](https://harvesthq.github.com/chosen/) jQuery plugin with `MultiSelectCountry` view.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image9.png)

<span data-ttu-id="861b9-216">次の2つの図では、**カナダ**が選択されています。</span><span class="sxs-lookup"><span data-stu-id="861b9-216">In the two images below, **Canada** is selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image10.png)

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image11.png)

<span data-ttu-id="861b9-217">上の図では、カナダ が選択されています。  **x** をクリックすると、選択範囲を削除できます。</span><span class="sxs-lookup"><span data-stu-id="861b9-217">In the image above, Canada is selected, and it contains an **x** you can click to remove the selection.</span></span> <span data-ttu-id="861b9-218">次の図は、カナダ、中国、および日本を選択した状態を示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-218">The image below shows Canada, China, and Japan selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image12.png)

### <a name="hooking-up-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="861b9-219">選択した jQuery プラグインをフックしています</span><span class="sxs-lookup"><span data-stu-id="861b9-219">Hooking up the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="861b9-220">次のセクションは、jQuery の経験がある場合に簡単に実行できます。</span><span class="sxs-lookup"><span data-stu-id="861b9-220">The following section is easier to follow if you have some experience with jQuery.</span></span> <span data-ttu-id="861b9-221">まだ jQuery を使用したことがない場合は、次のいずれかの jQuery チュートリアルを試してみることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="861b9-221">If you have never used jQuery before, you might want to try one of the following jQuery tutorials.</span></span>

- <span data-ttu-id="861b9-222">[John Resig](http://ejohn.org/)による[jQuery の機能](http://docs.jquery.com/Tutorials:How_jQuery_Works)</span><span class="sxs-lookup"><span data-stu-id="861b9-222">[How jQuery Works](http://docs.jquery.com/Tutorials:How_jQuery_Works) by [John Resig](http://ejohn.org/)</span></span>
- <span data-ttu-id="861b9-223">JQuery by [Jörn Zaefferer](http://bassistance.de/) [でのはじめに](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery)</span><span class="sxs-lookup"><span data-stu-id="861b9-223">[Getting Started with jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery) by [Jörn Zaefferer](http://bassistance.de/)</span></span>
- <span data-ttu-id="861b9-224">[JQuery のライブの例 (](http://codylindley.com/blogstuff/js/jquery/#) [cody Lindley](http://codylindley.com/) )</span><span class="sxs-lookup"><span data-stu-id="861b9-224">[Live Examples of jQuery](http://codylindley.com/blogstuff/js/jquery/#) by [Cody Lindley](http://codylindley.com/)</span></span>

<span data-ttu-id="861b9-225">選択したプラグインは、このチュートリアルに付属しているスターターおよび完成したサンプルプロジェクトに含まれています。</span><span class="sxs-lookup"><span data-stu-id="861b9-225">The Chosen plugin is included in the starter and completed sample projects that accompany this tutorial.</span></span> <span data-ttu-id="861b9-226">このチュートリアルでは、jQuery を使用して UI にフックするだけです。</span><span class="sxs-lookup"><span data-stu-id="861b9-226">For this tutorial you will only need to use jQuery to hook it up to the UI.</span></span> <span data-ttu-id="861b9-227">ASP.NET MVC プロジェクトで選択した jQuery プラグインを使用するには、次のことを行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="861b9-227">To use the Harvest Chosen jQuery plugin in an ASP.NET MVC project, you must:</span></span>

1. <span data-ttu-id="861b9-228">選択したプラグインを[github](https://github.com/harvesthq/chosen/)からダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="861b9-228">Download Chosen plugin from [github](https://github.com/harvesthq/chosen/).</span></span> <span data-ttu-id="861b9-229">この手順は既に実行されています。</span><span class="sxs-lookup"><span data-stu-id="861b9-229">This step has been done for you.</span></span>
2. <span data-ttu-id="861b9-230">選択したフォルダーを ASP.NET MVC プロジェクトに追加します。</span><span class="sxs-lookup"><span data-stu-id="861b9-230">Add the Chosen folder to your ASP.NET MVC project.</span></span> <span data-ttu-id="861b9-231">前の手順でダウンロードした、選択したプラグインのアセットを、選択したフォルダーに追加します。</span><span class="sxs-lookup"><span data-stu-id="861b9-231">Add the assets from the Chosen plugin you downloaded in the previous step to the Chosen folder.</span></span> <span data-ttu-id="861b9-232">この手順は既に実行されています。</span><span class="sxs-lookup"><span data-stu-id="861b9-232">This step has been done for you.</span></span>
3. <span data-ttu-id="861b9-233">選択したプラグインを**DropDownList**または**ListBox** HTML ヘルパーにフックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-233">Hook up the chosen plugin to the **DropDownList** or **ListBox** HTML helper.</span></span>

### <a name="hooking-up-the-chosen-plugin-to-the-multiselectcountry-view"></a><span data-ttu-id="861b9-234">選択したプラグインを MultiSelectCountry ビューにフックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-234">Hooking up the Chosen Plugin to the MultiSelectCountry View.</span></span>

<span data-ttu-id="861b9-235">*Views\Home\MultiSelectCountry.cshtml*ファイルを開き、`Html.ListBox`に `htmlAttributes` パラメーターを追加します。</span><span class="sxs-lookup"><span data-stu-id="861b9-235">Open the *Views\Home\MultiSelectCountry.cshtml* file and add an `htmlAttributes` parameter to the `Html.ListBox`.</span></span> <span data-ttu-id="861b9-236">追加するパラメーターには、選択リスト (`@class = "chzn-select"`) のクラス名が含まれています。</span><span class="sxs-lookup"><span data-stu-id="861b9-236">The parameter you will add contains a class name for the select list(`@class = "chzn-select"`).</span></span> <span data-ttu-id="861b9-237">完成したコードを次に示します。</span><span class="sxs-lookup"><span data-stu-id="861b9-237">The completed code is shown below:</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample12.cshtml)]

<span data-ttu-id="861b9-238">上記のコードでは、`class = "chzn-select"`HTML 属性と属性値を追加しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-238">In the code above, we are adding the HTML attribute and attribute value `class = "chzn-select"`.</span></span> <span data-ttu-id="861b9-239">クラスの前の \@ 文字は、Razor ビューエンジンとは関係ありません。</span><span class="sxs-lookup"><span data-stu-id="861b9-239">The \@ character preceding class has nothing to do with the Razor view engine.</span></span> <span data-ttu-id="861b9-240">`class` は[ C#キーワード](https://msdn.microsoft.com/library/x53a06bb.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="861b9-240">`class` is a [C# keyword](https://msdn.microsoft.com/library/x53a06bb.aspx).</span></span> <span data-ttu-id="861b9-241">C#キーワードは、プレフィックスとして \@ が含まれている場合を除き、識別子として使用できません。</span><span class="sxs-lookup"><span data-stu-id="861b9-241">C# keywords cannot be used as identifiers unless they include \@ as a prefix.</span></span> <span data-ttu-id="861b9-242">上の例では、`@class` は有効な識別子ですが、class はキーワードで**あるため、** **クラス**は使用できません。</span><span class="sxs-lookup"><span data-stu-id="861b9-242">In the example above, `@class` is a valid identifier but **class** is not because **class** is a keyword.</span></span>

<span data-ttu-id="861b9-243">選択*または選択*された jquery に参照を追加し、選択した*または選択した .css*ファイルに参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="861b9-243">Add references to the *Chosen/chosen.jquery.js* and *Chosen/chosen.css* files.</span></span> <span data-ttu-id="861b9-244">選択されたまたは選択された*jquery です*。選択したプラグインの機能を実装します。</span><span class="sxs-lookup"><span data-stu-id="861b9-244">The *Chosen/chosen.jquery.js* and implements the functionally of the Chosen plugin.</span></span> <span data-ttu-id="861b9-245">*選択または選択*された .css ファイルは、スタイルを提供します。</span><span class="sxs-lookup"><span data-stu-id="861b9-245">The *Chosen/chosen.css* file provides the styling.</span></span> <span data-ttu-id="861b9-246">これらの参照を*Views\Home\MultiSelectCountry.cshtml*ファイルの末尾に追加します。</span><span class="sxs-lookup"><span data-stu-id="861b9-246">Add these references to the bottom of the *Views\Home\MultiSelectCountry.cshtml* file.</span></span> <span data-ttu-id="861b9-247">次のコードは、選択したプラグインを参照する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-247">The following code shows how to reference the Chosen plugin.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample13.cshtml)]

<span data-ttu-id="861b9-248">**Html. ListBox**コードで使用されているクラス名を使用して、選択したプラグインをアクティブにします。</span><span class="sxs-lookup"><span data-stu-id="861b9-248">Activate the Chosen plugin using the class name used in the **Html.ListBox** code.</span></span> <span data-ttu-id="861b9-249">上記の例では、クラス名は `chzn-select`です。</span><span class="sxs-lookup"><span data-stu-id="861b9-249">In the example above, the class name is `chzn-select`.</span></span> <span data-ttu-id="861b9-250">*Views\Home\MultiSelectCountry.cshtml* view ファイルの下部に次の行を追加します。</span><span class="sxs-lookup"><span data-stu-id="861b9-250">Add the following line to the bottom of the *Views\Home\MultiSelectCountry.cshtml* view file.</span></span> <span data-ttu-id="861b9-251">この行は、選択されたプラグインをアクティブにします。</span><span class="sxs-lookup"><span data-stu-id="861b9-251">This line activates the Chosen plugin.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample14.html)]

<span data-ttu-id="861b9-252">次の行は、`chzn-select`クラス名を持つ DOM 要素を選択する jQuery ready 関数を呼び出す構文です。</span><span class="sxs-lookup"><span data-stu-id="861b9-252">The following line is the syntax to call the jQuery ready function, which selects the DOM element with class name `chzn-select`.</span></span>

[!code-powershell[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample15.ps1)]

<span data-ttu-id="861b9-253">上記の呼び出しから返されたラップされたセットは、選択したメソッド (`.chosen();`) を適用し、選択したプラグインをフックします。</span><span class="sxs-lookup"><span data-stu-id="861b9-253">The wrapped set returned from the above call then applies the chosen method (`.chosen();`), which hooks up the Chosen plugin.</span></span>

<span data-ttu-id="861b9-254">次のコードは、完成した*Views\Home\MultiSelectCountry.cshtml* view ファイルを示しています。</span><span class="sxs-lookup"><span data-stu-id="861b9-254">The following code shows the completed *Views\Home\MultiSelectCountry.cshtml* view file.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample16.cshtml)]

<span data-ttu-id="861b9-255">アプリケーションを実行し、[`MultiSelectCountry`] ビューに移動します。</span><span class="sxs-lookup"><span data-stu-id="861b9-255">Run the application and navigate to the `MultiSelectCountry` view.</span></span> <span data-ttu-id="861b9-256">国を追加および削除してみてください。</span><span class="sxs-lookup"><span data-stu-id="861b9-256">Try adding and deleting countries.</span></span> <span data-ttu-id="861b9-257">提供されるサンプルダウンロードには、 **ViewBag**の代わりにビューモデルを使用して MultiSelectCountry 機能を実装する `MultiCountryVM` メソッドとビューも含まれています。</span><span class="sxs-lookup"><span data-stu-id="861b9-257">The sample download provided also contains a `MultiCountryVM` method and view that implements the MultiSelectCountry functionality using a view model instead of a **ViewBag**.</span></span>

<span data-ttu-id="861b9-258">次のセクションでは、ASP.NET MVC のスキャフォールディング機構と**DropDownList**ヘルパーの連携について説明します。</span><span class="sxs-lookup"><span data-stu-id="861b9-258">In the next section you'll see how the ASP.NET MVC scaffolding mechanism works with the **DropDownList** helper.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="861b9-259">Next</span><span class="sxs-lookup"><span data-stu-id="861b9-259">Next</span></span>](examining-how-aspnet-mvc-scaffolds-the-dropdownlist-helper.md)
