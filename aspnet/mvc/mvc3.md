---
uid: mvc/mvc3
title: ASP.NET MVC 3
author: rick-anderson
description: (2011 年4月の更新プログラムを含む)ASP.NET MVC 3 は、適切に確立された設計パターンを使用して、スケーラブルで標準ベースの web アプリケーションを構築するためのフレームワークです...
ms.author: riande
ms.date: 10/05/2010
ms.assetid: dddc8812-a0bc-49f9-aafb-caf2064c2b8c
msc.legacyurl: /mvc/mvc3
msc.type: content
ms.openlocfilehash: 421a06c89d4dbcb05d4080033813cc6558b7c698
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2019
ms.locfileid: "74586752"
---
# <a name="aspnet-mvc-3"></a><span data-ttu-id="7df4c-103">ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="7df4c-103">ASP.NET MVC 3</span></span>

> <span data-ttu-id="7df4c-104">*(2011 年4月の更新プログラムを含む)*</span><span class="sxs-lookup"><span data-stu-id="7df4c-104">*(includes April 2011 Tools Update)*</span></span>
> 
> <span data-ttu-id="7df4c-105">ASP.NET MVC 3 は、適切に確立された設計パターンと、ASP.NET と .NET Framework の機能を使用して、スケーラブルで標準ベースの web アプリケーションを構築するためのフレームワークです。</span><span class="sxs-lookup"><span data-stu-id="7df4c-105">ASP.NET MVC 3 is a framework for building scalable, standards-based web applications using well-established design patterns and the power of ASP.NET and the .NET Framework.</span></span>
> 
> <span data-ttu-id="7df4c-106">ASP.NET MVC 2 とサイドバイサイドでインストールされるため、すぐに使用を開始できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-106">It installs side-by-side with ASP.NET MVC 2, so get started using it today!</span></span>
> 
> <span data-ttu-id="7df4c-107">インストーラーは[こちら](https://go.microsoft.com/fwlink/?LinkID=208140)からダウンロードしてください</span><span class="sxs-lookup"><span data-stu-id="7df4c-107">Download the [installer here](https://go.microsoft.com/fwlink/?LinkID=208140)</span></span>

## <a name="top-features"></a><span data-ttu-id="7df4c-108">上位の機能</span><span class="sxs-lookup"><span data-stu-id="7df4c-108">Top Features</span></span>

- <span data-ttu-id="7df4c-109">NuGet を使用して拡張可能な統合スキャフォールディングシステム</span><span class="sxs-lookup"><span data-stu-id="7df4c-109">Integrated Scaffolding system extensible via NuGet</span></span>
- <span data-ttu-id="7df4c-110">HTML 5 が有効なプロジェクトテンプレート</span><span class="sxs-lookup"><span data-stu-id="7df4c-110">HTML 5 enabled project templates</span></span>
- <span data-ttu-id="7df4c-111">新しい Razor ビューエンジンを含む表現力のあるビュー</span><span class="sxs-lookup"><span data-stu-id="7df4c-111">Expressive Views including the new Razor View Engine</span></span>
- <span data-ttu-id="7df4c-112">依存関係の挿入とグローバルアクションフィルターを使用した強力なフック</span><span class="sxs-lookup"><span data-stu-id="7df4c-112">Powerful hooks with Dependency Injection and Global Action Filters</span></span>
- <span data-ttu-id="7df4c-113">控えめな JavaScript、jQuery 検証、および JSON バインドを使用した豊富な JavaScript のサポート</span><span class="sxs-lookup"><span data-stu-id="7df4c-113">Rich JavaScript support with unobtrusive JavaScript, jQuery Validation, and JSON binding</span></span>
- <span data-ttu-id="7df4c-114">*以下の全機能リストをお読み[ください](#overview)。*</span><span class="sxs-lookup"><span data-stu-id="7df4c-114">*Read the full feature list [below](#overview)*</span></span>

## <a name="top-links"></a><span data-ttu-id="7df4c-115">上位のリンク</span><span class="sxs-lookup"><span data-stu-id="7df4c-115">Top Links</span></span>

<span data-ttu-id="7df4c-116">ASP.NET MVC 3 の新機能</span><span class="sxs-lookup"><span data-stu-id="7df4c-116">What's New in ASP.NET MVC 3</span></span>

- <span data-ttu-id="7df4c-117">Phil Haack: [ASP.NET MVC 3 がリリース](http://haacked.com/archive/2011/01/13/aspnetmvc3-released.aspx)されました</span><span class="sxs-lookup"><span data-stu-id="7df4c-117">Phil Haack: [ASP.NET MVC 3 Released](http://haacked.com/archive/2011/01/13/aspnetmvc3-released.aspx)</span></span>
- <span data-ttu-id="7df4c-118">Scott マン Selman: [ASP.NET MVC3、WebMatrix、NuGet、IIS Express および Orchard がリリースされました-Microsoft 1 月の Web リリース (コンテキスト)](http://www.hanselman.com/blog/ASPNETMVC3WebMatrixNuGetIISExpressAndOrchardReleasedTheMicrosoftJanuaryWebReleaseInContext.aspx)</span><span class="sxs-lookup"><span data-stu-id="7df4c-118">Scott Hanselman: [ASP.NET MVC3, WebMatrix, NuGet, IIS Express and Orchard released - The Microsoft January Web Release in Context](http://www.hanselman.com/blog/ASPNETMVC3WebMatrixNuGetIISExpressAndOrchardReleasedTheMicrosoftJanuaryWebReleaseInContext.aspx)</span></span>
- <span data-ttu-id="7df4c-119">Scott Guthrie: [ASP.NET MVC 3、IIS Express、SQL CE 4、Web Farm Framework、Orchard、WebMatrix のリリース発表](https://weblogs.asp.net/scottgu/archive/2011/01/13/announcing-release-of-asp-net-mvc-3-iis-express-sql-ce-4-web-farm-framework-orchard-webmatrix.aspx)</span><span class="sxs-lookup"><span data-stu-id="7df4c-119">Scott Guthrie: [Announcing release of ASP.NET MVC 3, IIS Express, SQL CE 4, Web Farm Framework, Orchard, WebMatrix](https://weblogs.asp.net/scottgu/archive/2011/01/13/announcing-release-of-asp-net-mvc-3-iis-express-sql-ce-4-web-farm-framework-orchard-webmatrix.aspx)</span></span>
- [<span data-ttu-id="7df4c-120">ASP.NET MVC 3 のリリースノート</span><span class="sxs-lookup"><span data-stu-id="7df4c-120">Release Notes for ASP.NET MVC 3</span></span>](../whitepapers/mvc3-release-notes.md)

<span data-ttu-id="7df4c-121">インストールとヘルプ</span><span class="sxs-lookup"><span data-stu-id="7df4c-121">Installation and Help</span></span>

- <span data-ttu-id="7df4c-122">Web Platform Installer を使用して ASP.NET MVC 3 をインストールする[(推奨)](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC3)</span><span class="sxs-lookup"><span data-stu-id="7df4c-122">Install ASP.NET MVC 3 using the [Web Platform Installer (recommended)](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC3)</span></span>
- <span data-ttu-id="7df4c-123">[インストーラー実行可能ファイル](https://go.microsoft.com/fwlink/?LinkID=208140)を使用して ASP.NET MVC 3 をインストールする</span><span class="sxs-lookup"><span data-stu-id="7df4c-123">Install ASP.NET MVC 3 using the [installer executable](https://go.microsoft.com/fwlink/?LinkID=208140)</span></span>
- <span data-ttu-id="7df4c-124">[ASP.NET MVC 3 For Visual Studio 11 Developer Preview の](https://go.microsoft.com/fwlink/?LinkID=208140)インストール</span><span class="sxs-lookup"><span data-stu-id="7df4c-124">Install [ASP.NET MVC 3 for Visual Studio 11 Developer Preview](https://go.microsoft.com/fwlink/?LinkID=208140)</span></span>
- <span data-ttu-id="7df4c-125">[ASP.NET MVC 3 のチュートリアルを](overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)読む</span><span class="sxs-lookup"><span data-stu-id="7df4c-125">Read the [Intro to ASP.NET MVC 3 tutorial](overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)</span></span>
- <span data-ttu-id="7df4c-126">[フォーラム](https://forums.asp.net/1146.aspx)のヘルプを参照し、ASP.NET MVC 3 について話し合う</span><span class="sxs-lookup"><span data-stu-id="7df4c-126">Get help and discuss ASP.NET MVC 3 in the [forums](https://forums.asp.net/1146.aspx)</span></span>

<a id="overview"></a>
## <a name="aspnet-mvc-3-overview"></a><span data-ttu-id="7df4c-127">ASP.NET MVC 3 Overview (ASP.NET MVC 3 の概要)</span><span class="sxs-lookup"><span data-stu-id="7df4c-127">ASP.NET MVC 3 Overview</span></span>

<span data-ttu-id="7df4c-128">ASP.NET MVC 3 は、ASP.NET MVC 1 および2上に構築されており、コードを簡略化し、より高度な拡張性を実現する優れた機能を追加しています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-128">ASP.NET MVC 3 builds on ASP.NET MVC 1 and 2, adding great features that both simplify your code and allow deeper extensibility.</span></span> <span data-ttu-id="7df4c-129">このトピックでは、このリリースに含まれる新機能の多くの概要について、次のセクションで説明します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-129">This topic provides an overview of many of the new features that are included in this release, organized into the following sections:</span></span>

- [<span data-ttu-id="7df4c-130">MvcScaffold 統合を使用した拡張可能なスキャフォールディング</span><span class="sxs-lookup"><span data-stu-id="7df4c-130">Extensible Scaffolding with MvcScaffold integration</span></span>](#BM_MvcScaffolding)
- [<span data-ttu-id="7df4c-131">HTML 5 が有効なプロジェクトテンプレート</span><span class="sxs-lookup"><span data-stu-id="7df4c-131">HTML 5 enabled project templates</span></span>](#BM_HTML5)
- [<span data-ttu-id="7df4c-132">Razor ビューエンジン</span><span class="sxs-lookup"><span data-stu-id="7df4c-132">The Razor View Engine</span></span>](#BM_TheRazorViewEngine)
- [<span data-ttu-id="7df4c-133">複数のビューエンジンのサポート</span><span class="sxs-lookup"><span data-stu-id="7df4c-133">Support for Multiple View Engines</span></span>](#BM_Support_for_Multiple_View_Engines)
- [<span data-ttu-id="7df4c-134">コントローラーの機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-134">Controller Improvements</span></span>](#BM_Controller_Improvements)
- [<span data-ttu-id="7df4c-135">JavaScript と Ajax</span><span class="sxs-lookup"><span data-stu-id="7df4c-135">JavaScript and Ajax</span></span>](#BM_JavaScript_and_Ajax_Improvements)
- [<span data-ttu-id="7df4c-136">モデル検証の機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-136">Model Validation Improvements</span></span>](#BM_Model_Validation_Improvements)
- [<span data-ttu-id="7df4c-137">依存関係の挿入の機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-137">Dependency Injection Improvements</span></span>](#BM_Dependency_Injection_Improvements)
- [<span data-ttu-id="7df4c-138">その他の新機能</span><span class="sxs-lookup"><span data-stu-id="7df4c-138">Other New Features</span></span>](#BM_Other_New_Features)

<a id="BM_MvcScaffolding"></a>

## <a name="extensible-scaffolding-with-mvcscaffold-integration"></a><span data-ttu-id="7df4c-139">MvcScaffold 統合を使用した拡張可能なスキャフォールディング</span><span class="sxs-lookup"><span data-stu-id="7df4c-139">Extensible Scaffolding with MvcScaffold integration</span></span>

<span data-ttu-id="7df4c-140">新しいスキャフォールディングシステムを使用すると、フレームワークを初めて使用する場合に、より簡単に選択して使い始めることができます。また、経験があり、実行していることがわかっている場合には、一般的な開発タスクを自動化することができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-140">The new Scaffolding system makes it easier to pick up and start using productively if you're entirely new to the framework, and to automate common development tasks if you're experienced and already know what you're doing.</span></span>

<span data-ttu-id="7df4c-141">これは、 **Mvcscaffolding**と呼ばれる新しい NuGet*スキャフォールディング*パッケージによってサポートされています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-141">This is supported by new NuGet *scaffolding* package called **MvcScaffolding**.</span></span> <span data-ttu-id="7df4c-142">"スキャフォールディング" という用語は、多くのソフトウェアテクノロジで、"編集とカスタマイズが可能なソフトウェアの基本的な概要をすばやく生成する" という意味で使用されています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-142">The term "Scaffolding" is used by many software technologies to mean "quickly generating a basic outline of your software that you can then edit and customize".</span></span> <span data-ttu-id="7df4c-143">ASP.NET MVC 用に作成しているスキャフォールディングパッケージは、次のいくつかのシナリオで非常に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-143">The scaffolding package we're creating for ASP.NET MVC is greatly beneficial in several scenarios:</span></span>

- <span data-ttu-id="7df4c-144">**ASP.NET MVC を初めて学習する場合**は、便利で実用的なコードを簡単に取得できるので、必要に応じて編集し、調整することができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-144">**If you're learning ASP.NET MVC for the first time**, because it gives you a fast way to get some useful, working code, that you can then edit and adapt according to your needs.</span></span> <span data-ttu-id="7df4c-145">空のページを見て、どこから始めればよいかわからないトラウマからお客様を節約できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-145">It saves you from the trauma of looking at a blank page and having no idea where to start!</span></span>
- <span data-ttu-id="7df4c-146">**ASP.NET MVC がよくわかっていて**、オブジェクトリレーショナルマッパー、ビューエンジン、テストライブラリなどの新しいアドオンテクノロジを調査している場合は、そのテクノロジの作成者がスキャフォールディングパッケージも作成している可能性があるためです。</span><span class="sxs-lookup"><span data-stu-id="7df4c-146">**If you know ASP.NET MVC well and are now exploring some new add-on technology** such as an object-relational mapper, a view engine, a testing library, etc., because the creator of that technology may have also created a scaffolding package for it.</span></span>
- <span data-ttu-id="7df4c-147">テストフィクスチャや配置スクリプトなど、必要なものを出力するカスタムスキャフォールダーを作成できるため、**同様のクラスまたは何らかのファイルを繰り返し作成する作業がある場合**。</span><span class="sxs-lookup"><span data-stu-id="7df4c-147">**If your work involves repeatedly creating similar classes or files of some sort**, because you can create custom scaffolders that output test fixtures, deployment scripts, or whatever else you need.</span></span> <span data-ttu-id="7df4c-148">チーム内のすべてのユーザーがカスタムスキャフォールダーを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-148">Everyone on your team can use your custom scaffolders, too.</span></span>

<span data-ttu-id="7df4c-149">MvcScaffolding のその他の機能は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="7df4c-149">Other features in MvcScaffolding include:</span></span>

- <span data-ttu-id="7df4c-150">と VB C#プロジェクトのサポート</span><span class="sxs-lookup"><span data-stu-id="7df4c-150">Support for C# and VB projects</span></span>
- <span data-ttu-id="7df4c-151">Razor ビューエンジンと ASPX ビューエンジンのサポート</span><span class="sxs-lookup"><span data-stu-id="7df4c-151">Support for the Razor and ASPX view engines</span></span>
- <span data-ttu-id="7df4c-152">ASP.NET MVC 領域へのスキャフォールディング、およびカスタムビューレイアウト/マスターの使用をサポートします</span><span class="sxs-lookup"><span data-stu-id="7df4c-152">Supports scaffolding into ASP.NET MVC areas and using custom view layouts/masters</span></span>
- <span data-ttu-id="7df4c-153">T4 テンプレートを編集することで、出力を簡単にカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-153">You can easily customize the output by editing T4 templates</span></span>
- <span data-ttu-id="7df4c-154">カスタム PowerShell ロジックとカスタム T4 テンプレートを使用して、まったく新しいスキャフォールダーを追加できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-154">You can add entirely new scaffolders using custom PowerShell logic and custom T4 templates.</span></span> <span data-ttu-id="7df4c-155">これら (および指定したカスタムパラメーター) は、コンソールのタブ補完の一覧に自動的に表示されます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-155">These (and any custom parameters you've given them) automatically appear in the console tab-completion list.</span></span>
- <span data-ttu-id="7df4c-156">さまざまなテクノロジの追加のスキャフォールダーを含む NuGet パッケージを取得できます (たとえば、LINQ to SQL について概念実証があります)。また、それらを組み合わせて一致させることができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-156">You can get NuGet packages containing additional scaffolders for different technologies (e.g., there's a proof-of-concept one for LINQ to SQL now) and mix and match them together</span></span>

<span data-ttu-id="7df4c-157">ASP.NET MVC 3 Tools 更新プログラムには、次のような、このスキャフォールディングシステムに対する Visual Studio の優れたサポートが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-157">The ASP.NET MVC 3 Tools Update includes great Visual Studio support for this scaffolding system, such as:</span></span>

- <span data-ttu-id="7df4c-158">[コントローラーの追加] ダイアログで、コントローラーアクションと対応するビューの作成、読み取り、更新、および削除の完全な自動スキャフォールディングがサポートされるようになりました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-158">Add Controller Dialog now supports full automatic scaffolding of Create, Read, Update, and Delete controller actions and corresponding views.</span></span> <span data-ttu-id="7df4c-159">既定では、このスキャフォールディングは EF Code First を使用してデータアクセスコードをします。</span><span class="sxs-lookup"><span data-stu-id="7df4c-159">By default, this scaffolds data access code using EF Code First.</span></span>
- <span data-ttu-id="7df4c-160">[コントローラーの追加] ダイアログは、 *Mvcscaffolding*などの NuGet パッケージを使用した*拡張可能なスキャフォールディング*をサポートします。</span><span class="sxs-lookup"><span data-stu-id="7df4c-160">Add Controller Dialog supports *extensible scaffolds* via NuGet packages such as *MvcScaffolding*.</span></span> <span data-ttu-id="7df4c-161">これにより、カスタムスキャフォールディングをダイアログにプラグインすることができます。これにより、NHibernate などの他のデータアクセステクノロジや、を使用している JET でも、スキャフォールディングを作成できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-161">This allows plugging in custom scaffolds into the dialog which would allow you to create scaffolds for other data access technologies such as NHibernate or even JET with ODBCDirect if you're so inclined!</span></span>

<span data-ttu-id="7df4c-162">ASP.NET MVC 3 のスキャフォールディングの詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-162">For more information about Scaffolding in ASP.NET MVC 3, see the following resources:</span></span>

- <span data-ttu-id="7df4c-163">上田 Sanderson の投稿シリーズ (次を含む)</span><span class="sxs-lookup"><span data-stu-id="7df4c-163">Steve Sanderson's post series, including:</span></span> 

    1. [<span data-ttu-id="7df4c-164">概要: MvcScaffolding パッケージを使用して ASP.NET MVC 3 プロジェクトをスキャフォールディングする</span><span class="sxs-lookup"><span data-stu-id="7df4c-164">Introduction: Scaffold your ASP.NET MVC 3 project with the MvcScaffolding package</span></span>](http://blog.stevensanderson.com/2011/01/13/scaffold-your-aspnet-mvc-3-project-with-the-mvcscaffolding-package/)
    2. [<span data-ttu-id="7df4c-165">標準の使用法: 一般的なユースケースとオプション</span><span class="sxs-lookup"><span data-stu-id="7df4c-165">Standard usage: Typical use cases and options</span></span>](http://blog.stevensanderson.com/2011/01/13/mvcscaffolding-standard-usage/)
    3. [<span data-ttu-id="7df4c-166">一対多のリレーションシップ</span><span class="sxs-lookup"><span data-stu-id="7df4c-166">One-to-Many Relationships</span></span>](http://blog.stevensanderson.com/2011/01/28/mvcscaffolding-one-to-many-relationships/)
    4. [<span data-ttu-id="7df4c-167">スキャフォールディングアクションと単体テスト</span><span class="sxs-lookup"><span data-stu-id="7df4c-167">Scaffolding Actions and Unit Tests</span></span>](http://blog.stevensanderson.com/2011/03/28/scaffolding-actions-and-unit-tests-with-mvcscaffolding/)
    5. [<span data-ttu-id="7df4c-168">T4 テンプレートのオーバーライド</span><span class="sxs-lookup"><span data-stu-id="7df4c-168">Overriding the T4 templates</span></span>](http://blog.stevensanderson.com/2011/04/06/mvcscaffolding-overriding-the-t4-templates/)
    6. [<span data-ttu-id="7df4c-169">この投稿: カスタムスキャフォールダーの作成</span><span class="sxs-lookup"><span data-stu-id="7df4c-169">This post: Creating custom scaffolders</span></span>](http://blog.stevensanderson.com/2011/04/07/mvcscaffolding-creating-custom-scaffolders/)
- <span data-ttu-id="7df4c-170">私の PDC 2010 セッションからの Scott マン Selman の投稿[Microsoft "名前のない Web のパッケージ" でブログを作成する](http://www.hanselman.com/blog/PDC10BuildingABlogWithMicrosoftUnnamedPackageOfWebLove.aspx)</span><span class="sxs-lookup"><span data-stu-id="7df4c-170">Scott Hanselman's post from his PDC 2010 session [Building a Blog with Microsoft "Unnamed Package of Web Love"](http://www.hanselman.com/blog/PDC10BuildingABlogWithMicrosoftUnnamedPackageOfWebLove.aspx)</span></span>
- [<span data-ttu-id="7df4c-171">MVC 3 リリースノート</span><span class="sxs-lookup"><span data-stu-id="7df4c-171">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

<a id="BM_HTML5"></a>

## <a name="html-5-project-templates"></a><span data-ttu-id="7df4c-172">HTML 5 プロジェクトテンプレート</span><span class="sxs-lookup"><span data-stu-id="7df4c-172">HTML 5 Project Templates</span></span>

<span data-ttu-id="7df4c-173">[新しいプロジェクト] ダイアログには、[HTML 5 バージョンのプロジェクトテンプレートを有効にする] チェックボックスがあります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-173">The New Project dialog includes a checkbox enable HTML 5 versions of project templates.</span></span> <span data-ttu-id="7df4c-174">これらのテンプレートは、Modernizr 1.7 を利用して、下位レベルのブラウザーで HTML 5 と CSS 3 の互換性をサポートします。</span><span class="sxs-lookup"><span data-stu-id="7df4c-174">These templates leverage Modernizr 1.7 to provide compatibility support for HTML 5 and CSS 3 in down-level browsers.</span></span>

<a id="BM_TheRazorViewEngine"></a>

## <a name="the-razor-view-engine"></a><span data-ttu-id="7df4c-175">Razor ビューエンジン</span><span class="sxs-lookup"><span data-stu-id="7df4c-175">The Razor View Engine</span></span>

<span data-ttu-id="7df4c-176">ASP.NET MVC 3 には Razor という名前の新しいビューエンジンが付属しており、次のような利点があります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-176">ASP.NET MVC 3 comes with a new view engine named Razor that offers the following benefits:</span></span>

- <span data-ttu-id="7df4c-177">Razor 構文はクリーンで簡潔で、キーストロークの最小数が必要です。</span><span class="sxs-lookup"><span data-stu-id="7df4c-177">Razor syntax is clean and concise, requiring a minimum number of keystrokes.</span></span>
- <span data-ttu-id="7df4c-178">Razor は、や Visual Basic のようなC#既存の言語に基づいているため、簡単に学ぶことができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-178">Razor is easy to learn, in part because it's based on existing languages like C# and Visual Basic.</span></span>
- <span data-ttu-id="7df4c-179">Visual Studio には、Razor 構文用の IntelliSense とコードの色付けが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-179">Visual Studio includes IntelliSense and code colorization for Razor syntax.</span></span>
- <span data-ttu-id="7df4c-180">Razor ビューは、アプリケーションを実行したり、web サーバーを起動したりせずに、単体テストを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-180">Razor views can be unit tested without requiring that you run the application or launch a web server.</span></span>

<span data-ttu-id="7df4c-181">新しい Razor 機能には、次のようなものがあります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-181">Some new Razor features include the following:</span></span>

- <span data-ttu-id="7df4c-182">ビューに渡される型を指定するための `@model` 構文。</span><span class="sxs-lookup"><span data-stu-id="7df4c-182">`@model` syntax for specifying the type being passed to the view.</span></span>
- <span data-ttu-id="7df4c-183">`@* *@` コメントの構文。</span><span class="sxs-lookup"><span data-stu-id="7df4c-183">`@* *@` comment syntax.</span></span>
- <span data-ttu-id="7df4c-184">サイト全体に対して1回だけ既定値 (`layoutpage`など) を指定する機能。</span><span class="sxs-lookup"><span data-stu-id="7df4c-184">The ability to specify defaults (such as `layoutpage`) once for an entire site.</span></span>
- <span data-ttu-id="7df4c-185">HTML エンコードせずにテキストを表示するための `Html.Raw` メソッド。</span><span class="sxs-lookup"><span data-stu-id="7df4c-185">The `Html.Raw` method for displaying text without HTML-encoding it.</span></span>
- <span data-ttu-id="7df4c-186">複数のビュー間でのコードの共有のサポート ( *\_viewstart. cshtml*または *\_viewstart. vbhtml*ファイル)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-186">Support for sharing code among multiple views (*\_viewstart.cshtml* or *\_viewstart.vbhtml* files).</span></span>

<span data-ttu-id="7df4c-187">Razor には、次のような新しい HTML ヘルパーも含まれています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-187">Razor also includes  new HTML helpers, such as the following:</span></span>

- <span data-ttu-id="7df4c-188">`Chart`.</span><span class="sxs-lookup"><span data-stu-id="7df4c-188">`Chart`.</span></span> <span data-ttu-id="7df4c-189">ASP.NET 4 のグラフコントロールと同じ機能を提供するグラフを表示します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-189">Renders a chart, offering the same features as the chart control in ASP.NET 4.</span></span>
- <span data-ttu-id="7df4c-190">`WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="7df4c-190">`WebGrid`.</span></span> <span data-ttu-id="7df4c-191">ページングと並べ替えの機能を備えたデータグリッドをレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="7df4c-191">Renders a data grid, complete with paging and sorting functionality.</span></span>
- <span data-ttu-id="7df4c-192">`Crypto`.</span><span class="sxs-lookup"><span data-stu-id="7df4c-192">`Crypto`.</span></span> <span data-ttu-id="7df4c-193">ハッシュアルゴリズムを使用して、適切なソルトおよびハッシュされたパスワードを作成します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-193">Uses hashing algorithms to create properly salted and hashed passwords.</span></span>
- <span data-ttu-id="7df4c-194">`WebImage`.</span><span class="sxs-lookup"><span data-stu-id="7df4c-194">`WebImage`.</span></span> <span data-ttu-id="7df4c-195">イメージをレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="7df4c-195">Renders an image.</span></span>
- <span data-ttu-id="7df4c-196">`WebMail`.</span><span class="sxs-lookup"><span data-stu-id="7df4c-196">`WebMail`.</span></span> <span data-ttu-id="7df4c-197">電子メールを送信します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-197">Sends an email message.</span></span>

<span data-ttu-id="7df4c-198">Razor の詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-198">For more information about Razor, see the following resources:</span></span>

- [<span data-ttu-id="7df4c-199">Razor の概要に関する Scott Guthrie のブログ投稿</span><span class="sxs-lookup"><span data-stu-id="7df4c-199">Scott Guthrie's blog post introducing Razor</span></span>](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx)
- [<span data-ttu-id="7df4c-200">@model キーワードの概要に関する Scott Guthrie のブログ投稿</span><span class="sxs-lookup"><span data-stu-id="7df4c-200">Scott Guthrie's blog post introducing the @model keyword</span></span>](https://weblogs.asp.net/scottgu/archive/2010/10/19/asp-net-mvc-3-new-model-directive-support-in-razor.aspx)
- [<span data-ttu-id="7df4c-201">Razor レイアウトの概要に関する Scott Guthrie のブログ投稿</span><span class="sxs-lookup"><span data-stu-id="7df4c-201">Scott Guthrie's blog post introducing Razor layouts</span></span>](https://weblogs.asp.net/scottgu/archive/2010/10/22/asp-net-mvc-3-layouts.aspx)
- [<span data-ttu-id="7df4c-202">Razor API クイックリファレンス</span><span class="sxs-lookup"><span data-stu-id="7df4c-202">Razor API Quick Reference</span></span>](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)
- [<span data-ttu-id="7df4c-203">MVC 3 リリースノート</span><span class="sxs-lookup"><span data-stu-id="7df4c-203">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

<a id="BM_Support_for_Multiple_View_Engines"></a>

## <a name="support-for-multiple-view-engines"></a><span data-ttu-id="7df4c-204">複数のビューエンジンのサポート</span><span class="sxs-lookup"><span data-stu-id="7df4c-204">Support for Multiple View Engines</span></span>

<span data-ttu-id="7df4c-205">ASP.NET MVC 3 の **[ビューの追加]** ダイアログボックスを使用すると、操作するビューエンジンを選択できます。また、 **[新しいプロジェクト]** ダイアログボックスでは、プロジェクトの既定のビューエンジンを指定できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-205">The **Add View** dialog box in ASP.NET MVC 3 lets you choose the view engine you want to work with, and the **New Project** dialog box lets you specify the default view engine for a project.</span></span> <span data-ttu-id="7df4c-206">Web フォームビューエンジン (ASPX)、Razor、または[Spark](http://sparkviewengine.com/)、 [NHaml](https://code.google.com/p/nhaml/)、 [NDjango](http://ndjango.org/)などのオープンソースビューエンジンを選択できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-206">You can choose the Web Forms view engine (ASPX), Razor, or an open-source view engine such as [Spark](http://sparkviewengine.com/), [NHaml](https://code.google.com/p/nhaml/), or [NDjango](http://ndjango.org/).</span></span>

<a id="BM_Controller_Improvements"></a>

## <a name="controller-improvements"></a><span data-ttu-id="7df4c-207">コントローラーの機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-207">Controller Improvements</span></span>

### <a name="global-action-filters"></a><span data-ttu-id="7df4c-208">グローバルアクションフィルター</span><span class="sxs-lookup"><span data-stu-id="7df4c-208">Global Action Filters</span></span>

<span data-ttu-id="7df4c-209">アクションメソッドが実行される前、またはアクションメソッドの実行後にロジックを実行することが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-209">Sometimes you want to perform logic either before an action method runs or after an action method runs.</span></span> <span data-ttu-id="7df4c-210">これをサポートするために、ASP.NET MVC 2 ではアクションフィルターが提供されています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-210">To support this, ASP.NET MVC 2 provided action filters.</span></span> <span data-ttu-id="7df4c-211">アクションフィルターは、特定のコントローラーアクションメソッドにアクション前の動作とアクション後の動作を追加するための宣言的な手段を提供するカスタム属性です。</span><span class="sxs-lookup"><span data-stu-id="7df4c-211">Action filters are custom attributes that provide a declarative means to add pre-action and post-action behavior to specific controller action methods.</span></span> <span data-ttu-id="7df4c-212">ただし、場合によっては、すべてのアクションメソッドに適用されるアクション前またはアクション後の動作を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-212">However, in some cases you might want to specify pre-action or post-action behavior that applies to all action methods.</span></span> <span data-ttu-id="7df4c-213">MVC 3 では、グローバルフィルターを `GlobalFilters` コレクションに追加することによって指定できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-213">MVC 3 lets you specify global filters by adding them to the `GlobalFilters` collection.</span></span> <span data-ttu-id="7df4c-214">グローバルアクションフィルターの詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-214">For more information about global action filters, see the following resources:</span></span>

- [<span data-ttu-id="7df4c-215">MVC 3 Preview の Scott Guthrie のブログ</span><span class="sxs-lookup"><span data-stu-id="7df4c-215">Scott Guthrie's blog on the MVC 3 Preview</span></span>](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx)
- <span data-ttu-id="7df4c-216">[ASP.NET MVC でのフィルター処理](https://msdn.microsoft.com/library/gg416513(VS.98).aspx)</span><span class="sxs-lookup"><span data-stu-id="7df4c-216">[Filtering in ASP.NET MVC](https://msdn.microsoft.com/library/gg416513(VS.98).aspx)</span></span>

### <a name="new-viewbag-property"></a><span data-ttu-id="7df4c-217">新しい "ViewBag" プロパティ</span><span class="sxs-lookup"><span data-stu-id="7df4c-217">New "ViewBag" Property</span></span>

<span data-ttu-id="7df4c-218">MVC 2 コントローラーは、遅延バインディングされたディクショナリ API を使用してビューテンプレートにデータを渡すことができる `ViewData` プロパティをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-218">MVC 2 controllers support a `ViewData` property that enables you to pass data to a view template using a late-bound dictionary API.</span></span> <span data-ttu-id="7df4c-219">MVC 3 では、同じ目的を達成するために、`ViewBag` プロパティでやや単純な構文を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-219">In MVC 3, you can also use somewhat simpler syntax with the `ViewBag` property to accomplish the same purpose.</span></span> <span data-ttu-id="7df4c-220">たとえば、`ViewData["Message"]="text"`を記述するのではなく、`ViewBag.Message="text"`を記述できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-220">For example, instead of writing `ViewData["Message"]="text"`, you can write `ViewBag.Message="text"`.</span></span> <span data-ttu-id="7df4c-221">`ViewBag` プロパティを使用するために、厳密に型指定されたクラスを定義する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="7df4c-221">You do not need to define any strongly-typed classes to use the `ViewBag` property.</span></span> <span data-ttu-id="7df4c-222">動的なプロパティであるため、プロパティを取得または設定するだけで、実行時に動的に解決されます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-222">Because it is a dynamic property, you can instead just get or set properties and it will resolve them dynamically at run time.</span></span> <span data-ttu-id="7df4c-223">内部的には、`ViewBag` のプロパティは、名前と値のペアとして `ViewData` ディクショナリに格納されます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-223">Internally, `ViewBag` properties are stored as name/value pairs in the `ViewData` dictionary.</span></span> <span data-ttu-id="7df4c-224">(注: MVC 3 のほとんどのプレリリースバージョンでは、`ViewBag` プロパティの名前は `ViewModel` プロパティでした。)</span><span class="sxs-lookup"><span data-stu-id="7df4c-224">(Note: in most pre-release versions of MVC 3, the `ViewBag` property was named the `ViewModel` property.)</span></span>

### <a name="new-actionresult-types"></a><span data-ttu-id="7df4c-225">新しい "ActionResult" 型</span><span class="sxs-lookup"><span data-stu-id="7df4c-225">New "ActionResult" Types</span></span>

<span data-ttu-id="7df4c-226">MVC 3 では、次の `ActionResult` 型および対応するヘルパーメソッドが新しく追加または強化されています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-226">The following `ActionResult` types and corresponding helper methods are new or enhanced in MVC 3:</span></span>

- <span data-ttu-id="7df4c-227">[Httpnotfound 結果](https://msdn.microsoft.com/library/system.web.mvc.httpnotfoundresult(v=vs.98).aspx)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-227">[HttpNotFoundResult](https://msdn.microsoft.com/library/system.web.mvc.httpnotfoundresult(v=vs.98).aspx).</span></span> <span data-ttu-id="7df4c-228">クライアントに 404 HTTP 状態コードを返します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-228">Returns a 404 HTTP status code to the client.</span></span>
- <span data-ttu-id="7df4c-229">[Redirectresult](https://msdn.microsoft.com/library/system.web.mvc.redirectresult(v=VS.98).aspx)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-229">[RedirectResult](https://msdn.microsoft.com/library/system.web.mvc.redirectresult(v=VS.98).aspx).</span></span> <span data-ttu-id="7df4c-230">ブール型パラメーターに応じて、一時的なリダイレクト (HTTP 302 状態コード) または永続的なリダイレクト (HTTP 301 状態コード) を返します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-230">Returns a temporary redirect (HTTP 302 status code) or a permanent redirect (HTTP 301 status code), depending on a Boolean parameter.</span></span> <span data-ttu-id="7df4c-231">この変更と共に、[コントローラー](https://msdn.microsoft.com/library/system.web.mvc.controller(v=VS.98).aspx)クラスには、`RedirectPermanent`、`RedirectToRoutePermanent`、および `RedirectToActionPermanent`の永続的なリダイレクトを実行する3つのメソッドが用意されています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-231">In conjunction with this change, the [Controller](https://msdn.microsoft.com/library/system.web.mvc.controller(v=VS.98).aspx) class now has three methods for performing permanent redirects: `RedirectPermanent`, `RedirectToRoutePermanent`, and `RedirectToActionPermanent`.</span></span> <span data-ttu-id="7df4c-232">これらのメソッドは、`Permanent` プロパティが `true`に設定された `RedirectResult` のインスタンスを返します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-232">These methods return an instance of `RedirectResult` with the `Permanent` property set to `true`.</span></span>
- <span data-ttu-id="7df4c-233">[HttpStatusCodeResult](https://msdn.microsoft.com/library/system.web.mvc.httpstatuscoderesult(v=VS.98).aspx)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-233">[HttpStatusCodeResult](https://msdn.microsoft.com/library/system.web.mvc.httpstatuscoderesult(v=VS.98).aspx).</span></span> <span data-ttu-id="7df4c-234">ユーザー指定の HTTP 状態コードを返します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-234">Returns a user-specified HTTP status code.</span></span>

<a id="BM_JavaScript_and_Ajax_Improvements"></a>

## <a name="javascript-and-ajax-improvements"></a><span data-ttu-id="7df4c-235">JavaScript と Ajax の機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-235">JavaScript and Ajax Improvements</span></span>

<span data-ttu-id="7df4c-236">既定では、MVC 3 の Ajax および検証ヘルパーは、控えめな JavaScript アプローチを使用します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-236">By default, Ajax and validation helpers in MVC 3 use an unobtrusive JavaScript approach.</span></span> <span data-ttu-id="7df4c-237">控えめになった JavaScript は、インライン JavaScript を HTML に挿入することを回避します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-237">Unobtrusive JavaScript avoids injecting inline JavaScript into HTML.</span></span> <span data-ttu-id="7df4c-238">これにより、HTML のサイズが小さくなり、わかりにくくなり、JavaScript ライブラリを簡単に交換したりカスタマイズしたりできるようになります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-238">This makes your HTML smaller and less cluttered, and makes it easier to swap out or customize JavaScript libraries.</span></span> <span data-ttu-id="7df4c-239">MVC 3 の検証ヘルパーは、既定では `jQueryValidate` プラグインも使用します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-239">Validation helpers in MVC 3 also use the `jQueryValidate` plugin by default.</span></span> <span data-ttu-id="7df4c-240">MVC 2 の動作が必要な場合は、 *web.config ファイルの*設定を使用して、控えめな JavaScript を無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-240">If you want MVC 2 behavior, you can disable unobtrusive JavaScript using a *web.config* file setting.</span></span> <span data-ttu-id="7df4c-241">JavaScript と Ajax の機能強化の詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-241">For more information about JavaScript and Ajax improvements, see the following resources:</span></span>

- [<span data-ttu-id="7df4c-242">Wikipedia のサイトでの控えめな JavaScript の概要</span><span class="sxs-lookup"><span data-stu-id="7df4c-242">Basic introduction to unobtrusive JavaScript on the Wikipedia site</span></span>](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)
- [<span data-ttu-id="7df4c-243">Brad Wilson の控えめな JavaScript 投稿</span><span class="sxs-lookup"><span data-stu-id="7df4c-243">Brad Wilson's Unobtrusive JavaScript Post</span></span>](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-ajax.html)
- [<span data-ttu-id="7df4c-244">Brad Wilson の控えめな JavaScript 検証の投稿</span><span class="sxs-lookup"><span data-stu-id="7df4c-244">Brad Wilson's Unobtrusive JavaScript Validation Post</span></span>](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-validation.html)
- <span data-ttu-id="7df4c-245">[Razor および控えめな JavaScript を使用した MVC 3 アプリケーションの作成](overview/older-versions/creating-a-mvc-3-application-with-razor-and-unobtrusive-javascript.md)(ASP.NET サイトのチュートリアル)</span><span class="sxs-lookup"><span data-stu-id="7df4c-245">[Creating a MVC 3 Application with Razor and Unobtrusive JavaScript](overview/older-versions/creating-a-mvc-3-application-with-razor-and-unobtrusive-javascript.md) (tutorial on the ASP.NET site)</span></span>
- [<span data-ttu-id="7df4c-246">MVC 3 リリースノート</span><span class="sxs-lookup"><span data-stu-id="7df4c-246">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

### <a name="client-side-validation-enabled-by-default"></a><span data-ttu-id="7df4c-247">クライアント側の検証が既定で有効になっている</span><span class="sxs-lookup"><span data-stu-id="7df4c-247">Client-Side Validation Enabled by Default</span></span>

<span data-ttu-id="7df4c-248">以前のバージョンの MVC では、クライアント側の検証を有効にするために、ビューから `Html.EnableClientValidation` メソッドを明示的に呼び出す必要があります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-248">In earlier versions of MVC, you need to explicitly call the `Html.EnableClientValidation` method from a view in order to enable client-side validation.</span></span> <span data-ttu-id="7df4c-249">MVC 3 では、クライアント側の検証が既定で有効になっているため、これは不要になりました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-249">In MVC 3 this is no longer required because client-side validation is enabled by default.</span></span> <span data-ttu-id="7df4c-250">(これ*は、web.config ファイルの*設定を使用して無効にすることができます)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-250">(You can disable this using a setting in the *web.config* file.)</span></span>

<span data-ttu-id="7df4c-251">クライアント側の検証を機能させるには、サイトで適切な jQuery および jQuery 検証ライブラリを参照する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-251">In order for client-side validation to work, you still need to reference the appropriate jQuery and jQuery Validation libraries in your site.</span></span> <span data-ttu-id="7df4c-252">これらのライブラリは、独自のサーバーでホストすることも、Microsoft または Google の CDN (content delivery network) から参照することもできます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-252">You can host those libraries on your own server or reference them from a content delivery network (CDN) like the CDNs from Microsoft or Google.</span></span>

### <a name="remote-validator"></a><span data-ttu-id="7df4c-253">リモート検証</span><span class="sxs-lookup"><span data-stu-id="7df4c-253">Remote Validator</span></span>

<span data-ttu-id="7df4c-254">ASP.NET MVC 3 では、jQuery Validation プラグインのリモート検証機能のサポートを利用できる新しい[Remoteattribute](https://msdn.microsoft.com/library/system.web.mvc.remoteattribute(v=VS.98).aspx)クラスがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-254">ASP.NET MVC 3 supports the new [RemoteAttribute](https://msdn.microsoft.com/library/system.web.mvc.remoteattribute(v=VS.98).aspx) class that enables you to take advantage of the jQuery Validation plug-in's remote validator support.</span></span> <span data-ttu-id="7df4c-255">これにより、クライアント側の検証ライブラリは、サーバー側でのみ実行できる検証ロジックを実行するために、サーバー上で定義したカスタムメソッドを自動的に呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-255">This enables the client-side validation library to automatically call a custom method that you define on the server in order to perform validation logic that can only be done server-side.</span></span>

<span data-ttu-id="7df4c-256">次の例では、`Remote` 属性は、`UserName` フィールドを検証するために、クライアント検証が `UsersController` クラスで `UserNameAvailable` という名前のアクションを呼び出すように指定しています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-256">In the following example, the `Remote` attribute specifies that client validation will call an action named `UserNameAvailable` on the `UsersController` class in order to validate the `UserName` field.</span></span>

[!code-csharp[Main](mvc3/samples/sample1.cs)]

<span data-ttu-id="7df4c-257">次の例は、対応するコントローラーを示しています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-257">The following example shows the corresponding controller.</span></span>

[!code-csharp[Main](mvc3/samples/sample2.cs)]

<span data-ttu-id="7df4c-258">`Remote` 属性の使用方法の詳細については、MSDN ライブラリの「 [how to: ASP.NET MVC でリモート検証を実装する方法](https://msdn.microsoft.com/library/gg508808(VS.98).aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-258">For more information about how to use the `Remote` attribute, see [How to: Implement Remote Validation in ASP.NET MVC](https://msdn.microsoft.com/library/gg508808(VS.98).aspx) in the MSDN library.</span></span>

### <a name="json-binding-support"></a><span data-ttu-id="7df4c-259">JSON バインディングのサポート</span><span class="sxs-lookup"><span data-stu-id="7df4c-259">JSON Binding Support</span></span>

<span data-ttu-id="7df4c-260">ASP.NET MVC 3 には、アクションメソッドが JSON エンコードデータを受信し、それをアクションメソッドパラメーターにモデルバインドできる、組み込みの JSON バインドサポートが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-260">ASP.NET MVC 3 includes built-in JSON binding support that enables action methods to receive JSON-encoded data and model-bind it to action-method parameters.</span></span> <span data-ttu-id="7df4c-261">この機能は、クライアントテンプレートとデータバインディングに関連するシナリオで役立ちます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-261">This capability is useful in scenarios involving client templates and data binding.</span></span> <span data-ttu-id="7df4c-262">(クライアントテンプレートを使用すると、クライアントで実行されるテンプレートを使用して、1つのデータ項目またはデータ項目のセットを書式設定して表示できます)。MVC 3 を使用すると、JSON データを送受信するサーバーのアクションメソッドにクライアントテンプレートを簡単に接続できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-262">(Client templates enable you to format and display a single data item or set of data items by using templates that execute on the client.) MVC 3 enables you to easily connect client templates with action methods on the server that send and receive JSON data.</span></span> <span data-ttu-id="7df4c-263">JSON バインディングのサポートの詳細については、 [Scott Guthrie の MVC 3 Preview ブログの投稿](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx)の**JavaScript と AJAX の機能強化**に関するセクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-263">For more information about JSON binding support, see the **JavaScript and AJAX Improvements** section of [Scott Guthrie's MVC 3 Preview blog post](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).</span></span>

<a id="BM_Model_Validation_Improvements"></a>

## <a name="model-validation-improvements"></a><span data-ttu-id="7df4c-264">モデル検証の機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-264">Model Validation Improvements</span></span>

### <a name="dataannotations-metadata-attributes"></a><span data-ttu-id="7df4c-265">"DataAnnotations" メタデータ属性</span><span class="sxs-lookup"><span data-stu-id="7df4c-265">"DataAnnotations" Metadata Attributes</span></span>

<span data-ttu-id="7df4c-266">ASP.NET MVC 3 は、`DisplayAttribute`などの `DataAnnotations` メタデータ属性をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-266">ASP.NET MVC 3 supports `DataAnnotations` metadata attributes such as `DisplayAttribute`.</span></span>

### <a name="validationattribute-class"></a><span data-ttu-id="7df4c-267">"ValidationAttribute" クラス</span><span class="sxs-lookup"><span data-stu-id="7df4c-267">"ValidationAttribute" Class</span></span>

<span data-ttu-id="7df4c-268">`ValidationAttribute` クラスは、検証対象のオブジェクトなど、現在の検証コンテキストに関する詳細情報を提供する新しい `IsValid` オーバーロードをサポートするために、.NET Framework 4 で改善されました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-268">The `ValidationAttribute` class was improved in the .NET Framework 4 to support a new `IsValid` overload that provides more information about the current validation context, such as what object is being validated.</span></span> <span data-ttu-id="7df4c-269">これにより、モデルの別のプロパティに基づいて現在の値を検証できる、より高度なシナリオが可能になります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-269">This enables richer scenarios where you can validate the current value based on another property of the model.</span></span> <span data-ttu-id="7df4c-270">たとえば、新しい `CompareAttribute` 属性を使用すると、モデルの2つのプロパティの値を比較できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-270">For example, the new `CompareAttribute` attribute lets you compare the values of two properties of a model.</span></span> <span data-ttu-id="7df4c-271">次の例では、有効にするために、`ComparePassword` プロパティが `Password` フィールドと一致している必要があります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-271">In the following example, the `ComparePassword` property must match the `Password` field in order to be valid.</span></span>

[!code-csharp[Main](mvc3/samples/sample3.cs)]

### <a name="validation-interfaces"></a><span data-ttu-id="7df4c-272">検証インターフェイス</span><span class="sxs-lookup"><span data-stu-id="7df4c-272">Validation Interfaces</span></span>

<span data-ttu-id="7df4c-273">[IValidatableObject](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.ivalidatableobject.aspx)インターフェイスを使用すると、モデルレベルの検証を実行できます。また、モデル全体の状態またはモデル内の2つのプロパティ間の検証エラーメッセージを提供できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-273">The [IValidatableObject](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.ivalidatableobject.aspx) interface enables you to perform model-level validation, and it enables you to provide validation error messages that are specific to the state of the overall model, or between two properties within the model.</span></span> <span data-ttu-id="7df4c-274">MVC 3 では、モデルバインド時に `IValidatableObject` インターフェイスからエラーを取得し、組み込みの HTML フォームヘルパーを使用して、ビュー内の影響を受けるフィールドに自動的にフラグを設定したり強調表示したりします。</span><span class="sxs-lookup"><span data-stu-id="7df4c-274">MVC 3 now retrieves errors from the `IValidatableObject` interface when model binding, and automatically flags or highlights affected fields within a view using the built-in HTML form helpers.</span></span>

<span data-ttu-id="7df4c-275">[Iclientvalidatable](https://msdn.microsoft.com/library/system.web.mvc.iclientvalidatable(v=VS.98).aspx)インターフェイスを使用すると、ASP.NET MVC は、検証コントロールがクライアント検証をサポートしているかどうかを実行時に検出できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-275">The [IClientValidatable](https://msdn.microsoft.com/library/system.web.mvc.iclientvalidatable(v=VS.98).aspx) interface enables ASP.NET MVC to discover at run time whether a validator has support for client validation.</span></span> <span data-ttu-id="7df4c-276">このインターフェイスは、さまざまな検証フレームワークと統合できるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-276">This interface has been designed so that it can be integrated with a variety of validation frameworks.</span></span>

<span data-ttu-id="7df4c-277">検証インターフェイスの詳細については、 [Scott Guthrie の MVC 3 Preview ブログの投稿](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx)の**モデル検証の機能強化**に関するセクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-277">For more information about validation interfaces, see the **Model Validation Improvements** section of [Scott Guthrie's MVC 3 Preview blog post](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).</span></span> <span data-ttu-id="7df4c-278">(ただし、ブログの "IValidateObject" への参照は "IValidatableObject" である必要があることに注意してください)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-278">(However, note that the reference to "IValidateObject" in the blog should be "IValidatableObject".)</span></span>

<a id="BM_Dependency_Injection_Improvements"></a>

## <a name="dependency-injection-improvements"></a><span data-ttu-id="7df4c-279">依存関係の挿入の機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-279">Dependency Injection Improvements</span></span>

<span data-ttu-id="7df4c-280">ASP.NET MVC 3 では、依存関係挿入 (DI) の適用と、依存関係の注入またはコントロールの反転 (IOC) コンテナーとの統合に対するサポートが強化されています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-280">ASP.NET MVC 3 provides better support for applying Dependency Injection (DI) and for integrating with Dependency Injection or Inversion of Control (IOC) containers.</span></span> <span data-ttu-id="7df4c-281">DI のサポートは、次の領域に追加されました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-281">Support for DI has been added in the following areas:</span></span>

- <span data-ttu-id="7df4c-282">コントローラー (コントローラーファクトリの登録と挿入、コントローラーの挿入)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-282">Controllers (registering and injecting controller factories, injecting controllers).</span></span>
- <span data-ttu-id="7df4c-283">ビュー (ビューエンジンの登録と挿入、ビューページへの依存関係の挿入)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-283">Views (registering and injecting view engines, injecting dependencies into view pages).</span></span>
- <span data-ttu-id="7df4c-284">アクションフィルター (フィルターの検索と挿入)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-284">Action filters (locating and injecting filters).</span></span>
- <span data-ttu-id="7df4c-285">モデルバインダー (登録と挿入)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-285">Model binders (registering and injecting).</span></span>
- <span data-ttu-id="7df4c-286">モデル検証プロバイダー (登録と挿入)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-286">Model validation providers (registering and injecting).</span></span>
- <span data-ttu-id="7df4c-287">モデルメタデータプロバイダー (登録と挿入)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-287">Model metadata providers (registering and injecting).</span></span>
- <span data-ttu-id="7df4c-288">値プロバイダー (登録と挿入)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-288">Value providers (registering and injecting).</span></span>

<span data-ttu-id="7df4c-289">MVC 3 では、[共通のサービスロケーター](https://github.com/unitycontainer/commonservicelocator)ライブラリと、そのライブラリの `IServiceLocator` インターフェイスをサポートする DI コンテナーがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-289">MVC 3 supports the [Common Service Locator](https://github.com/unitycontainer/commonservicelocator) library and any DI container that supports that library's `IServiceLocator` interface.</span></span> <span data-ttu-id="7df4c-290">また、DI フレームワークの統合を容易にする新しい `IDependencyResolver` インターフェイスもサポートしています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-290">It also supports a new `IDependencyResolver` interface that makes it easier to integrate DI frameworks.</span></span>

<span data-ttu-id="7df4c-291">MVC 3 の DI の詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-291">For more information about DI in MVC 3, see the following resources:</span></span>

- [<span data-ttu-id="7df4c-292">サービスの場所に関する、Brad Wilson の一連のブログ投稿</span><span class="sxs-lookup"><span data-stu-id="7df4c-292">Brad Wilson's series of blog posts on Service Location</span></span>](http://bradwilson.typepad.com/blog/2010/07/service-location-pt1-introduction.html)
- [<span data-ttu-id="7df4c-293">MVC 3 リリースノート</span><span class="sxs-lookup"><span data-stu-id="7df4c-293">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

<a id="BM_Other_New_Features"></a>

## <a name="other-new-features"></a><span data-ttu-id="7df4c-294">その他の新機能</span><span class="sxs-lookup"><span data-stu-id="7df4c-294">Other New Features</span></span>

### <a name="nuget-integration"></a><span data-ttu-id="7df4c-295">NuGet の統合</span><span class="sxs-lookup"><span data-stu-id="7df4c-295">NuGet Integration</span></span>

<span data-ttu-id="7df4c-296">ASP.NET MVC 3 は、セットアップの一部として自動的にインストールされ、NuGet を有効にします。</span><span class="sxs-lookup"><span data-stu-id="7df4c-296">ASP.NET MVC 3 automatically installs and enables NuGet as part of its setup.</span></span> <span data-ttu-id="7df4c-297">NuGet は、無料のオープンソースパッケージマネージャーであり、プロジェクト内で .NET ライブラリとツールを簡単に検索、インストール、および使用できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-297">NuGet is a free open-source package manager that makes it easy to find, install, and use .NET libraries and tools in your projects.</span></span> <span data-ttu-id="7df4c-298">これは、すべての Visual Studio プロジェクトの種類 (ASP.NET Web フォームと ASP.NET MVC を含む) で動作します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-298">It works with all Visual Studio project types (including ASP.NET Web Forms and ASP.NET MVC).</span></span>

<span data-ttu-id="7df4c-299">NuGet を使用すると、オープンソースプロジェクトを管理する開発者 (たとえば、Moq、NHibernate、Nhibernate、構造体の Map、NUnit、Windsor、RhinoMocks、Elmah などのプロジェクト) を使用して、ライブラリをパッケージ化し、オンラインギャラリーに登録できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-299">NuGet enables developers who maintain open source projects (for example, projects like Moq, NHibernate, Ninject, StructureMap, NUnit, Windsor, RhinoMocks, and Elmah) to package their libraries and register them in an online gallery.</span></span> <span data-ttu-id="7df4c-300">.NET 開発者は、これらのライブラリのいずれかを使用して、パッケージを検索し、作業しているプロジェクトにインストールするのが簡単です。</span><span class="sxs-lookup"><span data-stu-id="7df4c-300">It is then easy for .NET developers who want to use one of these libraries to find the package and install it in projects they are working on.</span></span>

<span data-ttu-id="7df4c-301">ASP.NET 3 ツールの更新プログラムでは、プロジェクトテンプレートには JavaScript ライブラリが事前にインストールされている NuGet パッケージが含まれているため、NuGet を使用して更新できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-301">With the ASP.NET 3 Tools Update, project templates include JavaScript libraries pre-installed NuGet packages, so they are updatable via NuGet.</span></span> <span data-ttu-id="7df4c-302">Entity Framework Code First は、NuGet パッケージとしても事前にインストールされています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-302">Entity Framework Code First is also pre-installed as a NuGet package.</span></span>

<span data-ttu-id="7df4c-303">NuGet の詳細については、[NuGet のドキュメント](https://docs.microsoft.com/nuget/)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-303">For more information about NuGet, see the [NuGet documentation](https://docs.microsoft.com/nuget/).</span></span>

### <a name="partial-page-output-caching"></a><span data-ttu-id="7df4c-304">部分ページ出力キャッシュ</span><span class="sxs-lookup"><span data-stu-id="7df4c-304">Partial-Page Output Caching</span></span>

<span data-ttu-id="7df4c-305">ASP.NET MVC は、バージョン1以降のページ全体の応答の出力キャッシュをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-305">ASP.NET MVC has supported output caching of full page responses since version 1.</span></span> <span data-ttu-id="7df4c-306">MVC 3 では、部分ページ出力キャッシュもサポートされています。これにより、リージョンまたは応答のフラグメントを簡単にキャッシュできます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-306">MVC 3 also supports partial-page output caching, which allows you to easily cache regions or fragments of a response.</span></span> <span data-ttu-id="7df4c-307">キャッシュの詳細については、「mvc 3 リリース候補」の[Scott Guthrie のブログ記事](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx)「 [Mvc 3 リリースノート](../whitepapers/mvc3-release-notes.md) **」の**「**部分ページ出力キャッシュ**」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-307">For more information about caching, see the **Partial Page Output Caching** section of [Scott Guthrie's blog post on the MVC 3 release candidate](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx) and the **Child Action Output Caching** section of the [MVC 3 Release Notes](../whitepapers/mvc3-release-notes.md).</span></span>

### <a name="granular-control-over-request-validation"></a><span data-ttu-id="7df4c-308">要求の検証をきめ細かく制御する</span><span class="sxs-lookup"><span data-stu-id="7df4c-308">Granular Control over Request Validation</span></span>

<span data-ttu-id="7df4c-309">ASP.NET MVC には、XSS および HTML インジェクション攻撃から保護するための要求検証が組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="7df4c-309">ASP.NET MVC has built-in request validation that automatically helps protect against XSS and HTML injection attacks.</span></span> <span data-ttu-id="7df4c-310">ただし、ユーザーが HTML コンテンツ (ブログエントリや CMS コンテンツなど) を投稿できるようにする場合など、要求の検証を明示的に無効にすることが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-310">However, sometimes you want to explicitly disable request validation, such as if you want to let users post HTML content (for example, in blog entries or CMS content).</span></span> <span data-ttu-id="7df4c-311">モデルバインド中に、 [AllowHtml](https://msdn.microsoft.com/library/system.web.mvc.allowhtmlattribute(v=VS.98).aspx)属性をモデルに追加したり、モデルを表示して、プロパティごとの検証を無効にしたりできるようになりました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-311">You can now add an [AllowHtml](https://msdn.microsoft.com/library/system.web.mvc.allowhtmlattribute(v=VS.98).aspx) attribute to models or view models to disable request validation on a per-property basis during model binding.</span></span> <span data-ttu-id="7df4c-312">要求の検証の詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-312">For more information about request validation, see the following resources:</span></span>

- <span data-ttu-id="7df4c-313">[MVC 3 リリース候補の Scott Guthrie のブログ投稿](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx)の**控えめな JavaScript と検証**のセクション。</span><span class="sxs-lookup"><span data-stu-id="7df4c-313">The **Unobtrusive JavaScript and Validation** section in [Scott Guthrie's blog post on the MVC 3 release candidate](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx).</span></span>
- [<span data-ttu-id="7df4c-314">MVC 3 リリースノート</span><span class="sxs-lookup"><span data-stu-id="7df4c-314">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

### <a name="extensible-new-project-dialog-box"></a><span data-ttu-id="7df4c-315">拡張可能な [新しいプロジェクト] ダイアログボックス</span><span class="sxs-lookup"><span data-stu-id="7df4c-315">Extensible "New Project" Dialog Box</span></span>

<span data-ttu-id="7df4c-316">ASP.NET MVC 3 では、プロジェクトテンプレート、ビューエンジン、および単体テストプロジェクトフレームワークを **[新しいプロジェクト]** ダイアログボックスに追加できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-316">In ASP.NET MVC 3 you can add project templates, view engines, and unit test project frameworks to the **New Project** dialog box.</span></span>

### <a name="template-scaffolding-improvements"></a><span data-ttu-id="7df4c-317">テンプレートスキャフォールディングの機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-317">Template Scaffolding Improvements</span></span>

<span data-ttu-id="7df4c-318">ASP.NET MVC 3 スキャフォールディングテンプレートでは、モデルの主キープロパティをより適切に識別し、以前のバージョンの MVC よりも適切に処理することができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-318">ASP.NET MVC 3 scaffolding templates do a better job of identifying primary-key properties on models and handling them appropriately than in earlier versions of MVC.</span></span> <span data-ttu-id="7df4c-319">(たとえば、スキャフォールディングテンプレートでは、主キーが編集可能なフォームフィールドとしてスキャフォールディングされないようになっています)。</span><span class="sxs-lookup"><span data-stu-id="7df4c-319">(For example, the scaffolding templates now make sure that the primary key is not scaffolded as an editable form field.)</span></span>

<span data-ttu-id="7df4c-320">既定では、Create と Edit スキャフォールディングは、`Html.TextBoxFor` ヘルパーではなく、`Html.EditorFor` ヘルパーを使用するようになりました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-320">By default, the Create and Edit scaffolds now use the `Html.EditorFor` helper instead of the `Html.TextBoxFor` helper.</span></span> <span data-ttu-id="7df4c-321">これにより、 **[ビューの追加]** ダイアログボックスでビューが生成されたときのデータ注釈属性の形式で、モデルのメタデータのサポートが向上します。</span><span class="sxs-lookup"><span data-stu-id="7df4c-321">This improves support for metadata on the model in the form of data annotation attributes when the **Add View** dialog box generates a view.</span></span>

### <a name="new-overloads-for-htmllabelfor-and-htmllabelformodel"></a><span data-ttu-id="7df4c-322">".Html" と "Html. LabelForModel" の新しいオーバーロード</span><span class="sxs-lookup"><span data-stu-id="7df4c-322">New Overloads for "Html.LabelFor" and "Html.LabelForModel"</span></span>

<span data-ttu-id="7df4c-323">`LabelFor` および `LabelForModel` ヘルパーメソッドに新しいメソッドオーバーロードが追加されました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-323">New method overloads have been added for the `LabelFor` and `LabelForModel` helper methods.</span></span> <span data-ttu-id="7df4c-324">新しいオーバーロードを使用すると、ラベルテキストを指定またはオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-324">The new overloads enable you to specify or override the label text.</span></span>

### <a name="sessionless-controller-support"></a><span data-ttu-id="7df4c-325">セッションレスコントローラーのサポート</span><span class="sxs-lookup"><span data-stu-id="7df4c-325">Sessionless Controller Support</span></span>

<span data-ttu-id="7df4c-326">ASP.NET MVC 3 では、コントローラークラスでセッション状態を使用するかどうかを指定できます。その場合は、セッション状態を読み取り/書き込みまたは読み取り専用にするかどうかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-326">In ASP.NET MVC 3 you can indicate whether you want a controller class to use session state, and if so, whether session state should be read/write or read-only.</span></span> <span data-ttu-id="7df4c-327">セッションレスコントローラーのサポートの詳細については、「 [MVC 3 リリースノート](../whitepapers/mvc3-release-notes.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7df4c-327">For more information about sessionless controller support, see [MVC 3 Release Notes](../whitepapers/mvc3-release-notes.md).</span></span>

### <a name="new-additionalmetadataattribute-class"></a><span data-ttu-id="7df4c-328">新しい "AdditionalMetadataAttribute" クラス</span><span class="sxs-lookup"><span data-stu-id="7df4c-328">New "AdditionalMetadataAttribute" Class</span></span>

<span data-ttu-id="7df4c-329">[Additionalmetadata](https://msdn.microsoft.com/library/system.web.mvc.additionalmetadataattribute(v=VS.98).aspx)属性を使用して、モデルプロパティの `ModelMetadata.AdditionalValues` ディクショナリを設定できます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-329">You can use the [AdditionalMetadata](https://msdn.microsoft.com/library/system.web.mvc.additionalmetadataattribute(v=VS.98).aspx) attribute to populate the `ModelMetadata.AdditionalValues` dictionary for a model property.</span></span> <span data-ttu-id="7df4c-330">たとえば、ビューモデルに、管理者のみに表示されるプロパティがある場合は、次の例に示すように、そのプロパティに注釈を付けることができます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-330">For example, if a view model has a property that should be displayed only to an administrator, you can annotate that property as shown in the following example:</span></span>

[!code-csharp[Main](mvc3/samples/sample4.cs)]

<span data-ttu-id="7df4c-331">このメタデータは、製品ビューモデルがレンダリングされるときに、任意の表示またはエディターテンプレートで使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="7df4c-331">This metadata is made available to any display or editor template when a product view model is rendered.</span></span> <span data-ttu-id="7df4c-332">メタデータ情報を解釈するのは、ユーザーの判断です。</span><span class="sxs-lookup"><span data-stu-id="7df4c-332">It is up to you to interpret the metadata information.</span></span>

### <a name="accountcontroller-improvements"></a><span data-ttu-id="7df4c-333">AccountController の機能強化</span><span class="sxs-lookup"><span data-stu-id="7df4c-333">AccountController improvements</span></span>

<span data-ttu-id="7df4c-334">インターネットプロジェクトテンプレートの AccountController が大幅に改善されました。</span><span class="sxs-lookup"><span data-stu-id="7df4c-334">The AccountController in the Internet project template has been greatly improved.</span></span>

### <a name="new-intranet-project-template"></a><span data-ttu-id="7df4c-335">新しいイントラネットプロジェクトテンプレート</span><span class="sxs-lookup"><span data-stu-id="7df4c-335">New Intranet Project Template</span></span>

<span data-ttu-id="7df4c-336">新しいイントラネットプロジェクトテンプレートが含まれています。これにより、Windows 認証が有効になり、AccountController が削除されます。</span><span class="sxs-lookup"><span data-stu-id="7df4c-336">A new Intranet Project Template is included which enables Windows Authentication and removes the AccountController.</span></span>
