---
uid: web-forms/overview/deployment/visual-studio-web-deployment/project-properties
title: 'Visual Studio を使用した ASP.NET Web 配置: プロジェクトのプロパティ |Microsoft Docs'
author: tdykstra
description: このチュートリアルシリーズでは、ASP.NET web アプリケーションをデプロイ (発行) して、Web Apps またはサードパーティのホスティングプロバイダーに Azure App Service する方法について説明します。
ms.author: riande
ms.date: 02/15/2013
ms.assetid: ec1cec4c-a75f-47af-a2ba-b1e2f971d24b
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/project-properties
msc.type: authoredcontent
ms.openlocfilehash: b2811791a897c9166f6222c23dddc6921e5267ab
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78522940"
---
# <a name="aspnet-web-deployment-using-visual-studio-project-properties"></a><span data-ttu-id="acbc4-103">Visual Studio を使用した ASP.NET Web 配置: プロジェクトのプロパティ</span><span class="sxs-lookup"><span data-stu-id="acbc4-103">ASP.NET Web Deployment using Visual Studio: Project Properties</span></span>

<span data-ttu-id="acbc4-104">[Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="acbc4-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="acbc4-105">スタートプロジェクトのダウンロード</span><span class="sxs-lookup"><span data-stu-id="acbc4-105">Download Starter Project</span></span>](https://go.microsoft.com/fwlink/p/?LinkId=282627)

> <span data-ttu-id="acbc4-106">このチュートリアルシリーズでは、Visual Studio 2012 または Visual Studio 2010 を使用して、Azure App Service Web Apps またはサードパーティのホスティングプロバイダーにするために、ASP.NET web アプリケーションをデプロイ (発行) する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-106">This tutorial series shows you how to deploy (publish) an ASP.NET web application to Azure App Service Web Apps or to a third-party hosting provider, by using Visual Studio 2012 or Visual Studio 2010.</span></span> <span data-ttu-id="acbc4-107">シリーズの詳細については、[シリーズの最初のチュートリアル](introduction.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="acbc4-107">For information about the series, see [the first tutorial in the series](introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="acbc4-108">概要</span><span class="sxs-lookup"><span data-stu-id="acbc4-108">Overview</span></span>

<span data-ttu-id="acbc4-109">一部の配置オプションは、プロジェクトファイル ( *.csproj*または *.vbproj*ファイル) に格納されているプロジェクトプロパティで構成されます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-109">Some deployment options are configured in project properties that are stored in the project file (the *.csproj* or *.vbproj* file).</span></span> <span data-ttu-id="acbc4-110">ほとんどの場合、これらの設定の既定値は必要ですが、Visual Studio に組み込まれている**プロジェクトプロパティ**の UI を使用すると、これらの設定を変更する必要がある場合に、これらの設定を操作できます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-110">In most cases, the default values of these settings are what you want, but you can use the **Project Properties** UI built into Visual Studio to work with these settings if you have to change them.</span></span> <span data-ttu-id="acbc4-111">このチュートリアルでは、 **[プロジェクトのプロパティ]** で配置設定を確認します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-111">In this tutorial you review the deployment settings in **Project Properties**.</span></span> <span data-ttu-id="acbc4-112">また、空のフォルダーを配置するプレースホルダーファイルも作成します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-112">You also create a placeholder file that causes an empty folder to be deployed.</span></span>

## <a name="configure-deployment-settings-in-the-project-properties-window"></a><span data-ttu-id="acbc4-113">プロジェクトの [プロパティ] ウィンドウでの配置設定の構成</span><span class="sxs-lookup"><span data-stu-id="acbc4-113">Configure deployment settings in the project properties window</span></span>

<span data-ttu-id="acbc4-114">次のチュートリアルで説明するように、デプロイ時の動作に影響するほとんどの設定が発行プロファイルに含まれています。</span><span class="sxs-lookup"><span data-stu-id="acbc4-114">Most settings that affect what happens during deployment are included in the publish profile, as you'll see in the following tutorials.</span></span> <span data-ttu-id="acbc4-115">注意すべきいくつかの設定は、プロジェクトの **[プロパティ]** ウィンドウの [**パッケージ]/[発行**] タブにあります。</span><span class="sxs-lookup"><span data-stu-id="acbc4-115">A few settings that you should be aware of are located in the **Package/Publish** tabs of the **Project Properties** window.</span></span> <span data-ttu-id="acbc4-116">これらの設定は、各ビルド構成に対して指定されます。つまり、デバッグビルドの場合とは異なる設定をリリースビルドに対して使用できます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-116">These settings are specified for each build configuration — that is, you can have different settings for a Release build than you have for a Debug build.</span></span>

<span data-ttu-id="acbc4-117">**ソリューションエクスプローラー**で、 **ContosoUniversity**プロジェクトを右クリックし、 **[プロパティ]** をクリックして、 **[Web のパッケージ化/発行]** タブを選択します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-117">In **Solution Explorer**, right-click the **ContosoUniversity** project, select **Properties**, and then select the **Package/Publish Web** tab.</span></span>

![[パッケージ/Web の発行] タブ](project-properties/_static/image1.png)

<span data-ttu-id="acbc4-119">ウィンドウが表示されると、既定では、ソリューションで現在アクティブになっているビルド構成の設定が表示されます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-119">When the window is displayed, it defaults to showing settings for whichever build configuration is currently active for the solution.</span></span> <span data-ttu-id="acbc4-120">**構成**ボックスが**アクティブ (リリース)** を示していない場合は、リリースビルド構成の設定を表示するために **[リリース]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-120">If the **Configuration** box does not indicate **Active (Release)**, select **Release** in order to display settings for the Release build configuration.</span></span> <span data-ttu-id="acbc4-121">テスト環境と運用環境の両方にリリースビルドを配置します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-121">You'll deploy Release builds to both your test and production environments.</span></span>

![リリースビルド構成の選択](project-properties/_static/image2.png)

<span data-ttu-id="acbc4-123">**[アクティブ (リリース)]** または **[リリース]** を選択すると、リリースビルド構成を使用して配置するときに有効な値が表示されます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-123">With **Active (Release)** or **Release** selected, you see the values that are effective when you deploy using the Release build configuration:</span></span>

- <span data-ttu-id="acbc4-124">**[展開する項目]** ボックスで、**アプリケーションの実行に必要なファイルのみ**が選択されます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-124">In the **Items to deploy** box, **Only files needed to run the application** is selected.</span></span> <span data-ttu-id="acbc4-125">その他のオプションとして、**このプロジェクトのすべてのファイル**または**このプロジェクトフォルダー内のすべてのファイル**があります。</span><span class="sxs-lookup"><span data-stu-id="acbc4-125">Other options are **All files in this project** or **All files in this project folder**.</span></span> <span data-ttu-id="acbc4-126">既定の選択をそのままにしておくことで、ソースコードファイルを配置しないようにします (など)。</span><span class="sxs-lookup"><span data-stu-id="acbc4-126">By leaving the default selection unchanged you avoid deploying source code files, for example.</span></span> <span data-ttu-id="acbc4-127">この設定は、SQL Server Compact バイナリファイルを含むフォルダーをプロジェクトに含める必要がある理由です。</span><span class="sxs-lookup"><span data-stu-id="acbc4-127">This setting is the reason why the folders that contain the SQL Server Compact binary files had to be included in the project.</span></span> <span data-ttu-id="acbc4-128">この設定の詳細については、「 [ASP.NET Web アプリケーションプロジェクトの配置](https://msdn.microsoft.com/library/ee942158.aspx)に関する FAQ」の「**プロジェクトフォルダー内のすべてのファイルが配置されない理由**」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="acbc4-128">For more information about this setting, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx).</span></span>
- <span data-ttu-id="acbc4-129">生成された**デバッグシンボルを除外**します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-129">**Exclude generated debug symbols** is selected.</span></span> <span data-ttu-id="acbc4-130">このビルド構成を使用すると、デバッグは行われません。</span><span class="sxs-lookup"><span data-stu-id="acbc4-130">You won't be debugging when you use this build configuration.</span></span>
- <span data-ttu-id="acbc4-131">[ **SQL のパッケージ化/発行] タブで構成されているすべてのデータベースを含め**ます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-131">**Include all databases configured in Package/Publish SQL tab** is selected.</span></span> <span data-ttu-id="acbc4-132">ファイルだけでなく、Visual Studio でもデータベースを配置するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-132">Specifies whether Visual Studio will deploy databases as well as files.</span></span> <span data-ttu-id="acbc4-133">チェックボックスのラベルには **[SQL のパッケージ化/発行]** タブのみが示されますが、このチェックボックスをオフにすると、発行プロファイルで構成されているデータベースの配置も無効になります。</span><span class="sxs-lookup"><span data-stu-id="acbc4-133">Although the check box label only mentions the **Package/Publish SQL** tab, clearing this check box would also disable database deployment that is configured in the publish profile.</span></span> <span data-ttu-id="acbc4-134">これは後で実行するため、チェックボックスはオンのままにしておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="acbc4-134">You will be doing that later, so the check box must remain selected.</span></span> <span data-ttu-id="acbc4-135">**[SQL のパッケージ化/発行]** タブは、これらのチュートリアルで使用しない従来のデータベース発行方法に使用されます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-135">The **Package/Publish SQL** tab is used for a legacy database publishing method that you won't be using in these tutorials.</span></span>
- <span data-ttu-id="acbc4-136">これらのチュートリアルでワンクリック発行を使用しているため、 **[Web デプロイパッケージの設定]** セクションは適用されません。</span><span class="sxs-lookup"><span data-stu-id="acbc4-136">The **Web Deployment Package Settings** section does not apply because you're using one-click publish in these tutorials.</span></span>

<span data-ttu-id="acbc4-137">**構成** ドロップダウンボックスを デバッグ に変更して、デバッグビルドの既定の設定を確認します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-137">Change the **Configuration** drop-down box to Debug to see the default settings for Debug builds.</span></span> <span data-ttu-id="acbc4-138">値は同じです。ただし、[**生成されたデバッグシンボルを除外**する] をオフにすると、デバッグビルドを配置するときにデバッグできるようになります。</span><span class="sxs-lookup"><span data-stu-id="acbc4-138">The values are the same, except **Exclude generated debug symbols** is cleared so that you can debug when you deploy a Debug build.</span></span>

## <a name="make-sure-that-the-elmah-folder-gets-deployed"></a><span data-ttu-id="acbc4-139">Elmah フォルダーが展開されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-139">Make sure that the Elmah folder gets deployed</span></span>

<span data-ttu-id="acbc4-140">前のチュートリアルで見たように、 [Elmah NuGet パッケージ](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx)は、エラーのログ記録とレポートの機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-140">As you saw in the previous tutorial, the [Elmah NuGet package](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx) provides functionality for error logging and reporting.</span></span> <span data-ttu-id="acbc4-141">Contoso 大学アプリケーションの Elmah は *、elmah という名前*のフォルダーにエラーの詳細を格納するように構成されています。</span><span class="sxs-lookup"><span data-stu-id="acbc4-141">In the Contoso University application Elmah has been configured to store error details in a folder named *Elmah*:</span></span>

![Elmah フォルダー](project-properties/_static/image3.png)

<span data-ttu-id="acbc4-143">特定のファイルやフォルダーを展開から除外することは、一般的な要件です。別の例として、ユーザーがファイルをアップロードできるフォルダーがあります。</span><span class="sxs-lookup"><span data-stu-id="acbc4-143">Excluding specific files or folders from deployment is a common requirement; another example would be a folder that users can upload files to.</span></span> <span data-ttu-id="acbc4-144">開発環境で作成されたログファイルやアップロードされたファイルを運用環境に配置する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="acbc4-144">You don't want log files or uploaded files that were created in your development environment to be deployed to production.</span></span> <span data-ttu-id="acbc4-145">また、運用環境に更新プログラムを展開する場合は、運用環境に存在するファイルを展開プロセスで削除する必要がありません。</span><span class="sxs-lookup"><span data-stu-id="acbc4-145">And if you are deploying an update to production you don't want the deployment process to delete files that exist in production.</span></span> <span data-ttu-id="acbc4-146">(展開オプションの設定方法によっては、展開時に移行先サイトにファイルが存在し、ソースサイトには存在しない場合、Web 配置によって移行先から削除されます)。</span><span class="sxs-lookup"><span data-stu-id="acbc4-146">(Depending on how you set a deployment option, if a file exists in the destination site but not the source site when you deploy, Web Deploy deletes it from the destination.)</span></span>

<span data-ttu-id="acbc4-147">このチュートリアルで既に説明したように、 **[パッケージ化/発行]** タブの **[配置する項目]** オプションは、**このアプリケーションを実行するために必要なファイルのみ**に設定されています。</span><span class="sxs-lookup"><span data-stu-id="acbc4-147">As you saw earlier in this tutorial, the **Items to deploy** option in the **Package/Publish Web** tab is set to **Only Files Needed to run this application**.</span></span> <span data-ttu-id="acbc4-148">その結果、Elmah によって開発されたログファイルは配置されません。これは、このような状況で発生します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-148">As a result, log files that are created by Elmah in development will not be deployed, which is what you want to happen.</span></span> <span data-ttu-id="acbc4-149">(配置するには、プロジェクトに含める必要があります。また、**ビルドアクション**プロパティを **[コンテンツ]** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="acbc4-149">(To be deployed, they would have to be included in the project and their **Build Action** property would have to be set to **Content**.</span></span> <span data-ttu-id="acbc4-150">詳細については、「 [ASP.NET Web アプリケーションプロジェクトの配置](https://msdn.microsoft.com/library/ee942158.aspx)に関する FAQ」の「**プロジェクトフォルダー内のすべてのファイルが配置されない理由**」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="acbc4-150">For more information, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx)).</span></span> <span data-ttu-id="acbc4-151">ただし、コピーするファイルが少なくとも1つある場合を除き、Web 配置では、移行先サイトにフォルダーは作成されません。</span><span class="sxs-lookup"><span data-stu-id="acbc4-151">However, Web Deploy will not create a folder in the destination site unless there's at least one file to copy to it.</span></span> <span data-ttu-id="acbc4-152">そのため、フォルダーに *.txt*ファイルを追加して、フォルダーをコピーするようにプレースホルダーとして機能させることができます。</span><span class="sxs-lookup"><span data-stu-id="acbc4-152">Therefore, you'll add a *.txt* file to the folder to act as a placeholder so that the folder will be copied.</span></span>

<span data-ttu-id="acbc4-153">**ソリューションエクスプローラー**で、[ *Elmah* ] フォルダーを右クリックし、 **[新しい項目の追加]** を選択して、" *file.txt*" という名前のテキストファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-153">In **Solution Explorer**, right-click the *Elmah* folder, select **Add New Item**, and create a text file named *Placeholder.txt*.</span></span> <span data-ttu-id="acbc4-154">"これはプレースホルダーファイルで、フォルダーが展開されることを確認します。" というテキストを入力します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-154">Put the following text in it: "This is a placeholder file to ensure that the folder gets deployed."</span></span> <span data-ttu-id="acbc4-155">ファイルを保存します。</span><span class="sxs-lookup"><span data-stu-id="acbc4-155">and save the file.</span></span> <span data-ttu-id="acbc4-156">これで、Visual Studio でこのファイルとフォルダーが配置されていることを確認する必要があります。これは、 *.txt*ファイルの "**ビルドアクション**" プロパティが既定で **[コンテンツ]** に設定されているためです。</span><span class="sxs-lookup"><span data-stu-id="acbc4-156">That's all you have to do in order to make sure that Visual Studio deploys this file and the folder it's in, because the **Build Action** property of *.txt* files is set to **Content** by default.</span></span>

## <a name="summary"></a><span data-ttu-id="acbc4-157">まとめ</span><span class="sxs-lookup"><span data-stu-id="acbc4-157">Summary</span></span>

<span data-ttu-id="acbc4-158">これで、すべてのデプロイのセットアップタスクが完了しました。</span><span class="sxs-lookup"><span data-stu-id="acbc4-158">You have now completed all of the deployment set-up tasks.</span></span> <span data-ttu-id="acbc4-159">次のチュートリアルでは、Contoso 大学サイトをテスト環境にデプロイしてテストします。</span><span class="sxs-lookup"><span data-stu-id="acbc4-159">In the next tutorial, you'll deploy the Contoso University site to the test environment and test it there.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="acbc4-160">[前へ](web-config-transformations.md)
> [次へ](deploying-to-iis.md)</span><span class="sxs-lookup"><span data-stu-id="acbc4-160">[Previous](web-config-transformations.md)
[Next](deploying-to-iis.md)</span></span>
