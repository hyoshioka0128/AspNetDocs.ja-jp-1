---
uid: web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
title: 'エンタープライズ Web 配置: シナリオの概要 |Microsoft Docs'
author: jrjlee
description: この一連のチュートリアルでは、架空のエンタープライズ展開シナリオと共に、現実的なレベルの複雑さを持つサンプルソリューションを使用して、参照...
ms.author: riande
ms.date: 05/03/2012
ms.assetid: aa862153-4cd8-4e33-beeb-abf502c6664f
msc.legacyurl: /web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
msc.type: authoredcontent
ms.openlocfilehash: 9786879844da13c21e6a953b1ab24b29ca8121e2
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78463408"
---
# <a name="enterprise-web-deployment-scenario-overview"></a><span data-ttu-id="c35bd-103">エンタープライズ Web 展開: シナリオの概要</span><span class="sxs-lookup"><span data-stu-id="c35bd-103">Enterprise Web Deployment: Scenario Overview</span></span>

<span data-ttu-id="c35bd-104">[Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="c35bd-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

<span data-ttu-id="c35bd-105">[[Download PDF]\(PDF をダウンロード\)](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)</span><span class="sxs-lookup"><span data-stu-id="c35bd-105">[Download PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)</span></span>

> <span data-ttu-id="c35bd-106">この一連のチュートリアルでは、架空のエンタープライズ展開シナリオと共に、現実的な複雑さレベルのサンプルソリューションを使用して、参照実装を提供し、タスクとチュートリアルに共通のコンテキストを提供します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-106">This set of tutorials uses a sample solution with a realistic level of complexity, together with a fictional enterprise deployment scenario, to provide a reference implementation and to give the tasks and walkthroughs a common context.</span></span> <span data-ttu-id="c35bd-107">このトピックでは、チュートリアルのシナリオについて説明し、サンプルソリューションを紹介します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-107">This topic describes the tutorial scenario and introduces the sample solution.</span></span>

## <a name="scenario-description"></a><span data-ttu-id="c35bd-108">シナリオの説明</span><span class="sxs-lookup"><span data-stu-id="c35bd-108">Scenario Description</span></span>

<span data-ttu-id="c35bd-109">架空の企業である Fabrikam, Inc. は、リモート販売チームが web インターフェイスから連絡先情報を格納および取得できるようにするソリューションを作成しています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-109">Fabrikam, Inc., a fictitious company, is creating a solution that lets remote sales teams store and retrieve contact information from a web interface.</span></span>

<span data-ttu-id="c35bd-110">Fabrikam, Inc. のアプリケーションライフサイクル管理 (ALM) プロセスでは、ソフトウェア開発プロセスのさまざまな段階で、次の3つのサーバー環境にソリューションを展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-110">The Application Lifecycle Management (ALM) processes at Fabrikam, Inc. require the solution to be deployed to three server environments at various stages of the software development process:</span></span>

- <span data-ttu-id="c35bd-111">開発者テストまたは "サンドボックス" 環境。</span><span class="sxs-lookup"><span data-stu-id="c35bd-111">A developer test or "sandbox" environment.</span></span>
- <span data-ttu-id="c35bd-112">イントラネットベースのステージング環境。</span><span class="sxs-lookup"><span data-stu-id="c35bd-112">An intranet-based staging environment.</span></span>
- <span data-ttu-id="c35bd-113">インターネットに接続された運用環境。</span><span class="sxs-lookup"><span data-stu-id="c35bd-113">An Internet-facing production environment.</span></span>

<span data-ttu-id="c35bd-114">これらの各環境にはさまざまな構成とセキュリティの要件があり、それぞれに固有のデプロイの課題があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-114">Each of these environments has different configuration and security requirements, and each poses unique deployment challenges.</span></span>

### <a name="the-fabrikam-inc-server-infrastructure"></a><span data-ttu-id="c35bd-115">Fabrikam, Inc. のサーバーインフラストラクチャ</span><span class="sxs-lookup"><span data-stu-id="c35bd-115">The Fabrikam, Inc. Server Infrastructure</span></span>

<span data-ttu-id="c35bd-116">これは、Fabrikam, Inc. の高レベルの開発およびデプロイインフラストラクチャです。</span><span class="sxs-lookup"><span data-stu-id="c35bd-116">This is the high-level development and deployment infrastructure at Fabrikam, Inc.</span></span>

![](enterprise-web-deployment-scenario-overview/_static/image1.png)

<span data-ttu-id="c35bd-117">開発者ワークステーション、ソース管理インフラストラクチャ、開発者テスト環境、ステージング環境はすべて、Fabrikam.net ドメイン内のイントラネットネットワーク上に存在します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-117">The developer workstations, the source control infrastructure, the developer test environment, and the staging environment all reside on the intranet network within the Fabrikam.net domain.</span></span> <span data-ttu-id="c35bd-118">実稼働環境は、境界ネットワーク (DMZ、非武装地帯、スクリーンサブネットとも呼ばれます) に存在します。これは、ファイアウォールによってイントラネットネットワークから分離されています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-118">The production environment resides on a perimeter network (also known as DMZ, demilitarized zone, and screened subnet), which is isolated from the intranet network by a firewall.</span></span> <span data-ttu-id="c35bd-119">これは一般的な展開シナリオです。通常は、ファイアウォールまたはゲートウェイサーバーを使用して、インターネットに接続された web サーバーを内部サーバーインフラストラクチャから分離します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-119">This is a common deployment scenario: you typically isolate your Internet-facing web servers from your internal server infrastructure through the use of firewalls or gateway servers.</span></span>

<span data-ttu-id="c35bd-120">次の点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="c35bd-120">In this example:</span></span>

- <span data-ttu-id="c35bd-121">別個のビルドサーバーを使用する Team Foundation Server (TFS) 2010 サーバーは、ソース管理と継続的インテグレーション (CI) 機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-121">A Team Foundation Server (TFS) 2010 server with a separate build server provides source control and continuous integration (CI) functionality.</span></span>
- <span data-ttu-id="c35bd-122">開発者テスト環境には、インターネットインフォメーションサービス (IIS) 7.5 web サーバーと SQL Server 2008 R2 データベースサーバーが含まれています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-122">The developer test environment includes an Internet Information Services (IIS) 7.5 web server and a SQL Server 2008 R2 database server.</span></span>
- <span data-ttu-id="c35bd-123">運用環境には、Web Farm Framework (WFF) コントローラーサーバーによって同期される複数の IIS 7.5 web サーバーと、SQL Server 2008 R2 データベースサーバーが含まれます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-123">The production environment includes multiple IIS 7.5 web servers synchronized by a Web Farm Framework (WFF) controller server, together with a SQL Server 2008 R2 database server.</span></span> <span data-ttu-id="c35bd-124">実際には、データベースサーバーはクラスタリングまたはミラーリングを使用して、スケーラビリティと可用性を向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-124">In practice, the database server may use clustering or mirroring to improve scalability and availability.</span></span>
- <span data-ttu-id="c35bd-125">ステージング環境は、運用環境の構成を可能な限り忠実にレプリケートするように設計されています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-125">The staging environment is designed to replicate the configuration of the production environment as closely as possible.</span></span>
- <span data-ttu-id="c35bd-126">ファイアウォールとネットワーク分離のポリシーでは、イントラネットから境界ネットワークへの直接自動展開は許可されません。</span><span class="sxs-lookup"><span data-stu-id="c35bd-126">The firewall and network isolation policies do not permit direct, automated deployment from the intranet to the perimeter network.</span></span>

<span data-ttu-id="c35bd-127">これらの各環境の構成の詳細については、2番目のチュートリアル「 [Web 配置用のサーバー環境の構成](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c35bd-127">The configuration of each of these environments is described in more detail in the second tutorial, [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

### <a name="team-roles-for-alm"></a><span data-ttu-id="c35bd-128">ALM のチームロール</span><span class="sxs-lookup"><span data-stu-id="c35bd-128">Team Roles for ALM</span></span>

<span data-ttu-id="c35bd-129">これらのユーザーは、Contact Manager ソリューションの作成、管理、ビルド、発行に関与します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-129">These users are involved in creating, managing, building, and publishing the Contact Manager solution:</span></span>

- <span data-ttu-id="c35bd-130">元は、Fabrikam, Inc. の web アプリケーション開発者です。Visual Studio 2010 を使用して Contact Manager ソリューションを開発したチームの一員です。</span><span class="sxs-lookup"><span data-stu-id="c35bd-130">Matt Hink is a web application developer at Fabrikam, Inc. He is part of the team who developed the Contact Manager solution by using Visual Studio 2010.</span></span> <span data-ttu-id="c35bd-131">この開発者テスト環境では、サーバーに対する完全な管理者権限を持っています。これにより、自分のニーズに合わせて環境を構成できます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-131">Matt has full administrator rights on the servers in the developer test environment, which lets him configure the environment to meet his needs.</span></span> <span data-ttu-id="c35bd-132">また、Contact Manager ソリューションのソースコードが格納されている Visual Studio 2010 TFS インスタンスにユーザーがアクセスできるようにします。</span><span class="sxs-lookup"><span data-stu-id="c35bd-132">He also has user access to the Visual Studio 2010 TFS instance where he stores the source code for the Contact Manager solution.</span></span>
- <span data-ttu-id="c35bd-133">渡 Walters は、Fabrikam, Inc. 開発チームのサーバー管理者です。</span><span class="sxs-lookup"><span data-stu-id="c35bd-133">Rob Walters is a server administrator for the Fabrikam, Inc. development team.</span></span> <span data-ttu-id="c35bd-134">渡者は tfs サーバーに対する管理アクセス権を持っているので、TFS とチームビルドのすべての要素を構成できます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-134">Rob has administrative access on the TFS server so that he can configure all aspects of TFS and Team Build.</span></span> <span data-ttu-id="c35bd-135">また、テスト用およびステージング用の web サーバーへの管理アクセス権があり、テスト環境とステージング環境のデータベースサーバーのデータベース管理者 (DBA) として機能します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-135">Rob also has administrative access to the test and staging web servers and acts as the database administrator (DBA) for the database servers in the test and staging environments.</span></span> <span data-ttu-id="c35bd-136">次のタスクを実行するように、渡されるチームビルドを TFS サーバー上に構成しました。</span><span class="sxs-lookup"><span data-stu-id="c35bd-136">Rob has configured Team Build on the TFS server to carry out these tasks:</span></span>

    - <span data-ttu-id="c35bd-137">ユーザーがファイルを TFS にチェックインするたびに、アプリケーションに対して単体テストをビルドして実行します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-137">Build and run unit tests on the application whenever a user checks in a file to TFS.</span></span> <span data-ttu-id="c35bd-138">これは CI と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-138">This is called CI.</span></span>
    - <span data-ttu-id="c35bd-139">アプリケーションが単体テストに合格したら、連絡先マネージャーアプリケーションをテスト環境に自動的に配置します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-139">Deploy the Contact Manager application to the test environment automatically once the application passes unit tests.</span></span> <span data-ttu-id="c35bd-140">これには、初期配置時のテストサーバーへのデータベースの発行と、初期配置後のデータベースへの更新が含まれます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-140">This includes publishing the database to the test servers on initial deployment and any updates to the database after initial deployment.</span></span>
    - <span data-ttu-id="c35bd-141">シングルステップのプロセスで、コンタクトマネージャーアプリケーションをステージング環境にデプロイします。</span><span class="sxs-lookup"><span data-stu-id="c35bd-141">Deploy the Contact Manager application to the staging environment in a single-step process.</span></span>
    - <span data-ttu-id="c35bd-142">Web サーバー管理者と DBA がアプリケーションを運用環境に発行するために使用できる Web パッケージを作成します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-142">Create a Web package that a Web server administrator and a DBA can use to publish the application to the production environment.</span></span>
- <span data-ttu-id="c35bd-143">根本アンドリュースは、Fabrikam, Inc. の実稼働サーバーにアプリケーションをデプロイするサーバー管理者です。</span><span class="sxs-lookup"><span data-stu-id="c35bd-143">Lisa Andrews is a server administrator responsible for deploying applications to the Fabrikam, Inc. production servers.</span></span> <span data-ttu-id="c35bd-144">Alice は、連絡先マネージャーアプリケーションをビルドした後に、TFS チームのビルドによって web 配置パッケージが格納される共有に対する読み取りアクセス権を持っています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-144">She has read access to the share where the TFS Team Build stores the web deployment package once it builds the Contact Manager application.</span></span> <span data-ttu-id="c35bd-145">また、運用 web サーバーへの管理アクセス権も持っているため、運用環境にアプリケーションをデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-145">She also has administrative access to the production web servers so that she can deploy the application to production.</span></span> <span data-ttu-id="c35bd-146">さらに、データベースおよびデータベースの更新を運用環境のデータベースサーバーに配置する DBA として機能します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-146">Additionally, she acts as the DBA who deploys databases and database updates to the database server in the production environment.</span></span>

<a id="_The_Contact_Manager"></a>

### <a name="the-contact-manager-solution"></a><span data-ttu-id="c35bd-147">連絡先マネージャー ソリューション</span><span class="sxs-lookup"><span data-stu-id="c35bd-147">The Contact Manager Solution</span></span>

<span data-ttu-id="c35bd-148">Contact Manager ソリューションは、登録済みのログインユーザーが web インターフェイスを使用して連絡先情報を追加および編集できるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-148">The Contact Manager solution is designed to let registered, logged-in users add and edit contact information through a web interface.</span></span> <span data-ttu-id="c35bd-149">Contact Manager ソリューションは、次の4つのプロジェクトで構成されています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-149">The Contact Manager solution consists of four individual projects:</span></span>

![](enterprise-web-deployment-scenario-overview/_static/image2.png)

- <span data-ttu-id="c35bd-150">**Contactmanager. Mvc**。</span><span class="sxs-lookup"><span data-stu-id="c35bd-150">**ContactManager.Mvc**.</span></span> <span data-ttu-id="c35bd-151">これは、ソリューションのエントリポイントを表す ASP.NET MVC3 web アプリケーションプロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="c35bd-151">This is an ASP.NET MVC3 web application project that represents the entry point for the solution.</span></span> <span data-ttu-id="c35bd-152">これには、ユーザーが連絡先の詳細を作成して表示できるようにするなど、基本的な web アプリケーション機能がいくつか用意されています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-152">It offers some basic web application functionality, like providing users with the ability to create and view contact details.</span></span> <span data-ttu-id="c35bd-153">アプリケーションは、Windows Communication Foundation (WCF) サービスを利用して連絡先と ASP.NET アプリケーションサービスデータベースを管理し、認証と承認を管理します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-153">The application relies on a Windows Communication Foundation (WCF) service to manage contacts and an ASP.NET application services database to manage authentication and authorization.</span></span>
- <span data-ttu-id="c35bd-154">**Contactmanager. データベース**。</span><span class="sxs-lookup"><span data-stu-id="c35bd-154">**ContactManager.Database**.</span></span> <span data-ttu-id="c35bd-155">これは、Visual Studio 2010 データベースプロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="c35bd-155">This is a Visual Studio 2010 database project.</span></span> <span data-ttu-id="c35bd-156">プロジェクトでは、連絡先の詳細を格納するデータベースのスキーマを定義します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-156">The project defines the schema for a database that stores contact details.</span></span>
- <span data-ttu-id="c35bd-157">**Contactmanager. サービス**。</span><span class="sxs-lookup"><span data-stu-id="c35bd-157">**ContactManager.Service**.</span></span> <span data-ttu-id="c35bd-158">これは、WCF web サービスプロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="c35bd-158">This is a WCF web service project.</span></span> <span data-ttu-id="c35bd-159">WCF は、呼び出し元が Contact Manager データベースに対して作成、取得、更新、削除 (CRUD) 操作を実行できるようにするエンドポイントを公開します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-159">The WCF exposes an endpoint that allows callers to perform create, retrieve, update, and delete (CRUD) operations on the Contact Manager database.</span></span> <span data-ttu-id="c35bd-160">サービスは、Contact Manager データベースと ContactManager. 共通 .dll アセンブリに依存します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-160">The service relies on the Contact Manager database and the ContactManager.Common.dll assembly.</span></span>
- <span data-ttu-id="c35bd-161">**Contactmanager. 共通**。</span><span class="sxs-lookup"><span data-stu-id="c35bd-161">**ContactManager.Common**.</span></span> <span data-ttu-id="c35bd-162">これはクラスライブラリプロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="c35bd-162">This is a class library project.</span></span> <span data-ttu-id="c35bd-163">WCF サービスは、このアセンブリで定義されている型に依存しています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-163">The WCF service relies on types defined in this assembly.</span></span>

<span data-ttu-id="c35bd-164">ソリューションとそのデプロイ要件の完全な確認については、このシリーズの最初のチュートリアル「[企業での Web 配置](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c35bd-164">A complete review of the solution and its deployment requirements is provided in the first tutorial in this series, [Web Deployment in the Enterprise](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md).</span></span>

<a id="_Deployment_Tasks"></a>

## <a name="deployment-tasks"></a><span data-ttu-id="c35bd-165">配置タスク</span><span class="sxs-lookup"><span data-stu-id="c35bd-165">Deployment Tasks</span></span>

<span data-ttu-id="c35bd-166">大規模な組織のさまざまな環境へのアプリケーションの展開には、いくつかの異なるタスクが含まれています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-166">There are several distinct tasks involved in deploying applications to different environments in a large organization.</span></span> <span data-ttu-id="c35bd-167">チュートリアルに含まれる主なタスクは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="c35bd-167">These are the key tasks that the tutorials cover:</span></span>

![](enterprise-web-deployment-scenario-overview/_static/image3.png)

<span data-ttu-id="c35bd-168">このドキュメントで既に説明したユーザーの観点から、デプロイプロセスの各手順の一覧を次に示します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-168">Here is a list of each step in the deployment process from the perspective of the users described earlier in this document:</span></span>

1. <span data-ttu-id="c35bd-169">チームのすべてのメンバーは、Visual Studio 2010 の Contact Manager ソリューションをレビューして、デプロイの重要な要件と問題を確認します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-169">All members of the team review the Contact Manager solution in Visual Studio 2010 to determine key deployment requirements and issues.</span></span>
2. <span data-ttu-id="c35bd-170">また、開発者のワークステーションから開発者テスト環境に直接 Contact Manager ソリューションをデプロイして、デプロイロジックの初期テストを実施することもできます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-170">Matt Hink may deploy the Contact Manager solution directly from the developer workstation to the developer test environment, to conduct an initial test of the deployment logic.</span></span>
3. <span data-ttu-id="c35bd-171">このアプリケーションを TFS のソース管理に追加します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-171">Matt Hink adds the application to source control in TFS.</span></span>
4. <span data-ttu-id="c35bd-172">渡 Walters は、チームビルドの Contact Manager ソリューションに対してさまざまなビルド定義を作成します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-172">Rob Walters creates various build definitions for the Contact Manager solution in Team Build.</span></span> <span data-ttu-id="c35bd-173">1つのビルド定義では、ユーザーが新しいコードをチェックインするたびに、CI を使用して開発者テスト環境にソリューションを配置します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-173">One build definition uses CI to deploy the solution to the developer test environment whenever a user checks in new code.</span></span> <span data-ttu-id="c35bd-174">別のビルド定義によって、ユーザーは必要に応じてステージング環境へのデプロイをトリガーできます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-174">Another build definition lets users trigger deployments to the staging environment as required.</span></span>
5. <span data-ttu-id="c35bd-175">ユーザーが新しいコードをチェックインするたびに、チームビルドによって自動的にソリューションコンポーネントがビルドされ、単体テストが実行されます。ビルドが成功し、単体テストに合格した場合は、開発者テスト環境にソリューションが配置されます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-175">Every time a user checks in new code, Team Build automatically builds the solution components, runs unit tests, and deploys the solution to the developer test environment if the build was successful and the unit tests pass.</span></span>
6. <span data-ttu-id="c35bd-176">ユーザーがステージング環境への配置をトリガーすると、ソリューションがパッケージ化され、単一の手順で配置されます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-176">When a user triggers a deployment to the staging environment, the solution is packaged and deployed in a single-step process.</span></span> <span data-ttu-id="c35bd-177">このプロセスでは、運用環境に手動で展開するためのパッケージも生成されます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-177">This process also generates a package for manual deployment to the production environment.</span></span>
7. <span data-ttu-id="c35bd-178">根本アンドリュースは、手順 6. で作成した web パッケージを手動でインポートすることによって、アプリケーションを運用環境にデプロイします。</span><span class="sxs-lookup"><span data-stu-id="c35bd-178">Lisa Andrews deploys the application to the production environment by manually importing the web package created in step 6.</span></span>

### <a name="key-deployment-issues"></a><span data-ttu-id="c35bd-179">主要な展開に関する問題</span><span class="sxs-lookup"><span data-stu-id="c35bd-179">Key Deployment Issues</span></span>

<span data-ttu-id="c35bd-180">Contact Manager ソリューションと Fabrikam, Inc. のシナリオでは、複雑なエンタープライズ規模のソリューションをデプロイするときに発生する可能性がある、さまざまな一般的な問題と課題を取り上げています。</span><span class="sxs-lookup"><span data-stu-id="c35bd-180">The Contact Manager solution and the Fabrikam, Inc. scenario highlight various common issues and challenges that you may encounter when you deploy complex, enterprise-scale solutions.</span></span> <span data-ttu-id="c35bd-181">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-181">For example:</span></span>

- <span data-ttu-id="c35bd-182">開発者やテスト環境、ステージングプラットフォーム、実稼働サーバーなど、複数の環境にプロジェクトを配置できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-182">You need to be able to deploy projects to multiple environments, like developer or test environments, staging platforms, and production servers.</span></span> <span data-ttu-id="c35bd-183">ソリューションは、環境ごとに異なる構成設定を使用して展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-183">The solution needs to be deployed with different configuration settings for each environment.</span></span>
- <span data-ttu-id="c35bd-184">単一ステップまたは自動化されたビルドおよび配置プロセスの一環として、複数の依存プロジェクトを同時に配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-184">You need to deploy multiple dependent projects simultaneously as part of a single-step or automated build and deployment process.</span></span>
- <span data-ttu-id="c35bd-185">自動プロセスから展開を促進できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-185">You need to be able to drive deployment from an automated process.</span></span> <span data-ttu-id="c35bd-186">たとえば、新しいコードがチェックインされたときに、CI プロセスを使用して、ステージング環境に web アプリケーションをデプロイするとします。</span><span class="sxs-lookup"><span data-stu-id="c35bd-186">For example, you want to use a CI process to deploy web applications to a staging environment when new code is checked in.</span></span>
- <span data-ttu-id="c35bd-187">開発者は、デプロイプロセスを制御し、デプロイ変数を Visual Studio の外部から設定できる必要があります。これは、開発者がすべてのターゲット環境に対して適切な構成設定または必要な資格情報を持っていない可能性があるためです。</span><span class="sxs-lookup"><span data-stu-id="c35bd-187">You need to be able to control the deployment process and set deployment variables from outside Visual Studio, as developers are unlikely to have the correct configuration settings or the necessary credentials for every target environment.</span></span>
- <span data-ttu-id="c35bd-188">スキーマベースのデータベースプロジェクトを配置し、後続の配置で既存のデータを保持する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-188">You need to deploy schema-based database projects and preserve existing data on subsequent deployments.</span></span>
- <span data-ttu-id="c35bd-189">ユーザーアカウントデータを展開せずに、メンバーシップデータベースをアドホックにデプロイする必要がある。</span><span class="sxs-lookup"><span data-stu-id="c35bd-189">You need to deploy membership databases on an ad hoc basis without deploying user account data.</span></span> <span data-ttu-id="c35bd-190">また、既存のユーザーアカウントデータを失うことなく、デプロイされたメンバーシップデータベースのスキーマを更新する必要がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-190">You may also need to update the schema of deployed membership databases without losing existing user account data.</span></span>
- <span data-ttu-id="c35bd-191">さまざまなターゲット環境にコンテンツを展開する場合は、特定のファイルまたはフォルダーを除外する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-191">You need to exclude certain files or folders when you deploy content to various target environments.</span></span>

<span data-ttu-id="c35bd-192">さらに、更新が頻繁に行われる場合にデプロイを管理すると、追加の課題がいくつかスローされます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-192">In addition, managing deployment when updates are frequent and incremental throws up some additional challenges.</span></span> <span data-ttu-id="c35bd-193">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-193">For example:</span></span>

- <span data-ttu-id="c35bd-194">開発者が新しいコードをチェックインするたびに単体テストを実行します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-194">You run unit tests every time a developer checks in new code.</span></span> <span data-ttu-id="c35bd-195">コードが単体テストに合格した場合にのみ、ソリューションを配置します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-195">You only want to deploy the solution if the code passes the unit tests.</span></span>
- <span data-ttu-id="c35bd-196">Web アプリケーションをステージング環境または運用環境に配置する場合は、展開プロセスの間、ユーザーを*オフライン .htm ファイル\_アプリ*にリダイレクトする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-196">When you deploy a web application to a staging or production environment, you want to redirect users to an *app\_offline.htm* file for the duration of the deployment process.</span></span>
- <span data-ttu-id="c35bd-197">デプロイアクティビティをログに記録します。</span><span class="sxs-lookup"><span data-stu-id="c35bd-197">You want to log deployment activities.</span></span> <span data-ttu-id="c35bd-198">展開プロセスでは、指定された受信者に展開が成功したか失敗したかを通知する電子メールが送信されます。</span><span class="sxs-lookup"><span data-stu-id="c35bd-198">The deployment process should send email notifications of successful or failed deployments to designated recipients.</span></span>
- <span data-ttu-id="c35bd-199">自動デプロイが失敗した場合は、展開プロセスで現在のデプロイを再試行するか、前の web パッケージを展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c35bd-199">If an automated deployment fails, the deployment process should retry the current deployment or deploy the previous web package instead.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c35bd-200">[前へ](deploying-web-applications-in-enterprise-scenarios.md)
> [次へ](application-lifecycle-management-from-development-to-production.md)</span><span class="sxs-lookup"><span data-stu-id="c35bd-200">[Previous](deploying-web-applications-in-enterprise-scenarios.md)
[Next](application-lifecycle-management-from-development-to-production.md)</span></span>
