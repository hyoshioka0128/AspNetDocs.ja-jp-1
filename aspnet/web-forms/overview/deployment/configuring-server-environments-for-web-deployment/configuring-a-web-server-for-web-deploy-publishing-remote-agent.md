---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent
title: Web 配置パブリッシング用の Web サーバーの構成 (リモートエージェント) |Microsoft Docs
author: jrjlee
description: このトピックでは、IIS Web 配置を使用して web 発行と配置をサポートするようにインターネットインフォメーションサービス (IIS) web サーバーを構成する方法について説明します。
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 239c7aa8-d09a-4d02-9c0e-6bd52be5f0d5
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent
msc.type: authoredcontent
ms.openlocfilehash: ce0d246afdfb65c2ea15a287064511e7d1d58622
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78457702"
---
# <a name="configuring-a-web-server-for-web-deploy-publishing-remote-agent"></a><span data-ttu-id="405d3-103">Web 配置発行の Web サーバーを構成する (リモート エージェント)</span><span class="sxs-lookup"><span data-stu-id="405d3-103">Configuring a Web Server for Web Deploy Publishing (Remote Agent)</span></span>

<span data-ttu-id="405d3-104">[Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="405d3-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

<span data-ttu-id="405d3-105">[[Download PDF]\(PDF をダウンロード\)](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)</span><span class="sxs-lookup"><span data-stu-id="405d3-105">[Download PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)</span></span>

> <span data-ttu-id="405d3-106">このトピックでは、IIS Web Deployment Tool (Web 配置) リモートエージェントサービスを使用して、web 発行および展開をサポートするようにインターネットインフォメーションサービス (IIS) web サーバーを構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="405d3-106">This topic describes how to configure an Internet Information Services (IIS) web server to support web publishing and deployment using the IIS Web Deployment Tool (Web Deploy) Remote Agent Service.</span></span>
> 
> <span data-ttu-id="405d3-107">Web 配置2.0 以降を使用する場合は、アプリケーションまたはサイトを Web サーバーに取り込むために使用できる3つの主な方法があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-107">When you work with Web Deploy 2.0 or later, there are three main approaches you can use to get your applications or sites onto a web server.</span></span> <span data-ttu-id="405d3-108">次のようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="405d3-108">You can:</span></span>
> 
> - <span data-ttu-id="405d3-109">*Web 配置リモートエージェントサービス*を使用します。</span><span class="sxs-lookup"><span data-stu-id="405d3-109">Use the *Web Deploy Remote Agent Service*.</span></span> <span data-ttu-id="405d3-110">この方法では、web サーバーの構成が少なくて済みますが、サーバーに何かを展開するには、ローカルサーバー管理者の資格情報を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-110">This approach requires less configuration of the web server, but you need to provide the credentials of a local server administrator in order to deploy anything to the server.</span></span>
> - <span data-ttu-id="405d3-111">*Web 配置ハンドラー*を使用します。</span><span class="sxs-lookup"><span data-stu-id="405d3-111">Use the *Web Deploy Handler*.</span></span> <span data-ttu-id="405d3-112">この方法ははるかに複雑で、web サーバーを設定するためにより多くの初期作業が必要になります。</span><span class="sxs-lookup"><span data-stu-id="405d3-112">This approach is a lot more complex and requires more initial effort to set up the web server.</span></span> <span data-ttu-id="405d3-113">ただし、この方法を使用する場合は、管理者以外のユーザーが展開を実行できるように IIS を構成できます。</span><span class="sxs-lookup"><span data-stu-id="405d3-113">However, when you use this approach, you can configure IIS to allow non-administrator users to perform the deployment.</span></span> <span data-ttu-id="405d3-114">Web 配置ハンドラーは、IIS バージョン7以降でのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="405d3-114">The Web Deploy Handler is only available in IIS version 7 or later.</span></span>
> - <span data-ttu-id="405d3-115">*オフライン展開*を使用します。</span><span class="sxs-lookup"><span data-stu-id="405d3-115">Use *offline deployment*.</span></span> <span data-ttu-id="405d3-116">この方法では、web サーバーの構成を最小限にする必要がありますが、サーバー管理者は web パッケージをサーバーに手動でコピーし、IIS マネージャーを使用してインポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-116">This approach requires the least configuration of the web server, but a server administrator must manually copy the web package onto the server and import it through IIS Manager.</span></span>
> 
> <span data-ttu-id="405d3-117">これらの方法の主な機能、長所、および短所の詳細については、「 [Web 配置に適切なアプローチを選択する](choosing-the-right-approach-to-web-deployment.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-117">For more information on the key features, advantages, and disadvantages of these approaches, see [Choosing the Right Approach to Web Deployment](choosing-the-right-approach-to-web-deployment.md).</span></span>

## <a name="is-the-web-deploy-remote-agent-the-right-approach-for-you"></a><span data-ttu-id="405d3-118">Web 配置リモートエージェントは適切な方法ですか。</span><span class="sxs-lookup"><span data-stu-id="405d3-118">Is the Web Deploy Remote Agent the Right Approach for You?</span></span>

<span data-ttu-id="405d3-119">はい。コンテンツを展開するユーザーが、移行先サーバーで管理者の資格情報を提供できます。</span><span class="sxs-lookup"><span data-stu-id="405d3-119">Yes, if the user who will deploy the content can supply the credentials of an administrator on the destination server.</span></span> <span data-ttu-id="405d3-120">この方法は、多くの場合、次のようなシナリオに適しています。</span><span class="sxs-lookup"><span data-stu-id="405d3-120">This approach is often desirable in these types of scenarios:</span></span>

- <span data-ttu-id="405d3-121">開発環境またはテスト環境。開発者は、対象となる web サーバーとデータベースサーバーを完全に制御できます。</span><span class="sxs-lookup"><span data-stu-id="405d3-121">Development or test environments, where the developer has full control over the destination web server and database server.</span></span>
- <span data-ttu-id="405d3-122">小規模な組織では、1人のユーザーまたは少数のユーザーのグループが、アプリケーションのライフサイクル全体を制御します。</span><span class="sxs-lookup"><span data-stu-id="405d3-122">Smaller organizations in which a single user or a small group of users has control over the entire application lifecycle.</span></span>

<span data-ttu-id="405d3-123">多くの大規模な組織では、特にステージング環境や運用環境では、web サーバーに対する管理者権限をユーザーに付与するのは現実的ではありません。</span><span class="sxs-lookup"><span data-stu-id="405d3-123">In lots of larger organizations, and particularly for staging or production environments, it's often not realistic to give users administrator rights on web servers.</span></span> <span data-ttu-id="405d3-124">ホストされている web サーバーの場合、これは特にそうではない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-124">In the case of hosted web servers, this is especially unlikely to be the case.</span></span> <span data-ttu-id="405d3-125">また、ビルドサーバーからの配置を自動化する予定がある場合は、展開プロセスで管理者の資格情報を使用しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="405d3-125">In addition, if you're planning to automate deployment from a build server, you may not want to use administrator credentials for the deployment process.</span></span> <span data-ttu-id="405d3-126">これらのシナリオでは、 [Web 配置ハンドラー](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)を使用した配置をサポートするように web サーバーを構成すると、より適切な選択肢が得られる場合があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-126">In these scenarios, configuring your web servers to support deployment using the [Web Deploy Handler](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md) may provide a more satisfactory choice.</span></span>

## <a name="task-overview"></a><span data-ttu-id="405d3-127">タスクの概要</span><span class="sxs-lookup"><span data-stu-id="405d3-127">Task Overview</span></span>

<span data-ttu-id="405d3-128">このトピックでは、Web 配置リモートエージェントアプローチを使用して、リモートコンピューターから web パッケージを受け入れて展開するようにインターネットインフォメーションサービス (IIS) 7.5 web サーバーを構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="405d3-128">This topic describes how to configure an Internet Information Services (IIS) 7.5 web server to accept and deploy web packages from a remote computer using the Web Deploy Remote Agent approach.</span></span> <span data-ttu-id="405d3-129">次のことを行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-129">You'll need to:</span></span>

- <span data-ttu-id="405d3-130">IIS 7.5 および IIS 7 推奨構成をインストールします。</span><span class="sxs-lookup"><span data-stu-id="405d3-130">Install IIS 7.5 and the IIS 7 recommended configuration.</span></span>
- <span data-ttu-id="405d3-131">Web 配置2.1 以降をインストールします。</span><span class="sxs-lookup"><span data-stu-id="405d3-131">Install Web Deploy 2.1 or later.</span></span>
- <span data-ttu-id="405d3-132">デプロイされたコンテンツをホストするための IIS web サイトを作成します。</span><span class="sxs-lookup"><span data-stu-id="405d3-132">Create an IIS website to host the deployed content.</span></span>
- <span data-ttu-id="405d3-133">Web Deployment Agent サービスが実行されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="405d3-133">Ensure that the Web Deployment Agent Service is running.</span></span>

<span data-ttu-id="405d3-134">サンプルソリューションを具体的にホストするには、次のことも行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-134">To host the sample solution specifically, you'll also need to:</span></span>

- <span data-ttu-id="405d3-135">.NET Framework 4.0 をインストールします。</span><span class="sxs-lookup"><span data-stu-id="405d3-135">Install the .NET Framework 4.0.</span></span>
- <span data-ttu-id="405d3-136">ASP.NET MVC 3 をインストールします。</span><span class="sxs-lookup"><span data-stu-id="405d3-136">Install ASP.NET MVC 3.</span></span>

<span data-ttu-id="405d3-137">このトピックでは、これらの各手順を実行する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="405d3-137">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="405d3-138">このトピックのタスクとチュートリアルでは、Windows Server 2008 R2 を実行するクリーンなサーバービルドから始めることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="405d3-138">The tasks and walkthroughs in this topic assume that you're starting with a clean server build running Windows Server 2008 R2.</span></span> <span data-ttu-id="405d3-139">続行する前に、次のことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-139">Before you continue, ensure that:</span></span>

- <span data-ttu-id="405d3-140">Windows Server 2008 R2 Service Pack 1 および利用可能なすべての更新プログラムがインストールされています。</span><span class="sxs-lookup"><span data-stu-id="405d3-140">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="405d3-141">サーバーはドメインに参加しています。</span><span class="sxs-lookup"><span data-stu-id="405d3-141">The server is domain-joined.</span></span>
- <span data-ttu-id="405d3-142">サーバーには静的 IP アドレスがあります。</span><span class="sxs-lookup"><span data-stu-id="405d3-142">The server has a static IP address.</span></span>

> [!NOTE]
> <span data-ttu-id="405d3-143">コンピューターをドメインに参加させる方法の詳細については、「[コンピューターをドメインに参加](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx)させ、ログオンする」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-143">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="405d3-144">静的 IP アドレスの構成の詳細については、「[静的 Ip アドレスの構成](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-144">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="405d3-145">リモートエージェントサービスは IIS 6 以降でサポートされているため、ドメインに参加する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="405d3-145">The Remote Agent service is supported by IIS 6 onwards and does not require you to be joined to a domain.</span></span> <span data-ttu-id="405d3-146">ただし、このチュートリアルの手順は IIS 7.5 で開発およびテストされており、他のバージョンの手順は異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-146">However, the steps in this tutorial were developed and tested on IIS 7.5 and procedures for other versions may vary.</span></span>

## <a name="install-products-and-components"></a><span data-ttu-id="405d3-147">製品とコンポーネントのインストール</span><span class="sxs-lookup"><span data-stu-id="405d3-147">Install Products and Components</span></span>

<span data-ttu-id="405d3-148">このセクションでは、必要な製品とコンポーネントを web サーバーにインストールする手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="405d3-148">This section will guide you through installing the required products and components on the web server.</span></span> <span data-ttu-id="405d3-149">開始する前に、Windows Update を実行して、サーバーが完全に最新の状態になっていることを確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="405d3-149">Before you begin, a good practice is to run Windows Update to ensure that your server is fully up to date.</span></span>

<span data-ttu-id="405d3-150">この場合は、次のものをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-150">In this case, you need to install these things:</span></span>

- <span data-ttu-id="405d3-151">**IIS 7 推奨構成**。</span><span class="sxs-lookup"><span data-stu-id="405d3-151">**IIS 7 Recommended Configuration**.</span></span> <span data-ttu-id="405d3-152">これにより、web サーバー上で**Web サーバー (iis)** の役割が有効になり、ASP.NET アプリケーションをホストするために必要な iis モジュールとコンポーネントのセットがインストールされます。</span><span class="sxs-lookup"><span data-stu-id="405d3-152">This enables the **Web Server (IIS)** role on your web server and installs the set of IIS modules and components that you need in order to host an ASP.NET application.</span></span>
- <span data-ttu-id="405d3-153">**.NET Framework 4.0**。</span><span class="sxs-lookup"><span data-stu-id="405d3-153">**.NET Framework 4.0**.</span></span> <span data-ttu-id="405d3-154">これは、このバージョンの .NET Framework でビルドされたアプリケーションを実行するために必要です。</span><span class="sxs-lookup"><span data-stu-id="405d3-154">This is required to run applications that were built on this version of the .NET Framework.</span></span>
- <span data-ttu-id="405d3-155">**Web 配置ツール 2.1**以降。</span><span class="sxs-lookup"><span data-stu-id="405d3-155">**Web Deployment Tool 2.1 or later**.</span></span> <span data-ttu-id="405d3-156">これにより、Web 配置 (およびその基になる実行可能ファイル Msdeploy.exe) がサーバーにインストールされます。</span><span class="sxs-lookup"><span data-stu-id="405d3-156">This installs Web Deploy (and its underlying executable, MSDeploy.exe) on your server.</span></span> <span data-ttu-id="405d3-157">このプロセスの一環として、Web Deployment Agent サービスをインストールして起動します。</span><span class="sxs-lookup"><span data-stu-id="405d3-157">As part of this process, it installs and starts the Web Deployment Agent Service.</span></span> <span data-ttu-id="405d3-158">このサービスを使用すると、リモートコンピューターから web パッケージを展開できます。</span><span class="sxs-lookup"><span data-stu-id="405d3-158">This service lets you deploy web packages from a remote computer.</span></span>
- <span data-ttu-id="405d3-159">**ASP.NET MVC 3**.</span><span class="sxs-lookup"><span data-stu-id="405d3-159">**ASP.NET MVC 3**.</span></span> <span data-ttu-id="405d3-160">これにより、MVC 3 アプリケーションを実行するために必要なアセンブリがインストールされます。</span><span class="sxs-lookup"><span data-stu-id="405d3-160">This installs the assemblies you need to run MVC 3 applications.</span></span>

> [!NOTE]
> <span data-ttu-id="405d3-161">このチュートリアルでは、Web Platform Installer を使用して必要なコンポーネントをインストールし、構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="405d3-161">This walkthrough describes the use of the Web Platform Installer to install and configure the required components.</span></span> <span data-ttu-id="405d3-162">Web Platform Installer を使用する必要はありませんが、依存関係を自動的に検出して、常に最新の製品バージョンを確実に取得することで、インストールプロセスが簡略化されます。</span><span class="sxs-lookup"><span data-stu-id="405d3-162">Although you don't have to use the Web Platform Installer, it simplifies the installation process by automatically detecting dependencies and ensuring that you always get the latest product versions.</span></span> <span data-ttu-id="405d3-163">詳細については、「 [Microsoft Web Platform Installer 3.0](https://go.microsoft.com/?linkid=9805118)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-163">For more information, see [Microsoft Web Platform Installer 3.0](https://go.microsoft.com/?linkid=9805118).</span></span>

<span data-ttu-id="405d3-164">**必要な製品およびコンポーネントをインストールするには**</span><span class="sxs-lookup"><span data-stu-id="405d3-164">**To install the required products and components**</span></span>

1. <span data-ttu-id="405d3-165">[Web Platform Installer](https://go.microsoft.com/?linkid=9805118)をダウンロードしてインストールします。</span><span class="sxs-lookup"><span data-stu-id="405d3-165">Download and install the [Web Platform Installer](https://go.microsoft.com/?linkid=9805118).</span></span>
2. <span data-ttu-id="405d3-166">インストールが完了すると、Web Platform Installer が自動的に起動します。</span><span class="sxs-lookup"><span data-stu-id="405d3-166">When installation is complete, the Web Platform Installer will launch automatically.</span></span>

    > [!NOTE]
    > <span data-ttu-id="405d3-167">**[スタート]** メニューからいつでも Web Platform Installer を起動できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="405d3-167">You can now launch the Web Platform Installer at any time from the **Start** menu.</span></span> <span data-ttu-id="405d3-168">これを行うには、 **[スタート]** メニューの **[すべてのプログラム]** をクリックし、 **[Microsoft Web Platform Installer]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-168">To do this, on the **Start** menu, click **All Programs**, and then click **Microsoft Web Platform Installer**.</span></span>
3. <span data-ttu-id="405d3-169">**Web Platform Installer 3.0**ウィンドウの上部にある **[Products]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-169">At the top of the **Web Platform Installer 3.0** window, click **Products**.</span></span>
4. <span data-ttu-id="405d3-170">ウィンドウの左側のナビゲーションウィンドウで、 **[フレームワーク]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-170">On the left side of the window, in the navigation pane, click **Frameworks**.</span></span>
5. <span data-ttu-id="405d3-171">**Microsoft .NET Framework 4**行に、.NET Framework がまだインストールされていない場合は、 **[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-171">In the **Microsoft .NET Framework 4** row, if the .NET Framework is not already installed, click **Add**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="405d3-172">Windows Update に .NET Framework 4.0 が既にインストールされている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-172">You may have already installed the .NET Framework 4.0 through Windows Update.</span></span> <span data-ttu-id="405d3-173">製品またはコンポーネントが既にインストールされている場合、Web Platform Installer では、 **[追加]** ボタンを、**インストールさ**れているテキストに置き換えることによってこれを示します。</span><span class="sxs-lookup"><span data-stu-id="405d3-173">If a product or component is already installed, the Web Platform Installer will indicate this by replacing the **Add** button with the text **Installed**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image1.png)
6. <span data-ttu-id="405d3-174">**ASP.NET MVC 3 (Visual Studio 2010)** 行で、 **[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-174">In the **ASP.NET MVC 3 (Visual Studio 2010)** row, click **Add**.</span></span>
7. <span data-ttu-id="405d3-175">ナビゲーションウィンドウで、 **[サーバー]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-175">In the navigation pane, click **Server**.</span></span>
8. <span data-ttu-id="405d3-176">**IIS 7 の推奨構成**行で、 **[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-176">In the **IIS 7 Recommended Configuration** row, click **Add**.</span></span>
9. <span data-ttu-id="405d3-177">**[Web 配置ツール 2.1]** 行で、 **[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-177">In the **Web Deployment Tool 2.1** row, click **Add**.</span></span>
10. <span data-ttu-id="405d3-178">**[インストール]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-178">Click **Install**.</span></span> <span data-ttu-id="405d3-179">Web Platform Installer には、製品&#x2014;の一覧と、インストールする関連する依存&#x2014;関係が表示されます。ライセンス条項に同意するように求められます。</span><span class="sxs-lookup"><span data-stu-id="405d3-179">The Web Platform Installer will show you a list of products&#x2014;together with any associated dependencies&#x2014;to be installed and will prompt you to accept the license terms.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image2.png)
11. <span data-ttu-id="405d3-180">ライセンス条項を確認し、条項に同意する場合は [**同意**する] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-180">Review the license terms, and if you consent to the terms, click **I Accept**.</span></span>
12. <span data-ttu-id="405d3-181">インストールが完了したら、 **[完了]** をクリックし、 **[Web Platform Installer 3.0]** ウィンドウを閉じます。</span><span class="sxs-lookup"><span data-stu-id="405d3-181">When the installation is complete, click **Finish**, and then close the **Web Platform Installer 3.0** window.</span></span>

<span data-ttu-id="405d3-182">IIS をインストールする前に .NET Framework 4.0 をインストールした場合は、 [ASP.NET Iis Registration Tool](https://msdn.microsoft.com/library/k6h9cz8h(v=VS.100).aspx) (aspnet\_iis 登録ツール) を実行して、最新バージョンの ASP.NET を iis に登録する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-182">If you installed the .NET Framework 4.0 before you installed IIS, you'll need to run the [ASP.NET IIS Registration Tool](https://msdn.microsoft.com/library/k6h9cz8h(v=VS.100).aspx) (aspnet\_regiis.exe) to register the latest version of ASP.NET with IIS.</span></span> <span data-ttu-id="405d3-183">この操作を行わないと、IIS が静的コンテンツ (HTML ファイルなど) を処理することはありませんが、ASP.NET コンテンツを参照しようとすると、 **HTTP エラー 404.0-Not Found**が返されます。</span><span class="sxs-lookup"><span data-stu-id="405d3-183">If you don't do this, you'll find that IIS will serve static content (like HTML files) without any problems, but it will return **HTTP Error 404.0 – Not Found** when you attempt to browse to ASP.NET content.</span></span> <span data-ttu-id="405d3-184">この手順を使用して、ASP.NET 4.0 が登録されていることを確認できます。</span><span class="sxs-lookup"><span data-stu-id="405d3-184">You can use this procedure to ensure that ASP.NET 4.0 is registered.</span></span>

<span data-ttu-id="405d3-185">**ASP.NET 4.0 を IIS に登録するには**</span><span class="sxs-lookup"><span data-stu-id="405d3-185">**To register ASP.NET 4.0 with IIS**</span></span>

1. <span data-ttu-id="405d3-186">**[スタート]** をクリックし、「**コマンドプロンプト**」と入力します。</span><span class="sxs-lookup"><span data-stu-id="405d3-186">Click **Start**, and then type **Command Prompt**.</span></span>
2. <span data-ttu-id="405d3-187">検索結果で **[コマンドプロンプト]** を右クリックし、 **[管理者として実行]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-187">In the search results, right-click **Command Prompt**, and then click **Run as administrator**.</span></span>
3. <span data-ttu-id="405d3-188">コマンドプロンプトウィンドウで、 **:** ディレクトリに移動します。</span><span class="sxs-lookup"><span data-stu-id="405d3-188">In the Command Prompt window, navigate to the **%WINDIR%\Microsoft.NET\Framework\v4.0.30319** directory.</span></span>
4. <span data-ttu-id="405d3-189">次のコマンドを入力し、enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="405d3-189">Type this command, and then press Enter:</span></span>

    [!code-console[Main](configuring-a-web-server-for-web-deploy-publishing-remote-agent/samples/sample1.cmd)]
5. <span data-ttu-id="405d3-190">任意の時点で64ビットの web アプリケーションをホストする場合は、ASP.NET の64ビットバージョンを IIS に登録する必要もあります。</span><span class="sxs-lookup"><span data-stu-id="405d3-190">If you plan to host 64-bit web applications at any point, you should also register the 64-bit version of ASP.NET with IIS.</span></span> <span data-ttu-id="405d3-191">これを行うには、コマンドプロンプトウィンドウで、 **\framework64\v4.0.30319**ディレクトリに移動します。</span><span class="sxs-lookup"><span data-stu-id="405d3-191">To do this, in the Command Prompt window, navigate to the **%WINDIR%\Microsoft.NET\Framework64\v4.0.30319** directory.</span></span>
6. <span data-ttu-id="405d3-192">次のコマンドを入力し、enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="405d3-192">Type this command, and then press Enter:</span></span>

    [!code-console[Main](configuring-a-web-server-for-web-deploy-publishing-remote-agent/samples/sample2.cmd)]

<span data-ttu-id="405d3-193">この時点でもう一度 Windows Update を使用して、インストールした新しい製品とコンポーネントの利用可能な更新プログラムをダウンロードしてインストールすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="405d3-193">As a good practice, use Windows Update again at this point to download and install any available updates for the new products and components you've installed.</span></span>

## <a name="configure-the-iis-website"></a><span data-ttu-id="405d3-194">IIS Web サイトを構成する</span><span class="sxs-lookup"><span data-stu-id="405d3-194">Configure the IIS Website</span></span>

<span data-ttu-id="405d3-195">Web コンテンツをサーバーに展開する前に、コンテンツをホストするための IIS web サイトを作成して構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-195">Before you can deploy web content to your server, you need to create and configure an IIS website to host the content.</span></span> <span data-ttu-id="405d3-196">Web 配置は、既存の IIS web サイトにのみ web パッケージを展開できます。web サイトを作成することはできません。</span><span class="sxs-lookup"><span data-stu-id="405d3-196">Web Deploy can only deploy web packages to an existing IIS website; it can't create the website for you.</span></span> <span data-ttu-id="405d3-197">大まかに言えば、次のタスクを完了する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-197">At a high level, you'll need to complete these tasks:</span></span>

- <span data-ttu-id="405d3-198">ファイルシステム上にコンテンツをホストするフォルダーを作成します。</span><span class="sxs-lookup"><span data-stu-id="405d3-198">Create a folder on the file system to host your content.</span></span>
- <span data-ttu-id="405d3-199">コンテンツを提供する IIS web サイトを作成し、ローカルフォルダーに関連付けます。</span><span class="sxs-lookup"><span data-stu-id="405d3-199">Create an IIS website to serve the content, and associate it with the local folder.</span></span>
- <span data-ttu-id="405d3-200">ローカルフォルダーのアプリケーションプール id に読み取りアクセス許可を付与します。</span><span class="sxs-lookup"><span data-stu-id="405d3-200">Grant read permissions to the application pool identity on the local folder.</span></span>

<span data-ttu-id="405d3-201">IIS の既定の web サイトへのコンテンツのデプロイは停止されていませんが、テストシナリオやデモンストレーションシナリオ以外では、この方法はお勧めできません。</span><span class="sxs-lookup"><span data-stu-id="405d3-201">Although there's nothing stopping you from deploying content to the default website in IIS, this approach is not recommended for anything other than test or demonstration scenarios.</span></span> <span data-ttu-id="405d3-202">運用環境をシミュレートするには、アプリケーションの要件に固有の設定を使用して、新しい IIS web サイトを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-202">To simulate a production environment, you should create a new IIS website with settings that are specific to the requirements of your application.</span></span>

<span data-ttu-id="405d3-203">**IIS web サイトを作成して構成するには**</span><span class="sxs-lookup"><span data-stu-id="405d3-203">**To create and configure an IIS website**</span></span>

1. <span data-ttu-id="405d3-204">ローカルファイルシステムで、コンテンツを格納するフォルダーを作成します (例、 **C:\ demosite**)。</span><span class="sxs-lookup"><span data-stu-id="405d3-204">On the local file system, create a folder to store your content (for example, **C:\DemoSite**).</span></span>
2. <span data-ttu-id="405d3-205">**[スタート]** メニューの **[管理ツール]** をポイントし、 **[インターネットインフォメーションサービス (IIS) マネージャー]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-205">On the **Start** menu, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>
3. <span data-ttu-id="405d3-206">IIS マネージャーの **[接続]** ウィンドウで、サーバーノードを展開します (たとえば、 **TESTWEB1**)。</span><span class="sxs-lookup"><span data-stu-id="405d3-206">In IIS Manager, in the **Connections** pane, expand the server node (for example, **TESTWEB1**).</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image3.png)
4. <span data-ttu-id="405d3-207">**[サイト]** ノードを右クリックし、 **[Web サイトの追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-207">Right-click the **Sites** node, and then click **Add Web Site**.</span></span>
5. <span data-ttu-id="405d3-208">**[サイト名]** ボックスに、IIS web サイトの名前 ( **demosite**など) を入力します。</span><span class="sxs-lookup"><span data-stu-id="405d3-208">In the **Site name** box, type a name for the IIS website (for example, **DemoSite**).</span></span>
6. <span data-ttu-id="405d3-209">**[物理パス]** ボックスに、ローカルフォルダーのパス (たとえば、「 \**c:\** 」) を入力します (または参照してください)。</span><span class="sxs-lookup"><span data-stu-id="405d3-209">In the **Physical path** box, type (or browse to) the path to your local folder (for example, **C:\DemoSite**).</span></span>
7. <span data-ttu-id="405d3-210">**[ポート]** ボックスに、web サイトをホストするポート番号 ( **85**など) を入力します。</span><span class="sxs-lookup"><span data-stu-id="405d3-210">In the **Port** box, type the port number on which you want to host the website (for example, **85**).</span></span>

    > [!NOTE]
    > <span data-ttu-id="405d3-211">標準ポート番号は、HTTP の場合は80、HTTPS の場合は443です。</span><span class="sxs-lookup"><span data-stu-id="405d3-211">The standard port numbers are 80 for HTTP and 443 for HTTPS.</span></span> <span data-ttu-id="405d3-212">ただし、この web サイトをポート80でホストする場合は、サイトにアクセスする前に、既定の web サイトを停止する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-212">However, if you host this website on port 80, you'll need to stop the default website before you can access your site.</span></span>
8. <span data-ttu-id="405d3-213">Web サイトのドメインネームシステム (DNS) レコードを構成する場合を除き、 **[ホスト名]** ボックスは空白のままにして、[ **OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-213">Leave the **Host name** box blank, unless you want to configure a Domain Name System (DNS) record for the website, and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image4.png)

    > [!NOTE]
    > <span data-ttu-id="405d3-214">運用環境では、web サイトをポート80でホストし、一致する DNS レコードと共にホストヘッダーを構成することが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-214">In a production environment, you'll likely want to host your website on port 80 and configure a host header, together with matching DNS records.</span></span> <span data-ttu-id="405d3-215">IIS 7 でホストヘッダーを構成する方法の詳細については、「 [Web サイトのホストヘッダーを構成する (iis 7)](https://technet.microsoft.com/library/cc753195(WS.10).aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-215">For more information on configuring host headers in IIS 7, see [Configure a Host Header for a Web Site (IIS 7)](https://technet.microsoft.com/library/cc753195(WS.10).aspx).</span></span> <span data-ttu-id="405d3-216">Windows Server 2008 R2 の DNS サーバーの役割の詳細については、「 [Dns サーバーの概要](https://technet.microsoft.com/library/cc770392.aspx)」および「 [dns サーバー](https://technet.microsoft.com/windowsserver/dd448607)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-216">For more information on the DNS Server role in Windows Server 2008 R2, see [DNS Server Overview](https://technet.microsoft.com/library/cc770392.aspx) and [DNS Server](https://technet.microsoft.com/windowsserver/dd448607).</span></span>
9. <span data-ttu-id="405d3-217">**[アクション]** ウィンドウの **[サイトの編集]** の下にある **[バインド]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-217">In the **Actions** pane, under **Edit Site**, click **Bindings**.</span></span>
10. <span data-ttu-id="405d3-218">**[サイト バインド]** ダイアログ ボックスの **[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-218">In the **Site Bindings** dialog box, click **Add**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image5.png)
11. <span data-ttu-id="405d3-219">**[サイトバインドの追加]** ダイアログボックスで、既存のサイト構成に合わせて**IP アドレス**と**ポート**を設定します。</span><span class="sxs-lookup"><span data-stu-id="405d3-219">In the **Add Site Binding** dialog box, set the **IP address** and **Port** to match your existing site configuration.</span></span>
12. <span data-ttu-id="405d3-220">**[ホスト名]** ボックスに、web サーバーの名前 (たとえば、 **TESTWEB1**) を入力し、[ **OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-220">In the **Host name** box, type the name of your web server (for example, **TESTWEB1**), and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image6.png)

    > [!NOTE]
    > <span data-ttu-id="405d3-221">最初のサイトバインドでは、IP アドレスとポートまたは `http://localhost:85`を使用してサイトにローカルにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="405d3-221">The first site binding allows you to access the site locally using the IP address and port or `http://localhost:85`.</span></span> <span data-ttu-id="405d3-222">2番目のサイトバインドを使用すると、コンピューター名 (http://testweb1:85)など) を使用して、ドメイン上の他のコンピューターからサイトにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="405d3-222">The second site binding allows you to access the site from other computers on the domain using the machine name (for example, http://testweb1:85).</span></span>
13. <span data-ttu-id="405d3-223">**[サイト バインド]** ダイアログ ボックスの **[閉じる]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-223">In the **Site Bindings** dialog box, click **Close**.</span></span>
14. <span data-ttu-id="405d3-224">**[接続]** ウィンドウで、 **[アプリケーションプール]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-224">In the **Connections** pane, click **Application Pools**.</span></span>
15. <span data-ttu-id="405d3-225">**[アプリケーションプール]** ウィンドウで、アプリケーションプールの名前を右クリックし、 **[基本設定]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-225">In the **Application Pools** pane, right-click the name of your application pool, and then click **Basic Settings**.</span></span> <span data-ttu-id="405d3-226">既定では、アプリケーションプールの名前は web サイトの名前 ( **Demosite**など) と一致します。</span><span class="sxs-lookup"><span data-stu-id="405d3-226">By default, the name of your application pool will match the name of your website (for example, **DemoSite**).</span></span>
16. <span data-ttu-id="405d3-227">**[.NET Framework のバージョン]** ボックスの一覧で **[.NET Framework v v4.0.30319]** を選択し、 **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-227">In the **.NET Framework version** list, select **.NET Framework v4.0.30319**, and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image7.png)

    > [!NOTE]
    > <span data-ttu-id="405d3-228">サンプルソリューションには .NET Framework 4.0 が必要です。</span><span class="sxs-lookup"><span data-stu-id="405d3-228">The sample solution requires .NET Framework 4.0.</span></span> <span data-ttu-id="405d3-229">これは Web 配置全般の要件ではありません。</span><span class="sxs-lookup"><span data-stu-id="405d3-229">This is not a requirement for Web Deploy in general.</span></span>

<span data-ttu-id="405d3-230">Web サイトがコンテンツを提供できるようにするには、アプリケーションプール id に、コンテンツが格納されているローカルフォルダーに対する読み取りアクセス許可が必要です。</span><span class="sxs-lookup"><span data-stu-id="405d3-230">In order for your website to serve content, the application pool identity must have read permissions on the local folder that stores the content.</span></span> <span data-ttu-id="405d3-231">IIS 7.5 では、アプリケーションプールは既定で一意のアプリケーションプール id で実行されます (以前のバージョンの IIS とは異なり、アプリケーションプールは通常、ネットワークサービスアカウントを使用して実行されます)。</span><span class="sxs-lookup"><span data-stu-id="405d3-231">In IIS 7.5, application pools run with a unique application pool identity by default (in contrast to previous versions of IIS, where application pools would typically run using the Network Service account).</span></span> <span data-ttu-id="405d3-232">アプリケーションプール id は実際のユーザーアカウントではなく、ユーザーまたはグループ&#x2014;の一覧には表示されず、アプリケーションプールの起動時に動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="405d3-232">The application pool identity is not a real user account and does not show up on any lists of users or groups&#x2014;instead, it's created dynamically when the application pool is started.</span></span> <span data-ttu-id="405d3-233">各アプリケーションプール id は、非表示の項目としてローカル**IIS\_IUSRS**セキュリティグループに追加されます。</span><span class="sxs-lookup"><span data-stu-id="405d3-233">Each application pool identity is added to the local **IIS\_IUSRS** security group as a hidden item.</span></span>

<span data-ttu-id="405d3-234">ファイルまたはフォルダーのアプリケーションプール id にアクセス許可を付与するには、次の2つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-234">To grant permissions to an application pool identity on a file or folder, you have two options:</span></span>

- <span data-ttu-id="405d3-235"><strong>IIS AppPool\</strong ><em>[アプリケーションプール名]</em>( <strong>iis AppPool\DemoSite</strong>など) の形式を使用して、アプリケーションプール id に直接アクセス許可を割り当てます。</span><span class="sxs-lookup"><span data-stu-id="405d3-235">Assign permissions to the application pool identity directly, using the format <strong>IIS AppPool\</strong><em>[application pool name]</em>(for example, <strong>IIS AppPool\DemoSite</strong>).</span></span>
- <span data-ttu-id="405d3-236">**IIS\_IUSRS**グループにアクセス許可を割り当てます。</span><span class="sxs-lookup"><span data-stu-id="405d3-236">Assign permissions to the **IIS\_IUSRS** group.</span></span>

<span data-ttu-id="405d3-237">最も一般的な方法は、ローカルの**IIS\_IUSRS**グループにアクセス許可を割り当てることです。この方法では、ファイルシステムのアクセス許可を再構成せずにアプリケーションプールを変更できるためです。</span><span class="sxs-lookup"><span data-stu-id="405d3-237">The most common approach is to assign permissions to the local **IIS\_IUSRS** group because this approach lets you change application pools without reconfiguring file system permissions.</span></span> <span data-ttu-id="405d3-238">次の手順では、このグループベースの方法を使用します。</span><span class="sxs-lookup"><span data-stu-id="405d3-238">The next procedure uses this group-based approach.</span></span>

> [!NOTE]
> <span data-ttu-id="405d3-239">IIS 7.5 でのアプリケーションプール id の詳細については、「[アプリケーションプール id](https://go.microsoft.com/?linkid=9805123)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-239">For more information on application pool identities in IIS 7.5, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>

<span data-ttu-id="405d3-240">**IIS web サイトのフォルダーのアクセス許可を構成するには**</span><span class="sxs-lookup"><span data-stu-id="405d3-240">**To configure folder permissions for an IIS website**</span></span>

1. <span data-ttu-id="405d3-241">Windows エクスプローラーで、ローカルフォルダーの場所を参照します。</span><span class="sxs-lookup"><span data-stu-id="405d3-241">In Windows Explorer, browse to the location of your local folder.</span></span>
2. <span data-ttu-id="405d3-242">フォルダーを右クリックし、 **[プロパティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-242">Right-click the folder, and then click **Properties**.</span></span>
3. <span data-ttu-id="405d3-243">**[Security]** タブで、 **[Edit]** 、 **[Add]** の順にクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-243">On the **Security** tab, click **Edit**, and then click **Add**.</span></span>
4. <span data-ttu-id="405d3-244">**[場所]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-244">Click **Locations**.</span></span> <span data-ttu-id="405d3-245">**[場所]** ダイアログボックスで、ローカルサーバーを選択し、[ **OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-245">In the **Locations** dialog box, select the local server, and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image8.png)
5. <span data-ttu-id="405d3-246">**[ユーザーまたはグループの選択]** ダイアログボックスで、「 **IIS\_iusrs**」と入力し、 **[名前の確認]** をクリックして、 **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-246">In the **Select Users or Groups** dialog box, type **IIS\_IUSRS**, click **Check Names**, and then click **OK**.</span></span>
6. <span data-ttu-id="405d3-247"><em>[フォルダー名]</em>ダイアログボックス<strong>の [アクセス許可</strong>] で、新しいグループに、既定で [<strong>実行</strong>]、[<strong>フォルダーの内容の一覧表示</strong>]、および [<strong>読み取り</strong>] &amp; のアクセス許可が割り当てられていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="405d3-247">In the <strong>Permissions for</strong><em>[folder name]</em>dialog box, notice that the new group has been assigned the <strong>Read &amp; execute</strong>, <strong>List folder contents</strong>, and <strong>Read</strong> permissions by default.</span></span> <span data-ttu-id="405d3-248">これを変更せずに、[ <strong>OK]</strong>をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-248">Leave this unchanged and click <strong>OK</strong>.</span></span>
7. <span data-ttu-id="405d3-249">[ <strong>OK</strong> ] をクリックして、 <em>[フォルダー名] の [</em><strong>プロパティ</strong>] ダイアログボックスを閉じます。</span><span class="sxs-lookup"><span data-stu-id="405d3-249">Click <strong>OK</strong> to close the <em>[folder name]</em><strong>Properties</strong> dialog box.</span></span>

<span data-ttu-id="405d3-250">サーバーに web パッケージを配置する前の最後のタスクとして、Web Deployment Agent サービスが実行されていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-250">As a final task before you attempt to deploy any web packages to your server, you should ensure that the Web Deployment Agent Service is running.</span></span> <span data-ttu-id="405d3-251">リモートコンピューターからパッケージを展開する場合、Web Deployment Agent サービスはパッケージのコンテンツの抽出とインストールを行います。</span><span class="sxs-lookup"><span data-stu-id="405d3-251">When you deploy a package from a remote computer, the Web Deployment Agent Service is responsible for extracting and installing the contents of the package.</span></span> <span data-ttu-id="405d3-252">サービスは、Web 配置ツールをインストールし、ネットワークサービス id で実行すると、既定で開始されます。</span><span class="sxs-lookup"><span data-stu-id="405d3-252">The service is started by default when you install the Web Deployment Tool and runs under the Network Service identity.</span></span>

<span data-ttu-id="405d3-253">さまざまなコマンドラインユーティリティまたは Windows PowerShell コマンドレットを使用して、サービスが複数の異なる方法で実行されているかどうかを確認できます。</span><span class="sxs-lookup"><span data-stu-id="405d3-253">You can check whether a service is running in multiple different ways, using various command-line utilities or Windows PowerShell cmdlets.</span></span> <span data-ttu-id="405d3-254">この手順では、UI ベースの簡単な方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="405d3-254">This procedure describes a straightforward UI-based approach.</span></span>

<span data-ttu-id="405d3-255">**Web Deployment Agent サービスが実行されていることを確認するには**</span><span class="sxs-lookup"><span data-stu-id="405d3-255">**To check that the Web Deployment Agent Service is running**</span></span>

1. <span data-ttu-id="405d3-256">**[スタート]** メニューで、 **[管理ツール]** をポイントして、 **[サービス]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-256">On the **Start** menu, point to **Administrative Tools**, and then click **Services**.</span></span>
2. <span data-ttu-id="405d3-257">**[Web Deployment Agent サービス]** 行を見つけて、 **[状態]** が **[開始]** に設定されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="405d3-257">Locate the **Web Deployment Agent Service** row, and verify that the **Status** is set to **Started**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image9.png)
3. <span data-ttu-id="405d3-258">サービスがまだ開始されていない場合は、 **[開始]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="405d3-258">If the service is not already started, click **Start**.</span></span>

## <a name="configure-firewall-exceptions"></a><span data-ttu-id="405d3-259">ファイアウォール例外の構成</span><span class="sxs-lookup"><span data-stu-id="405d3-259">Configure Firewall Exceptions</span></span>

<span data-ttu-id="405d3-260">既定では、リモートエージェントサービスは、次の URL の TCP ポート80でリッスンします。</span><span class="sxs-lookup"><span data-stu-id="405d3-260">By default, the Remote Agent Service listens on TCP port 80, at this URL:</span></span>

<http://servername.com/MSDEPLOYAGENTSERVICE>

<span data-ttu-id="405d3-261">ほとんどの場合、web サーバーはポート80で HTTP 要求をリッスンするため、リモートエージェントサービスに対して追加のファイアウォール規則を構成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="405d3-261">In most cases, you won't need to configure any additional firewall rules for the Remote Agent Service because web servers typically listen for HTTP requests on port 80.</span></span> <span data-ttu-id="405d3-262">標準以外のポートでリッスンするようにインストールをカスタマイズした場合は、必要に応じてファイアウォールの例外を構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="405d3-262">If you customized your installation to listen on a nonstandard port, you'll need to configure firewall exceptions as required.</span></span>

## <a name="conclusion"></a><span data-ttu-id="405d3-263">まとめ</span><span class="sxs-lookup"><span data-stu-id="405d3-263">Conclusion</span></span>

<span data-ttu-id="405d3-264">この時点で、web サーバーは、リモートコンピューターから web パッケージを受け入れてインストールする準備ができています。</span><span class="sxs-lookup"><span data-stu-id="405d3-264">At this point, your web server is ready to accept and install web packages from a remote computer.</span></span> <span data-ttu-id="405d3-265">サーバーに web アプリケーションを配置する前に、次のキーポイントを確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="405d3-265">Before you attempt to deploy a web application to the server, you may want to check these key points:</span></span>

- <span data-ttu-id="405d3-266">ASP.NET 4.0 を IIS に登録しましたか?</span><span class="sxs-lookup"><span data-stu-id="405d3-266">Have you registered ASP.NET 4.0 with IIS?</span></span>
- <span data-ttu-id="405d3-267">アプリケーションプール id に web サイトのソースフォルダーへの読み取りアクセス権があるかどうか。</span><span class="sxs-lookup"><span data-stu-id="405d3-267">Does the application pool identity have read access to the source folder for your website?</span></span>
- <span data-ttu-id="405d3-268">Web Deployment Agent サービスは実行されていますか?</span><span class="sxs-lookup"><span data-stu-id="405d3-268">Is the Web Deployment Agent Service running?</span></span>

## <a name="further-reading"></a><span data-ttu-id="405d3-269">参考資料</span><span class="sxs-lookup"><span data-stu-id="405d3-269">Further Reading</span></span>

<span data-ttu-id="405d3-270">カスタム Microsoft Build Engine (MSBuild) プロジェクトファイルを構成してリモートエージェントサービスに web パッケージを配置する方法のガイダンスについては、「[ターゲット環境の配置プロパティの構成](configuring-deployment-properties-for-a-target-environment.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="405d3-270">For guidance on how to configure custom Microsoft Build Engine (MSBuild) project files to deploy web packages to the Remote Agent Service, see [Configuring Deployment Properties for a Target Environment](configuring-deployment-properties-for-a-target-environment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="405d3-271">[前へ](scenario-configuring-a-production-environment-for-web-deployment.md)
> [次へ](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)</span><span class="sxs-lookup"><span data-stu-id="405d3-271">[Previous](scenario-configuring-a-production-environment-for-web-deployment.md)
[Next](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)</span></span>
