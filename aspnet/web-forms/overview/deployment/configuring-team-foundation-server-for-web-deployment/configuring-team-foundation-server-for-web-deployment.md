---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment
title: Web 配置用の Team Foundation Server の構成 |Microsoft Docs
author: jrjlee
description: このチュートリアルでは、Team Foundation Server (TFS) 2010 を構成して、ソリューションをビルドし、さまざまなターゲット環境に web コンテンツをデプロイする方法について説明します。 これ。
ms.author: riande
ms.date: 05/04/2012
ms.assetid: ff55233a-e795-4007-a4fc-861fe1bb590b
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment
msc.type: authoredcontent
ms.openlocfilehash: 638d696abbc5f05957c0ed2eb7ebb65fce7813ea
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78424204"
---
# <a name="configuring-team-foundation-server-for-web-deployment"></a><span data-ttu-id="eaf4f-104">Web 配置の Team Foundation Server を構成する</span><span class="sxs-lookup"><span data-stu-id="eaf4f-104">Configuring Team Foundation Server for Web Deployment</span></span>

<span data-ttu-id="eaf4f-105">[Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="eaf4f-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

<span data-ttu-id="eaf4f-106">[[Download PDF]\(PDF をダウンロード\)](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)</span><span class="sxs-lookup"><span data-stu-id="eaf4f-106">[Download PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)</span></span>

> <span data-ttu-id="eaf4f-107">このチュートリアルでは、Team Foundation Server (TFS) 2010 を構成して、ソリューションをビルドし、さまざまなターゲット環境に web コンテンツをデプロイする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-107">This tutorial will show you how to configure Team Foundation Server (TFS) 2010 to build solutions and deploy web content to various target environments.</span></span> <span data-ttu-id="eaf4f-108">これには、開発者が変更を行うたびにコンテンツが自動的に配置される継続的インテグレーション (CI) シナリオが含まれます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-108">This includes continuous integration (CI) scenarios, where you deploy content automatically every time a developer makes a change.</span></span> <span data-ttu-id="eaf4f-109">また、ビルドがテスト環境で検証および検証された後に、管理者が特定のビルドの配置をステージング環境にトリガーする必要がある場合に、手動のトリガーシナリオを含めることもできます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-109">It can also include manual trigger scenarios, where an administrator may want to trigger deployment of a specific build to a staging environment once the build has been verified and validated in the test environment.</span></span> <span data-ttu-id="eaf4f-110">このチュートリアルのトピックでは、次のような構成プロセス全体について説明します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-110">The topics in this tutorial will guide you through the entire configuration process, including:</span></span>
> 
> - <span data-ttu-id="eaf4f-111">TFS で新しいチームプロジェクトを作成する方法。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-111">How to create a new team project in TFS.</span></span>
> - <span data-ttu-id="eaf4f-112">ソース管理にコンテンツを追加する方法。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-112">How to add content to source control.</span></span>
> - <span data-ttu-id="eaf4f-113">CI と配置をサポートするようにビルドサーバーを構成する方法。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-113">How to configure a build server to support CI and deployment.</span></span>
> - <span data-ttu-id="eaf4f-114">配置ロジックを含むビルド定義を作成する方法。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-114">How to create a build definition that includes deployment logic.</span></span>
> - <span data-ttu-id="eaf4f-115">自動展開のためのアクセス許可を構成する方法。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-115">How to configure permissions for automated deployment.</span></span>
> 
> <span data-ttu-id="eaf4f-116">これらのチュートリアルのイタリア語翻訳については、 [http://www.lucamorelli.it](http://www.lucamorelli.it)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-116">For an Italian translation of these tutorials, visit [http://www.lucamorelli.it](http://www.lucamorelli.it).</span></span>

<span data-ttu-id="eaf4f-117">このチュートリアルでは、TFS 2010 をインストールし、初期構成プロセスの一環としてチームプロジェクトコレクションを作成していることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-117">This tutorial assumes that you have installed TFS 2010 and created a team project collection as part of the initial configuration process.</span></span> <span data-ttu-id="eaf4f-118">[Visual Studio 2010 の Team Foundation インストールガイド](https://go.microsoft.com/?linkid=9805132)では、これらのタスクに関する包括的なガイダンスを提供しています。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-118">The [Team Foundation Installation Guide for Visual Studio 2010](https://go.microsoft.com/?linkid=9805132) provides comprehensive guidance on these tasks.</span></span>

## <a name="context"></a><span data-ttu-id="eaf4f-119">Context</span><span class="sxs-lookup"><span data-stu-id="eaf4f-119">Context</span></span>

<span data-ttu-id="eaf4f-120">これは、Fabrikam, Inc. という架空の会社のエンタープライズ展開要件に基づいて、一連のチュートリアルの一部となります。このチュートリアルシリーズでは、&#x2014; [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)ソリューション&#x2014;のサンプルソリューションを使用して、ASP.NET MVC 3 アプリケーション、Windows Communication Foundation (WCF) サービス、データベースプロジェクトなど、現実的なレベルの複雑さを持つ web アプリケーションを表します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-120">This forms part of a series of tutorials based on the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solution&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="eaf4f-121">これらのチュートリアルの中核となる配置方法は、「ビルド[プロセスについ](../web-deployment-in-the-enterprise/understanding-the-build-process.md)て」で説明されている「プロジェクトファイルの分割」の方法に基づいて&#x2014;います。この方法では、ビルドプロセスは、各配置先環境に適用されるビルド命令を含む2つのプロジェクトファイルと、環境固有のビルドおよび配置設定を含んでいます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-121">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="eaf4f-122">ビルド時に、環境固有のプロジェクトファイルが環境に依存しないプロジェクトファイルにマージされ、ビルド命令の完全なセットが形成されます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-122">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="scenario-overview"></a><span data-ttu-id="eaf4f-123">シナリオの概要</span><span class="sxs-lookup"><span data-stu-id="eaf4f-123">Scenario Overview</span></span>

<span data-ttu-id="eaf4f-124">これらのチュートリアルの高度なシナリオについては、「[エンタープライズ Web 配置: シナリオの概要](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-124">The high-level scenario for these tutorials is described in [Enterprise Web Deployment: Scenario Overview](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md).</span></span> <span data-ttu-id="eaf4f-125">このチュートリアルを開始する前に、このトピックを確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-125">We recommend that you review this topic before you get started on this tutorial.</span></span>

## <a name="how-to-use-this-tutorial"></a><span data-ttu-id="eaf4f-126">このチュートリアルの使用方法</span><span class="sxs-lookup"><span data-stu-id="eaf4f-126">How to Use This Tutorial</span></span>

<span data-ttu-id="eaf4f-127">このチュートリアルで説明されているタスクを初めて実行する場合、またはサンプルソリューションを使用して例を実行する場合は、チュートリアルのトピックを順番に実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-127">If this is the first time you've performed the tasks described in this tutorial, or if you want to follow the examples using the sample solution, you should work through the tutorial topics in order.</span></span> <span data-ttu-id="eaf4f-128">または、個々のトピックを特定のタスクのガイダンスとして使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-128">Alternatively, you can use individual topics as guidance for specific tasks.</span></span> <span data-ttu-id="eaf4f-129">このチュートリアルには、次のトピックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-129">This tutorial includes these topics:</span></span>

- <span data-ttu-id="eaf4f-130">[TFS でチームプロジェクトを作成する](creating-a-team-project-in-tfs.md)。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-130">[Creating a Team Project in TFS](creating-a-team-project-in-tfs.md).</span></span> <span data-ttu-id="eaf4f-131">チームプロジェクトは、ソース管理、プロセス管理、および TFS でのビルドのコア単位です。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-131">A team project is the core unit for source control, process management, and build in TFS.</span></span> <span data-ttu-id="eaf4f-132">ソース管理にコンテンツを追加したり、ビルド定義を作成したりする前に、チームプロジェクトを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-132">You need to create a team project before you can add content to source control or create build definitions.</span></span>
- <span data-ttu-id="eaf4f-133">[ソース管理にコンテンツを追加](adding-content-to-source-control.md)しています。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-133">[Adding Content to Source Control](adding-content-to-source-control.md).</span></span> <span data-ttu-id="eaf4f-134">チームプロジェクトを作成したら、ソース管理へのコンテンツの追加を開始できます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-134">Once you've created a team project, you can start adding content to source control.</span></span> <span data-ttu-id="eaf4f-135">ビルドの構成を開始する前に、プロジェクトとソリューションを外部の依存関係と共に追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-135">You'll need to add your projects and solutions, together with any external dependencies, before you can start configuring builds.</span></span>
- <span data-ttu-id="eaf4f-136">[Web 配置用に TFS ビルドサーバーを構成](configuring-a-tfs-build-server-for-web-deployment.md)する。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-136">[Configuring a TFS Build Server for Web Deployment](configuring-a-tfs-build-server-for-web-deployment.md).</span></span> <span data-ttu-id="eaf4f-137">チームプロジェクトのコンテンツをビルドする場合は、ビルドサーバーを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-137">If you want to build your team project content, you'll need to configure a build server.</span></span> <span data-ttu-id="eaf4f-138">ほとんどの場合、これは TFS インストールとは別のコンピューターに配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-138">In most cases, this should be on a separate machine from your TFS installation.</span></span> <span data-ttu-id="eaf4f-139">ビルドサーバーを構成するには、TFS ビルドサービスのインストールと構成、Visual Studio 2010 のインストール、ビルドコントローラーとビルドエージェントの作成、コードが正常にビルドされるために必要な製品またはコンポーネントのインストール、およびをインストールする必要があります。インターネットインフォメーションサービス (IIS) Web 配置ツール (Web 配置)。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-139">To configure a build server, you need to install and configure the TFS build service, install Visual Studio 2010, create build controllers and build agents, install any products or components that your code needs in order to build successfully, and install the Internet Information Services (IIS) Web Deployment Tool (Web Deploy).</span></span>
- <span data-ttu-id="eaf4f-140">[配置をサポートするビルド定義を作成](creating-a-build-definition-that-supports-deployment.md)する。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-140">[Creating a Build Definition That Supports Deployment](creating-a-build-definition-that-supports-deployment.md).</span></span> <span data-ttu-id="eaf4f-141">TFS でのビルドのキューまたはトリガーを開始する前に、チームプロジェクトのビルド定義を少なくとも1つ作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-141">Before you can start queuing or triggering builds in TFS, you need to create at least one build definition for your team project.</span></span> <span data-ttu-id="eaf4f-142">ビルド定義では、ビルドに含める必要があるもの、ビルドをトリガーする必要があるもの、ビルド出力をチームビルドが送信する場所など、ビルドのすべての側面を定義します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-142">The build definition defines every aspect of the build, including which things should be included in the build, what should trigger the build, and where Team Build should send the build outputs.</span></span> <span data-ttu-id="eaf4f-143">ビルド定義を構成して、カスタム Microsoft Build Engine (MSBuild) プロジェクトファイルを実行することができます。これにより、自動ビルドに配置ロジックを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-143">You can configure a build definition to run custom Microsoft Build Engine (MSBuild) project files, which lets you include deployment logic in your automated builds.</span></span>
- <span data-ttu-id="eaf4f-144">[特定のビルドを配置](deploying-a-specific-build.md)します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-144">[Deploying a Specific Build](deploying-a-specific-build.md).</span></span> <span data-ttu-id="eaf4f-145">多くのシナリオでは、最新のビルドではなく、特定のビルドをターゲット環境に配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-145">In a lot of scenarios, you'll want to deploy a specific build, rather than the latest build, to a target environment.</span></span> <span data-ttu-id="eaf4f-146">この場合、特定のドロップフォルダーからコンテンツを展開するビルド定義を構成できます。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-146">In this case, you can configure a build definition that deploys content from a specific drop folder.</span></span>
- <span data-ttu-id="eaf4f-147">[チームビルド配置のアクセス許可を構成して](configuring-permissions-for-team-build-deployment.md)います。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-147">[Configuring Permissions for Team Build Deployment](configuring-permissions-for-team-build-deployment.md).</span></span> <span data-ttu-id="eaf4f-148">ビルドサービスが自動ビルドプロセスの一部としてコンテンツを配置する場合は、任意の送信先 web サーバーおよびデータベースサーバーのビルドサービスアカウントにさまざまなアクセス許可を付与する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-148">If the build service is to deploy content as part of an automated build process, you need to grant various permissions to the build service account on any destination web servers and database servers.</span></span>

## <a name="key-technologies"></a><span data-ttu-id="eaf4f-149">主要テクノロジ</span><span class="sxs-lookup"><span data-stu-id="eaf4f-149">Key Technologies</span></span>

<span data-ttu-id="eaf4f-150">このチュートリアルでは、これらの製品とテクノロジを使用して、自動化されたビルドと web 配置をサポートする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-150">This tutorial focuses on how to use these products and technologies to support automated build and web deployment:</span></span>

- <span data-ttu-id="eaf4f-151">Visual Studio Team Foundation Server 2010</span><span class="sxs-lookup"><span data-stu-id="eaf4f-151">Visual Studio Team Foundation Server 2010</span></span>
- <span data-ttu-id="eaf4f-152">チームビルドと MSBuild</span><span class="sxs-lookup"><span data-stu-id="eaf4f-152">Team Build and MSBuild</span></span>
- <span data-ttu-id="eaf4f-153">Web デプロイ</span><span class="sxs-lookup"><span data-stu-id="eaf4f-153">Web Deploy</span></span>

<span data-ttu-id="eaf4f-154">このチュートリアルでは、Windows Server 2008 R2、IIS 7.5、SQL Server 2008 R2、ASP.NET 4.0、ASP.NET MVC 3 の使用についても取り上げています。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-154">The tutorial also touches on the use of Windows Server 2008 R2, IIS 7.5, SQL Server 2008 R2, ASP.NET 4.0, and ASP.NET MVC 3.</span></span>

## <a name="other-tutorials-in-this-series"></a><span data-ttu-id="eaf4f-155">このシリーズの他のチュートリアル</span><span class="sxs-lookup"><span data-stu-id="eaf4f-155">Other Tutorials in This Series</span></span>

<span data-ttu-id="eaf4f-156">これは、エンタープライズ規模の web デプロイに関する一連の5つのチュートリアルの一部です。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-156">This forms part of a series of five tutorials on enterprise-scale web deployment.</span></span> <span data-ttu-id="eaf4f-157">このシリーズの他のチュートリアルは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-157">These are the other tutorials in the series:</span></span>

- <span data-ttu-id="eaf4f-158">[エンタープライズシナリオでの Web アプリケーションの展開](../deploying-web-applications-in-enterprise-scenarios/deploying-web-applications-in-enterprise-scenarios.md)。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-158">[Deploying Web Applications in Enterprise Scenarios](../deploying-web-applications-in-enterprise-scenarios/deploying-web-applications-in-enterprise-scenarios.md).</span></span> <span data-ttu-id="eaf4f-159">この入門用コンテンツでは、チュートリアルシリーズのコンテキストの背景を提供しています。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-159">This introductory content provides the contextual background for the tutorial series.</span></span> <span data-ttu-id="eaf4f-160">このチュートリアルでは、チュートリアルシナリオについて説明し、シリーズ全体で説明されているタスクとチュートリアルが、より広範なアプリケーションライフサイクル管理 (ALM) プロセスにどのように適合するかを示します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-160">It describes the tutorial scenario, and it illustrates how the tasks and walkthroughs described throughout the series fit into a broader Application Lifecycle Management (ALM) process.</span></span>
- <span data-ttu-id="eaf4f-161">[企業の Web 配置](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md)。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-161">[Web Deployment in the Enterprise](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md).</span></span> <span data-ttu-id="eaf4f-162">このチュートリアルでは、MSBuild プロジェクトファイル、Web 発行パイプライン (WPP)、Web 配置、およびその他の関連テクノロジについて概念的に説明します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-162">This tutorial provides a conceptual introduction to MSBuild project files, the Web Publishing Pipeline (WPP), Web Deploy, and other related technologies.</span></span> <span data-ttu-id="eaf4f-163">これらのツールを組み合わせて使用して、複雑な展開プロセスを管理する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-163">It explains how you can use these tools together to manage complex deployment processes.</span></span>
- <span data-ttu-id="eaf4f-164">[Web 配置用のサーバー環境の構成](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-164">[Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span> <span data-ttu-id="eaf4f-165">このチュートリアルでは、Web Deployment Agent サービス (リモートエージェント) を使用したリモート web パッケージの展開や、Web 配置ハンドラーとリモートデータベースの配置など、さまざまな展開シナリオをサポートするように Windows サーバーを構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-165">This tutorial describes how to configure Windows servers to support various deployment scenarios, including remote web package deployment using the Web Deployment Agent Service (the remote agent) or the Web Deploy Handler and remote database deployment.</span></span> <span data-ttu-id="eaf4f-166">独自の環境に適した配置方法を選択するためのガイダンスを提供します。また、Web Farm Framework (WFF) を使用して、サーバーファーム内のすべての web サーバーに配置された web アプリケーションをレプリケートする方法についても説明します。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-166">It provides guidance on choosing the appropriate deployment method for your own environment, and it describes how to use the Web Farm Framework (WFF) to replicate deployed web applications across all the web servers in a server farm.</span></span>
- <span data-ttu-id="eaf4f-167">[高度なエンタープライズ Web デプロイ](../advanced-enterprise-web-deployment/advanced-enterprise-web-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="eaf4f-167">[Advanced Enterprise Web Deployment](../advanced-enterprise-web-deployment/advanced-enterprise-web-deployment.md).</span></span> <span data-ttu-id="eaf4f-168">このチュートリアルでは、複数の環境でのデータベース配置のカスタマイズ、展開からのファイルとフォルダーの除外、展開プロセス中の web アプリケーションのオフライン化など、さまざまな高度な展開タスクを実行する方法について説明します.</span><span class="sxs-lookup"><span data-stu-id="eaf4f-168">This tutorial describes how to accomplish various more advanced deployment tasks, like customizing database deployments for multiple environments, excluding files and folders from deployment, and taking web applications offline during the deployment process.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="eaf4f-169">Next</span><span class="sxs-lookup"><span data-stu-id="eaf4f-169">Next</span></span>](creating-a-team-project-in-tfs.md)
