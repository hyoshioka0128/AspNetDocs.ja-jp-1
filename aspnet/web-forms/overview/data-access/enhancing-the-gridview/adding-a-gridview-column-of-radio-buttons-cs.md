---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
title: オプションボタンの GridView 列を追加するC#() |Microsoft Docs
author: rick-anderson
description: このチュートリアルでは、オプションボタンの列を GridView コントロールに追加する方法を説明します。これにより、ユーザーは、次のような1つの行をより直観的に選択できます。
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 32377145-ec25-4715-8370-a1c590a331d5
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
msc.type: authoredcontent
ms.openlocfilehash: b59cc64b14c6414e6558fdb8a281644db8386701
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78477952"
---
# <a name="adding-a-gridview-column-of-radio-buttons-c"></a><span data-ttu-id="058cc-103">ラジオ ボタンの GridView 列を追加する (C#)</span><span class="sxs-lookup"><span data-stu-id="058cc-103">Adding a GridView Column of Radio Buttons (C#)</span></span>

<span data-ttu-id="058cc-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="058cc-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="058cc-105">[サンプルアプリのダウンロード](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe)または[PDF のダウンロード](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="058cc-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe) or [Download PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span></span>

> <span data-ttu-id="058cc-106">このチュートリアルでは、gridview コントロールにオプションボタンの列を追加して、ユーザーが GridView の単一の行をより直観的に選択できるようにする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-106">This tutorial looks at how to add a column of radio buttons to a GridView control to provide the user with a more intuitive way of selecting a single row of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="058cc-107">はじめに</span><span class="sxs-lookup"><span data-stu-id="058cc-107">Introduction</span></span>

<span data-ttu-id="058cc-108">GridView コントロールには、多くの組み込み機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="058cc-108">The GridView control offers a great deal of built-in functionality.</span></span> <span data-ttu-id="058cc-109">これには、テキスト、画像、ハイパーリンク、およびボタンを表示するためのさまざまなフィールドが含まれています。</span><span class="sxs-lookup"><span data-stu-id="058cc-109">It includes a number of different fields for displaying text, images, hyperlinks, and buttons.</span></span> <span data-ttu-id="058cc-110">詳細なカスタマイズのためのテンプレートをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="058cc-110">It supports templates for further customization.</span></span> <span data-ttu-id="058cc-111">マウスを数回クリックするだけで、ボタンを使用して各行を選択できる GridView を作成したり、編集または削除機能を有効にしたりできます。</span><span class="sxs-lookup"><span data-stu-id="058cc-111">With a few clicks of the mouse, it s possible to make a GridView where each row can be selected via a button, or to enable editing or deleting capabilities.</span></span> <span data-ttu-id="058cc-112">多くの機能が用意されていますが、サポートされていない機能を追加する必要がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-112">Despite the plethora of provided features, there will often be situations in which additional, non-supported features will need to be added.</span></span> <span data-ttu-id="058cc-113">このチュートリアルと次の2つのチュートリアルでは、追加の機能を含めるように GridView の機能を拡張する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-113">In this tutorial and the next two we'll examine how to enhance the GridView s functionality to include additional features.</span></span>

<span data-ttu-id="058cc-114">このチュートリアルと次の1つは、行選択プロセスの拡張に関するものです。</span><span class="sxs-lookup"><span data-stu-id="058cc-114">This tutorial and the next one focus on enhancing the row-selection process.</span></span> <span data-ttu-id="058cc-115">[詳細詳細ビューで選択可能なマスター GridView を使用してマスター/詳細](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)で確認したように、Select ボタンを含む Gridview に commandfield を追加できます。</span><span class="sxs-lookup"><span data-stu-id="058cc-115">As examined in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md), we can add a CommandField to the GridView that includes a Select button.</span></span> <span data-ttu-id="058cc-116">クリックすると、ポストバック ensues と GridView s `SelectedIndex` プロパティが、Select ボタンがクリックされた行のインデックスに更新されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-116">When clicked, a postback ensues and the GridView s `SelectedIndex` property is updated to the index of the row whose Select button was clicked.</span></span> <span data-ttu-id="058cc-117">[詳細詳細ビューのチュートリアルで選択可能なマスター GridView を使用したマスター/詳細](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)では、この機能を使用して、選択した gridview 行の詳細を表示する方法を説明しました。</span><span class="sxs-lookup"><span data-stu-id="058cc-117">In the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, we saw how to use this feature to display details for the selected GridView row.</span></span>

<span data-ttu-id="058cc-118">[選択] ボタンは多くの状況で動作しますが、他のユーザーに対しても機能しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-118">While the Select button works in many situations, it may not work as well for others.</span></span> <span data-ttu-id="058cc-119">ボタンを使用する代わりに、オプションボタンとチェックボックスの2つのユーザーインターフェイス要素を選択することがよくあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-119">Rather than using a button, two other user interface elements are commonly used for selection: the radio button and checkbox.</span></span> <span data-ttu-id="058cc-120">GridView を拡張して、Select ボタンの代わりに、各行にラジオボタンまたはチェックボックスを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="058cc-120">We can augment the GridView so that instead of a Select button, each row contains a radio button or checkbox.</span></span> <span data-ttu-id="058cc-121">ユーザーが GridView レコードの1つしか選択できない場合、[選択] ボタンよりもオプションボタンが優先されることがあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-121">In scenarios where the user can only select one of the GridView records, the radio button might be preferred over the Select button.</span></span> <span data-ttu-id="058cc-122">ユーザーが web ベースの電子メールアプリケーションなどで複数のレコードを選択できる場合、ユーザーは複数のメッセージを選択して、選択ボタンまたはラジオボタンでは使用できない機能を提供する場合があります。ユーザーインターフェイス。</span><span class="sxs-lookup"><span data-stu-id="058cc-122">In situations where the user can potentially select multiple records such as in a web-based email application, where a user might want to select multiple messages to delete the checkbox offers functionality that is not available from the Select button or radio button user interfaces.</span></span>

<span data-ttu-id="058cc-123">このチュートリアルでは、オプションボタンの列を GridView に追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-123">This tutorial looks at how to add a column of radio buttons to the GridView.</span></span> <span data-ttu-id="058cc-124">このチュートリアルでは、チェックボックスの使用について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-124">The proceeding tutorial explores using checkboxes.</span></span>

## <a name="step-1-creating-the-enhancing-the-gridview-web-pages"></a><span data-ttu-id="058cc-125">手順 1: GridView Web ページの拡張の作成</span><span class="sxs-lookup"><span data-stu-id="058cc-125">Step 1: Creating the Enhancing the GridView Web Pages</span></span>

<span data-ttu-id="058cc-126">GridView を拡張してラジオボタンの列を追加する前に、まず、このチュートリアルで必要な ASP.NET ページを web サイトプロジェクトに作成し、次の2つのページを作成してみましょう。</span><span class="sxs-lookup"><span data-stu-id="058cc-126">Before we start enhancing the GridView to include a column of radio buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next two.</span></span> <span data-ttu-id="058cc-127">まず、`EnhancedGridView`という名前の新しいフォルダーを追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-127">Start by adding a new folder named `EnhancedGridView`.</span></span> <span data-ttu-id="058cc-128">次に、次の ASP.NET ページをそのフォルダーに追加します。各ページは `Site.master` マスターページに関連付けられていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="058cc-128">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `RadioButtonField.aspx`
- `CheckBoxField.aspx`
- `InsertThroughFooter.aspx`

![SqlDataSource 関連のチュートリアルの ASP.NET ページを追加する](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.gif)

<span data-ttu-id="058cc-130">**図 1**: SqlDataSource 関連のチュートリアルの ASP.NET ページを追加する</span><span class="sxs-lookup"><span data-stu-id="058cc-130">**Figure 1**: Add the ASP.NET Pages for the SqlDataSource-Related Tutorials</span></span>

<span data-ttu-id="058cc-131">他のフォルダーと同様に、`EnhancedGridView` フォルダー内の `Default.aspx` には、そのセクションのチュートリアルが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-131">Like in the other folders, `Default.aspx` in the `EnhancedGridView` folder will list the tutorials in its section.</span></span> <span data-ttu-id="058cc-132">`SectionLevelTutorialListing.ascx` ユーザーコントロールがこの機能を提供していることを思い出してください。</span><span class="sxs-lookup"><span data-stu-id="058cc-132">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="058cc-133">したがって、ソリューションエクスプローラーからページデザインビューにドラッグして、このユーザーコントロールを `Default.aspx` に追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-133">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="058cc-134">[SectionLevelTutorialListing ユーザーコントロールを default.aspx に追加 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-134">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span></span>

<span data-ttu-id="058cc-135">**図 2**: `Default.aspx` に `SectionLevelTutorialListing.ascx` ユーザーコントロールを追加する ([クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png)されます)</span><span class="sxs-lookup"><span data-stu-id="058cc-135">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png))</span></span>

<span data-ttu-id="058cc-136">最後に、これらの4つのページをエントリとして `Web.sitemap` ファイルに追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-136">Lastly, add these four pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="058cc-137">具体的には、SqlDataSource コントロール `<siteMapNode>`を使用して、の後に次のマークアップを追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-137">Specifically, add the following markup after the Using the SqlDataSource Control `<siteMapNode>`:</span></span>

[!code-xml[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample1.xml)]

<span data-ttu-id="058cc-138">`Web.sitemap`を更新した後、ブラウザーを使用してチュートリアル web サイトを表示します。</span><span class="sxs-lookup"><span data-stu-id="058cc-138">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="058cc-139">左側のメニューには、チュートリアルの編集、挿入、および削除を行うための項目が含まれています。</span><span class="sxs-lookup"><span data-stu-id="058cc-139">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![サイトマップに、GridView チュートリアルを強化するためのエントリが含まれるようになりました。](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.gif)

<span data-ttu-id="058cc-141">**図 3**: サイトマップに GridView チュートリアルを強化するためのエントリが含まれるようになりました。</span><span class="sxs-lookup"><span data-stu-id="058cc-141">**Figure 3**: The Site Map Now Includes Entries for the Enhancing the GridView Tutorials</span></span>

## <a name="step-2-displaying-the-suppliers-in-a-gridview"></a><span data-ttu-id="058cc-142">手順 2: GridView での仕入先の表示</span><span class="sxs-lookup"><span data-stu-id="058cc-142">Step 2: Displaying the Suppliers in a GridView</span></span>

<span data-ttu-id="058cc-143">このチュートリアルでは、を使用して、USA の仕入先を一覧表示する GridView を作成します。各 GridView 行にはオプションボタンが用意されています。</span><span class="sxs-lookup"><span data-stu-id="058cc-143">For this tutorial let s build a GridView that lists the suppliers from the USA, with each GridView row providing a radio button.</span></span> <span data-ttu-id="058cc-144">オプションボタンを使用して仕入先を選択すると、ユーザーはボタンをクリックして仕入先の製品を表示できます。</span><span class="sxs-lookup"><span data-stu-id="058cc-144">After selecting a supplier via the radio button, the user can view the supplier s products by clicking a button.</span></span> <span data-ttu-id="058cc-145">このタスクは自明であると思われますが、特に注意が必要な微妙なことがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-145">While this task may sound trivial, there are a number of subtleties that make it particularly tricky.</span></span> <span data-ttu-id="058cc-146">これらの微妙な点について詳しく説明する前に、まず、サプライヤーを一覧表示する GridView を取得してみましょう。</span><span class="sxs-lookup"><span data-stu-id="058cc-146">Before we delve into these subtleties, let s first get a GridView listing the suppliers.</span></span>

<span data-ttu-id="058cc-147">まず、[ツールボックス] から GridView をデザイナーにドラッグして、`EnhancedGridView` フォルダー内の `RadioButtonField.aspx` のページを開きます。</span><span class="sxs-lookup"><span data-stu-id="058cc-147">Start by opening the `RadioButtonField.aspx` page in the `EnhancedGridView` folder by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="058cc-148">GridView の `ID` を `Suppliers` に設定し、そのスマートタグから新しいデータソースの作成を選択します。</span><span class="sxs-lookup"><span data-stu-id="058cc-148">Set the GridView s `ID` to `Suppliers` and, from its smart tag, choose to create a new data source.</span></span> <span data-ttu-id="058cc-149">具体的には、`SuppliersBLL` オブジェクトからデータをプルする `SuppliersDataSource` という名前の ObjectDataSource を作成します。</span><span class="sxs-lookup"><span data-stu-id="058cc-149">Specifically, create an ObjectDataSource named `SuppliersDataSource` that pulls its data from the `SuppliersBLL` object.</span></span>

<span data-ttu-id="058cc-150">[SuppliersDataSource という名前の新しい ObjectDataSource を作成 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-150">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span></span>

<span data-ttu-id="058cc-151">**図 4**: `SuppliersDataSource` という名前の新しい ObjectDataSource を作成[する (クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png)される)</span><span class="sxs-lookup"><span data-stu-id="058cc-151">**Figure 4**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png))</span></span>

<span data-ttu-id="058cc-152">[SuppliersBLL クラスを使用するように ObjectDataSource を構成 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-152">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span></span>

<span data-ttu-id="058cc-153">**図 5**: `SuppliersBLL` クラスを使用するように ObjectDataSource を構成する ([クリックしてフルサイズのイメージを表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-153">**Figure 5**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span></span>

<span data-ttu-id="058cc-154">ここでは、米国の業者を一覧表示するだけなので、[選択] タブのドロップダウンリストから `GetSuppliersByCountry(country)` 方法を選択します。</span><span class="sxs-lookup"><span data-stu-id="058cc-154">Since we only want to list those suppliers in the USA, choose the `GetSuppliersByCountry(country)` method from the drop-down list in the SELECT tab.</span></span>

<span data-ttu-id="058cc-155">[SuppliersBLL クラスを使用するように ObjectDataSource を構成 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-155">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span></span>

<span data-ttu-id="058cc-156">**図 6**: `SuppliersBLL` クラスを使用するように ObjectDataSource を構成する ([クリックしてフルサイズのイメージを表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-156">**Figure 6**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span></span>

<span data-ttu-id="058cc-157">[更新] タブで [(なし)] オプションを選択し、[次へ] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="058cc-157">From the UPDATE tab, select the (None) option and click Next.</span></span>

<span data-ttu-id="058cc-158">[SuppliersBLL クラスを使用するように ObjectDataSource を構成 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-158">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span></span>

<span data-ttu-id="058cc-159">**図 7**: `SuppliersBLL` クラスを使用するように ObjectDataSource を構成する ([クリックしてフルサイズのイメージを表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-159">**Figure 7**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span></span>

<span data-ttu-id="058cc-160">`GetSuppliersByCountry(country)` メソッドはパラメーターを受け取るため、データソースの構成ウィザードでは、そのパラメーターのソースの入力を求められます。</span><span class="sxs-lookup"><span data-stu-id="058cc-160">Since the `GetSuppliersByCountry(country)` method accepts a parameter, the Configure Data Source wizard prompts us for the source of that parameter.</span></span> <span data-ttu-id="058cc-161">ハードコーディングされた値 (この例では USA) を指定するには、[パラメーターのソース] ドロップダウンリストを [なし] のままにして、テキストボックスに既定値を入力します。</span><span class="sxs-lookup"><span data-stu-id="058cc-161">To specify a hard coded value ( USA, in this example), leave the Parameter source drop-down list set to None and enter the default value in the textbox.</span></span> <span data-ttu-id="058cc-162">[完了] をクリックしてウィザードを終了します。</span><span class="sxs-lookup"><span data-stu-id="058cc-162">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="058cc-163">[country パラメーターの既定値として USA を使用 ![](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-163">[![Use USA as the Default Value for the country Parameter](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span></span>

<span data-ttu-id="058cc-164">**図 8**: `country` パラメーターの既定値として USA を使用[する (クリックしてフルサイズのイメージを表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-164">**Figure 8**: Use USA as the Default Value for the `country` Parameter ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span></span>

<span data-ttu-id="058cc-165">ウィザードを完了すると、GridView には、各仕入先データフィールドの BoundField が含まれます。</span><span class="sxs-lookup"><span data-stu-id="058cc-165">After completing the wizard, the GridView will include a BoundField for each of the supplier data fields.</span></span> <span data-ttu-id="058cc-166">`CompanyName`、`City`、および `Country` BoundFields 以外のすべてを削除し、`CompanyName` BoundFields `HeaderText` プロパティの名前を Supplier に変更します。</span><span class="sxs-lookup"><span data-stu-id="058cc-166">Remove all but the `CompanyName`, `City`, and `Country` BoundFields, and rename the `CompanyName` BoundFields `HeaderText` property to Supplier.</span></span> <span data-ttu-id="058cc-167">その後、GridView と ObjectDataSource の宣言構文は次のようになります。</span><span class="sxs-lookup"><span data-stu-id="058cc-167">After doing so, the GridView and ObjectDataSource declarative syntax should look similar to the following.</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample2.aspx)]

<span data-ttu-id="058cc-168">このチュートリアルでは、を使用して、ユーザーが仕入先リストと同じページまたは別のページで選択した仕入先製品を表示できるようにします。</span><span class="sxs-lookup"><span data-stu-id="058cc-168">For this tutorial, let s allow the user to view the selected supplier s products on the same page as the supplier list, or on a different page.</span></span> <span data-ttu-id="058cc-169">これに対応するには、2つのボタン Web コントロールをページに追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-169">To accommodate this, add two Button Web controls to the page.</span></span> <span data-ttu-id="058cc-170">ここでは、これら2つのボタンの `ID` を `ListProducts` と `SendToProducts`に設定しました。 `ListProducts` をクリックすると、ポストバックが発生し、選択した仕入先の製品は同じページに表示されますが、`SendToProducts` がクリックされると、ユーザーは製品を一覧表示する別のページに whisked されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-170">I ve set the `ID` s of these two Buttons to `ListProducts` and `SendToProducts`, with the idea that when `ListProducts` is clicked a postback will occur and the selected supplier s products will be listed on the same page, but when `SendToProducts` is clicked, the user will be whisked to a another page that lists the products.</span></span>

<span data-ttu-id="058cc-171">図9に、ブラウザーで表示したときの `Suppliers` GridView と2つのボタンの Web コントロールを示します。</span><span class="sxs-lookup"><span data-stu-id="058cc-171">Figure 9 shows the `Suppliers` GridView and the two Button Web controls when viewed through a browser.</span></span>

<span data-ttu-id="058cc-172">[米国の仕入先 ![、名前、市区町村、および国の情報が記載されています。](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-172">[![Those Suppliers from the USA Have Their Name, City, and Country Information Listed](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span></span>

<span data-ttu-id="058cc-173">**図 9**: 米国の仕入先は、名前、市区町村、および国の情報を一覧表示します ([クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png)されます)</span><span class="sxs-lookup"><span data-stu-id="058cc-173">**Figure 9**: Those Suppliers from the USA Have Their Name, City, and Country Information Listed ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png))</span></span>

## <a name="step-3-adding-a-column-of-radio-buttons"></a><span data-ttu-id="058cc-174">手順 3: ラジオボタンの列の追加</span><span class="sxs-lookup"><span data-stu-id="058cc-174">Step 3: Adding a Column of Radio Buttons</span></span>

<span data-ttu-id="058cc-175">この時点で、`Suppliers` GridView には、米国の各業者の会社名、市区町村、および国を表示する、3つの連結されたフィールドがあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-175">At this point the `Suppliers` GridView has three BoundFields displaying the company name, city, and country of each supplier in the USA.</span></span> <span data-ttu-id="058cc-176">ただし、ラジオボタンの列はまだありません。</span><span class="sxs-lookup"><span data-stu-id="058cc-176">It is still lacking a column of radio buttons, however.</span></span> <span data-ttu-id="058cc-177">残念ながら、GridView には組み込みの RadioButtonField が含まれていません。それ以外の場合は、グリッドに追加するだけで完了です。</span><span class="sxs-lookup"><span data-stu-id="058cc-177">Unfortunately, the GridView doesn t include a built-in RadioButtonField, otherwise we could just add that to the grid and be done.</span></span> <span data-ttu-id="058cc-178">代わりに、TemplateField を追加し、オプションボタンを表示するように `ItemTemplate` を構成して、各 GridView 行に対してオプションボタンが表示されるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="058cc-178">Instead, we can add a TemplateField and configure its `ItemTemplate` to render a radio button, resulting in a radio button for each GridView row.</span></span>

<span data-ttu-id="058cc-179">最初は、TemplateField の `ItemTemplate` に RadioButton Web コントロールを追加することによって、目的のユーザーインターフェイスを実装できると想定することがあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-179">Initially, we might assume that the desired user interface can be implemented by adding a RadioButton Web control to the `ItemTemplate` of a TemplateField.</span></span> <span data-ttu-id="058cc-180">これにより、GridView の各行に1つのオプションボタンが追加されますが、オプションボタンはグループ化できないため、相互に排他的ではありません。</span><span class="sxs-lookup"><span data-stu-id="058cc-180">While this will indeed add a single radio button to each row of the GridView, the radio buttons cannot be grouped and therefore are not mutually exclusive.</span></span> <span data-ttu-id="058cc-181">つまり、エンドユーザーは、GridView から複数のオプションボタンを同時に選択できます。</span><span class="sxs-lookup"><span data-stu-id="058cc-181">That is, an end user is able to select multiple radio buttons simultaneously from the GridView.</span></span>

<span data-ttu-id="058cc-182">RadioButton Web コントロールの TemplateField を使用しても必要な機能が提供されない場合でも、では、この方法を実装します。これは、結果として得られるオプションボタンがグループ化されていない理由を調べるのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="058cc-182">Even though using a TemplateField of RadioButton Web controls does not offer the functionality we need, let s implement this approach, as it s worthwhile to examine why the resulting radio buttons are not grouped.</span></span> <span data-ttu-id="058cc-183">まず、TemplateField を [仕入先] GridView に追加して、左端のフィールドにします。</span><span class="sxs-lookup"><span data-stu-id="058cc-183">Start by adding a TemplateField to the Suppliers GridView, making it the leftmost field.</span></span> <span data-ttu-id="058cc-184">次に、GridView s スマートタグから、[テンプレートの編集] リンクをクリックし、RadioButton Web コントロールをツールボックスから TemplateField s `ItemTemplate` にドラッグします (図10を参照)。</span><span class="sxs-lookup"><span data-stu-id="058cc-184">Next, from the GridView s smart tag, click the Edit Templates link and drag a RadioButton Web control from the Toolbox into the TemplateField s `ItemTemplate` (see Figure 10).</span></span> <span data-ttu-id="058cc-185">RadioButton s `ID` プロパティを `RowSelector` に設定し、`GroupName` プロパティを `SuppliersGroup`に設定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-185">Set the RadioButton s `ID` property to `RowSelector` and the `GroupName` property to `SuppliersGroup`.</span></span>

<span data-ttu-id="058cc-186">[ItemTemplate に RadioButton Web コントロールを追加 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-186">[![Add a RadioButton Web Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span></span>

<span data-ttu-id="058cc-187">**図 10**: `ItemTemplate` に RadioButton Web コントロールを追加する ([クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png)されます)</span><span class="sxs-lookup"><span data-stu-id="058cc-187">**Figure 10**: Add a RadioButton Web Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png))</span></span>

<span data-ttu-id="058cc-188">デザイナーを使用してこれらを追加すると、GridView のマークアップは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="058cc-188">After making these additions through the Designer, your GridView s markup should look similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample3.aspx)]

<span data-ttu-id="058cc-189">RadioButton s [`GroupName` プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx)は、一連のオプションボタンをグループ化するために使用されるものです。</span><span class="sxs-lookup"><span data-stu-id="058cc-189">The RadioButton s [`GroupName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) is what is used to group a series of radio buttons.</span></span> <span data-ttu-id="058cc-190">同じ `GroupName` 値を持つ RadioButton コントロールはすべてグループ化されていると見なされます。グループから選択できるラジオボタンは一度に1つだけです。</span><span class="sxs-lookup"><span data-stu-id="058cc-190">All RadioButton controls with the same `GroupName` value are considered grouped; only one radio button can be selected from a group at a time.</span></span> <span data-ttu-id="058cc-191">`GroupName` プロパティは、表示されるオプションボタン s `name` 属性の値を指定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-191">The `GroupName` property specifies the value for the rendered radio button s `name` attribute.</span></span> <span data-ttu-id="058cc-192">ブラウザーは、オプションボタンの `name` 属性を調べて、オプションボタンのグループを決定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-192">The browser examines the radio buttons `name` attributes to determine the radio button groupings.</span></span>

<span data-ttu-id="058cc-193">`ItemTemplate`に RadioButton Web コントロールを追加した状態で、ブラウザーを使用してこのページにアクセスし、grid s 行のオプションボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="058cc-193">With the RadioButton Web control added to the `ItemTemplate`, visit this page through a browser and click on the radio buttons in the grid s rows.</span></span> <span data-ttu-id="058cc-194">オプションボタンがグループ化されていないことに注意してください。図11に示すように、すべての行を選択することができます。</span><span class="sxs-lookup"><span data-stu-id="058cc-194">Notice how the radio buttons are not grouped, making it possible to select all of the rows, as Figure 11 shows.</span></span>

<span data-ttu-id="058cc-195">[GridView s オプションボタンがグループ化されていない ![](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-195">[![The GridView s Radio Buttons are Not Grouped](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span></span>

<span data-ttu-id="058cc-196">**図 11**: GridView のオプションボタンがグループ化されていない ([クリックしてフルサイズのイメージを表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-196">**Figure 11**: The GridView s Radio Buttons are Not Grouped ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span></span>

<span data-ttu-id="058cc-197">オプションボタンがグループ化されていない理由は、同じ `GroupName` プロパティの設定があるにもかかわらず、表示される `name` 属性が異なるためです。</span><span class="sxs-lookup"><span data-stu-id="058cc-197">The reason the radio buttons are not grouped is because their rendered `name` attributes are different, despite having the same `GroupName` property setting.</span></span> <span data-ttu-id="058cc-198">これらの違いを確認するには、ブラウザーからビュー/ソースを実行し、ラジオボタンのマークアップを確認します。</span><span class="sxs-lookup"><span data-stu-id="058cc-198">To see these differences, do a View/Source from the browser and examine the radio button markup:</span></span>

[!code-html[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample4.html)]

<span data-ttu-id="058cc-199">`name` 属性と `id` 属性の両方が、プロパティウィンドウで指定されている正確な値ではなく、他の `ID` 値の前に付加されていることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="058cc-199">Notice how both the `name` and `id` attributes are not the exact values as specified in the Properties window, but are prepended with a number of other `ID` values.</span></span> <span data-ttu-id="058cc-200">表示される `id` と `name` 属性の前に追加の `ID` 値 `ID` が追加されています。親は、`GridViewRow` s、GridView の `ID`、コンテンツコントロール s `ID`、および Web フォーム s `ID`を制御します。`ID`</span><span class="sxs-lookup"><span data-stu-id="058cc-200">The additional `ID` values added to the front of the rendered `id` and `name` attributes are the `ID` s of the radio buttons parent controls the `GridViewRow` s `ID` s, the GridView s `ID`, the Content control s `ID`, and the Web Form s `ID`.</span></span> <span data-ttu-id="058cc-201">これらの `ID` は、GridView でレンダリングされる各 Web コントロールに一意の `id` と `name` 値があるように追加されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-201">These `ID` s are added so that each rendered Web control in the GridView has a unique `id` and `name` values.</span></span>

<span data-ttu-id="058cc-202">レンダリングされた各コントロールは、クライアント側の各コントロールを一意に識別する方法と、ポストバック時にどのように動作または変更が発生したかを web サーバーに識別する方法に応じて、異なる `name` と `id` を必要とします。</span><span class="sxs-lookup"><span data-stu-id="058cc-202">Each rendered control needs a different `name` and `id` because this is how the browser uniquely identifies each control on the client-side and how it identifies to the web server what action or change has occurred on postback.</span></span> <span data-ttu-id="058cc-203">たとえば、RadioButton s checked 状態が変更されたときに、一部のサーバー側コードを実行したいとします。</span><span class="sxs-lookup"><span data-stu-id="058cc-203">For example, imagine that we wanted to run some server-side code whenever a RadioButton s checked state was changed.</span></span> <span data-ttu-id="058cc-204">これを実現するには、RadioButton s `AutoPostBack` プロパティを `true` に設定し、`CheckChanged` イベントのイベントハンドラーを作成します。</span><span class="sxs-lookup"><span data-stu-id="058cc-204">We could accomplish this by setting the RadioButton s `AutoPostBack` property to `true` and creating an event handler for the `CheckChanged` event.</span></span> <span data-ttu-id="058cc-205">ただし、すべてのオプションボタンの表示された `name` と `id` の値が同じである場合、ポストバック時に、どの特定の RadioButton がクリックされたかを判断できませんでした。</span><span class="sxs-lookup"><span data-stu-id="058cc-205">However, if the rendered `name` and `id` values for all of the radio buttons were the same, on postback we could not determine what specific RadioButton was clicked.</span></span>

<span data-ttu-id="058cc-206">そのうち、RadioButton で RadioButton Web コントロールを使用してオプションボタンの列を作成できないということです。</span><span class="sxs-lookup"><span data-stu-id="058cc-206">The short of it is that we cannot create a column of radio buttons in a GridView using the RadioButton Web control.</span></span> <span data-ttu-id="058cc-207">代わりに、各 GridView 行に適切なマークアップが挿入されるように、むしろデプロイシステム手法を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-207">Instead, we must use rather archaic techniques to ensure that the appropriate markup is injected into each GridView row.</span></span>

> [!NOTE]
> <span data-ttu-id="058cc-208">RadioButton Web コントロールと同様に、オプションボタンの HTML コントロールは、テンプレートに追加されると、一意の `name` 属性を含むようになり、グリッド内のオプションボタンはグループ化されません。</span><span class="sxs-lookup"><span data-stu-id="058cc-208">Like the RadioButton Web control, the radio button HTML control, when added to a template, will include the unique `name` attribute, making the radio buttons in the grid ungrouped.</span></span> <span data-ttu-id="058cc-209">Html コントロールに慣れていない場合は、HTML コントロールがあまり使用されない (特に ASP.NET 2.0 では) ため、この点についてはおわかりにならないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="058cc-209">If you are not familiar with HTML controls, feel free to disregard this note, as HTML controls are rarely used, especially in ASP.NET 2.0.</span></span> <span data-ttu-id="058cc-210">詳細については、「 [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s のブログエントリ[WEB コントロールと HTML コントロール](http://www.odetocode.com/Articles/348.aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="058cc-210">But if you are interested in learning more, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s blog entry [Web Controls and HTML Controls](http://www.odetocode.com/Articles/348.aspx).</span></span>

## <a name="using-a-literal-control-to-inject-radio-button-markup"></a><span data-ttu-id="058cc-211">Literal コントロールを使用してオプションボタンのマークアップを挿入する</span><span class="sxs-lookup"><span data-stu-id="058cc-211">Using a Literal Control to Inject Radio Button Markup</span></span>

<span data-ttu-id="058cc-212">GridView 内のすべてのオプションボタンを正しくグループ化するには、オプションボタンのマークアップを `ItemTemplate`に手動で挿入する必要があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-212">In order to correctly group all of the radio buttons within the GridView, we need to manually inject the radio buttons markup into the `ItemTemplate`.</span></span> <span data-ttu-id="058cc-213">各オプションボタンは、同じ `name` 属性を必要としますが、一意の `id` 属性を持つ必要があります (クライアント側スクリプトを使用してラジオボタンにアクセスする場合)。</span><span class="sxs-lookup"><span data-stu-id="058cc-213">Each radio button needs the same `name` attribute, but should have a unique `id` attribute (in case we want to access a radio button via client-side script).</span></span> <span data-ttu-id="058cc-214">ユーザーがラジオボタンを選択してページをポストバックすると、選択したオプションボタン s `value` 属性の値がブラウザーから返送されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-214">After a user selects a radio button and posts back the page, the browser will send back the value of the selected radio button s `value` attribute.</span></span> <span data-ttu-id="058cc-215">したがって、各オプションボタンには、一意の `value` 属性が必要です。</span><span class="sxs-lookup"><span data-stu-id="058cc-215">Therefore, each radio button will need a unique `value` attribute.</span></span> <span data-ttu-id="058cc-216">最後に、ポストバック時に、選択されているオプションボタンに `checked` 属性を追加する必要があります。そうしないと、ユーザーが選択とポストバックを行った後、オプションボタンが既定の状態に戻ります (すべて選択解除されています)。</span><span class="sxs-lookup"><span data-stu-id="058cc-216">Finally, on postback we need to make sure to add the `checked` attribute to the one radio button that is selected, otherwise after the user makes a selection and posts back, the radio buttons will return to their default state (all unselected).</span></span>

<span data-ttu-id="058cc-217">低レベルのマークアップをテンプレートに挿入するには、2つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-217">There are two approaches that can be taken in order to inject low-level markup into a template.</span></span> <span data-ttu-id="058cc-218">1つは、マークアップと呼び出しを組み合わせて、分離コードクラスで定義された書式指定メソッドを呼び出すことです。</span><span class="sxs-lookup"><span data-stu-id="058cc-218">One is to do a mix of markup and calls to formatting methods defined in the code-behind class.</span></span> <span data-ttu-id="058cc-219">この手法については、 [GridView コントロールのチュートリアルの「Templatetemplatefields](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) 」で最初に説明しました。</span><span class="sxs-lookup"><span data-stu-id="058cc-219">This technique was first discussed in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span> <span data-ttu-id="058cc-220">この例では、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="058cc-220">In our case it might look something like:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample5.aspx)]

<span data-ttu-id="058cc-221">ここでは、`GetUniqueRadioButton` と `GetRadioButtonValue` は、各オプションボタンの適切な `id` および `value` 属性値を返す分離コードクラスで定義されたメソッドです。</span><span class="sxs-lookup"><span data-stu-id="058cc-221">Here, `GetUniqueRadioButton` and `GetRadioButtonValue` would be methods defined in the code-behind class that returned the appropriate `id` and `value` attribute values for each radio button.</span></span> <span data-ttu-id="058cc-222">この方法は、`id` 属性と `value` 属性を割り当てる場合に適していますが、データが最初に GridView にバインドされたときにのみデータバインド構文が実行されるため、`checked` 属性値を指定する必要がある場合は短すぎます。</span><span class="sxs-lookup"><span data-stu-id="058cc-222">This approach works well for assigning the `id` and `value` attributes, but falls short when needing to specify the `checked` attribute value because the databinding syntax is only executed when data is first bound to the GridView.</span></span> <span data-ttu-id="058cc-223">したがって、GridView でビューステートが有効になっている場合は、ページが最初に読み込まれたとき (または GridView がデータソースに明示的に再バインドされたとき) にのみ、書式設定メソッドが起動されます。したがって、`checked` 属性を設定する関数はポストバック時に呼び出されません。</span><span class="sxs-lookup"><span data-stu-id="058cc-223">Therefore, if the GridView has view state enabled, the formatting methods will only fire when the page is first loaded (or when the GridView is explicitly rebound to the data source), and therefore the function that sets the `checked` attribute won't be called on postback.</span></span> <span data-ttu-id="058cc-224">これは少し問題があり、この記事の範囲を超えているので、そのままにしておきます。</span><span class="sxs-lookup"><span data-stu-id="058cc-224">It s a rather subtle problem and a bit beyond the scope of this article, so I'll leave it at this.</span></span> <span data-ttu-id="058cc-225">ただし、上記の方法を使用して、行き詰まってくるポイントまで処理することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="058cc-225">I do, however, encourage you to try using the above approach and work it through to the point where you'll get stuck.</span></span> <span data-ttu-id="058cc-226">このような演習では、作業バージョンについては詳しく説明しませんが、GridView とデータバインドのライフサイクルをより深く理解するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="058cc-226">While such an exercise won't get you any closer to a working version, it will help foster a deeper understanding of the GridView and the databinding lifecycle.</span></span>

<span data-ttu-id="058cc-227">テンプレートにカスタムの低レベルのマークアップを挿入するもう1つの方法と、このチュートリアルで使用する方法は、テンプレートに[リテラルコントロール](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx)を追加することです。</span><span class="sxs-lookup"><span data-stu-id="058cc-227">The other approach to injecting custom, low-level markup in a template and the approach that we'll be using for this tutorial is to add a [Literal control](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) to the template.</span></span> <span data-ttu-id="058cc-228">次に、GridView s `RowCreated` または `RowDataBound` イベントハンドラーで、リテラルコントロールにプログラムでアクセスし、その `Text` プロパティを出力するマークアップに設定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-228">Then, in the GridView s `RowCreated` or `RowDataBound` event handler, the Literal control can be programmatically accessed and its `Text` property set to the markup to emit.</span></span>

<span data-ttu-id="058cc-229">まず、TemplateField s `ItemTemplate`から RadioButton を削除し、Literal コントロールに置き換えます。</span><span class="sxs-lookup"><span data-stu-id="058cc-229">Start by removing the RadioButton from the TemplateField s `ItemTemplate`, replacing it with a Literal control.</span></span> <span data-ttu-id="058cc-230">リテラルコントロール s `ID` を `RadioButtonMarkup`に設定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-230">Set the Literal control s `ID` to `RadioButtonMarkup`.</span></span>

<span data-ttu-id="058cc-231">[リテラルコントロールを ItemTemplate に追加 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-231">[![Add a Literal Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span></span>

<span data-ttu-id="058cc-232">**図 12**: `ItemTemplate` にリテラルコントロールを追加する ([クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png)されます)</span><span class="sxs-lookup"><span data-stu-id="058cc-232">**Figure 12**: Add a Literal Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png))</span></span>

<span data-ttu-id="058cc-233">次に、GridView s `RowCreated` イベントのイベントハンドラーを作成します。</span><span class="sxs-lookup"><span data-stu-id="058cc-233">Next, create an event handler for the GridView s `RowCreated` event.</span></span> <span data-ttu-id="058cc-234">`RowCreated` イベントは、データが GridView に再バインドされているかどうかにかかわらず、追加されたすべての行に対して1回発生します。</span><span class="sxs-lookup"><span data-stu-id="058cc-234">The `RowCreated` event fires once for every row added, whether or not the data is being rebound to the GridView.</span></span> <span data-ttu-id="058cc-235">つまり、データがビューステートから再読み込みされた場合でも、ポストバック時には `RowCreated` イベントが発生します。これは、`RowDataBound` (データがデータ Web コントロールに明示的にバインドされている場合にのみ発生する) ではなく、このイベントが使用されるためです。</span><span class="sxs-lookup"><span data-stu-id="058cc-235">That means that even on a postback when the data is reloaded from view state, the `RowCreated` event still fires and this is the reason we are using it instead of `RowDataBound` (which fires only when the data is explicitly bound to the data Web control).</span></span>

<span data-ttu-id="058cc-236">このイベントハンドラーでは、データ行を処理している場合にのみ続行します。</span><span class="sxs-lookup"><span data-stu-id="058cc-236">In this event handler, we only want to proceed if we re dealing with a data row.</span></span> <span data-ttu-id="058cc-237">データ行ごとに、プログラムを使用して `RadioButtonMarkup` リテラルコントロールを参照し、その `Text` プロパティを、出力するマークアップに設定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-237">For each data row we want to programmatically reference the `RadioButtonMarkup` Literal control and set its `Text` property to the markup to emit.</span></span> <span data-ttu-id="058cc-238">次のコードに示すように、出力されたマークアップは、`name` 属性が `SuppliersGroup`に設定されているオプションボタンを作成します。このボタンには、`id` 属性が `RowSelectorX`に設定されています。ここで、 *X*は gridview 行のインデックスで、`value` 属性は gridview 行のインデックスに設定されています。</span><span class="sxs-lookup"><span data-stu-id="058cc-238">As the following code shows, the markup emitted creates a radio button whose `name` attribute is set to `SuppliersGroup`, whose `id` attribute is set to `RowSelectorX`, where *X* is the index of the GridView row, and whose `value` attribute is set to the index of the GridView row.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample6.cs)]

<span data-ttu-id="058cc-239">GridView 行が選択され、ポストバックが発生すると、選択した業者の `SupplierID` に関心があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-239">When a GridView row is selected and a postback occurs, we are interested in the `SupplierID` of the selected supplier.</span></span> <span data-ttu-id="058cc-240">したがって、各オプションボタンの値は、GridView 行のインデックスではなく、実際の `SupplierID` であると考えることができます。</span><span class="sxs-lookup"><span data-stu-id="058cc-240">Therefore, one might think that the value of each radio button should be the actual `SupplierID` (rather than the index of the GridView row).</span></span> <span data-ttu-id="058cc-241">これは特定の状況で動作する場合がありますが、`SupplierID`を無条件で受け入れて処理することによって、セキュリティ上のリスクが生じる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-241">While this may work in certain circumstances, it would be a security risk to blindly accept and process a `SupplierID`.</span></span> <span data-ttu-id="058cc-242">たとえば、GridView では、米国の仕入先のみが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-242">Our GridView, for example, lists only those suppliers in the USA.</span></span> <span data-ttu-id="058cc-243">ただし、`SupplierID` がオプションボタンから直接渡された場合、mischievous ユーザーがポストバック時に返された `SupplierID` 値を操作できないようにするにはどうすればよいでしょうか。</span><span class="sxs-lookup"><span data-stu-id="058cc-243">However, if the `SupplierID` is passed directly from the radio button, what s to stop a mischievous user from manipulating the `SupplierID` value sent back on postback?</span></span> <span data-ttu-id="058cc-244">行インデックスを `value`として使用し、`DataKeys` コレクションからポストバックで `SupplierID` を取得することにより、ユーザーがいずれかの GridView 行に関連付けられている `SupplierID` 値の1つのみを使用していることを確認できます。</span><span class="sxs-lookup"><span data-stu-id="058cc-244">By using the row index as the `value`, and then getting the `SupplierID` on postback from the `DataKeys` collection, we can ensure that the user is only using one of the `SupplierID` values associated with one of the GridView rows.</span></span>

<span data-ttu-id="058cc-245">このイベントハンドラーコードを追加した後、ブラウザーでページをテストするために1分かかります。</span><span class="sxs-lookup"><span data-stu-id="058cc-245">After adding this event handler code, take a minute to test out the page in a browser.</span></span> <span data-ttu-id="058cc-246">まず、グリッド内のラジオボタンは一度に1つしか選択できないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="058cc-246">First, note that only one radio button in the grid can be selected at a time.</span></span> <span data-ttu-id="058cc-247">ただし、ラジオボタンを選択し、いずれかのボタンをクリックすると、ポストバックが発生し、ラジオボタンがすべて初期状態に戻ります (つまり、ポストバック時に、選択したオプションボタンが選択されなくなります)。</span><span class="sxs-lookup"><span data-stu-id="058cc-247">However, when selecting a radio button and clicking one of the buttons, a postback occurs and the radio buttons all revert to their initial state (that is, on postback, the selected radio button is no longer selected).</span></span> <span data-ttu-id="058cc-248">この問題を解決するには、ポストバックから送信された選択したオプションボタンのインデックスを調べて、一致する行インデックスの出力マークアップに `checked="checked"` 属性を追加するように、`RowCreated` イベントハンドラーを拡張する必要があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-248">To fix this, we need to augment the `RowCreated` event handler so that it inspects the selected radio button index sent from the postback and adds the `checked="checked"` attribute to the emitted markup of the row index matches.</span></span>

<span data-ttu-id="058cc-249">ポストバックが発生すると、ブラウザーは、選択したラジオボタンの `name` と `value` を返します。</span><span class="sxs-lookup"><span data-stu-id="058cc-249">When a postback occurs, the browser sends back the `name` and `value` of the selected radio button.</span></span> <span data-ttu-id="058cc-250">この値は、`Request.Form["name"]`を使用してプログラムで取得できます。</span><span class="sxs-lookup"><span data-stu-id="058cc-250">The value can be programmatically retrieved using `Request.Form["name"]`.</span></span> <span data-ttu-id="058cc-251">[`Request.Form` プロパティ](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx)は、フォーム変数を表す[`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx)を提供します。</span><span class="sxs-lookup"><span data-stu-id="058cc-251">The [`Request.Form` property](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) provides a [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) representing the form variables.</span></span> <span data-ttu-id="058cc-252">フォーム変数は、web ページ内のフォームフィールドの名前と値であり、ポストバック ensues が行われるたびに web ブラウザーによって送信されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-252">The form variables are the names and values of the form fields in the web page, and are sent back by the web browser whenever a postback ensues.</span></span> <span data-ttu-id="058cc-253">GridView のオプションボタンに表示される `name` 属性は `SuppliersGroup`ので、web ページがポストバックされると、ブラウザーは `SuppliersGroup=valueOfSelectedRadioButton` を web サーバーに送り返します (他のフォームフィールドと共に)。</span><span class="sxs-lookup"><span data-stu-id="058cc-253">Because the rendered `name` attribute of the radio buttons in the GridView is `SuppliersGroup`, when the web page is posted back the browser will send `SuppliersGroup=valueOfSelectedRadioButton` back to the web server (along with the other form fields).</span></span> <span data-ttu-id="058cc-254">この情報には、次を使用して `Request.Form` プロパティからアクセスできます: `Request.Form["SuppliersGroup"]`。</span><span class="sxs-lookup"><span data-stu-id="058cc-254">This information can then be accessed from the `Request.Form` property using: `Request.Form["SuppliersGroup"]`.</span></span>

<span data-ttu-id="058cc-255">選択したオプションボタンのインデックスは `RowCreated` イベントハンドラーだけでなく、ボタン Web コントロールの `Click` イベントハンドラーでも決定する必要があるため、では、オプションボタンが選択されていない場合は `-1` を返すコードビハインドクラスに `SuppliersSelectedIndex` プロパティを追加し、オプションボタンのいずれかを選択した場合は選択したインデックスを追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-255">Since we'll need to determine the selected radio button index not only in the `RowCreated` event handler, but in the `Click` event handlers for the Button Web controls, let s add a `SuppliersSelectedIndex` property to the code-behind class that returns `-1` if no radio button was selected and the selected index if one of the radio buttons is selected.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample7.cs)]

<span data-ttu-id="058cc-256">このプロパティを追加すると、`SuppliersSelectedIndex` が `e.Row.RowIndex`に等しい場合に、`RowCreated` イベントハンドラーに `checked="checked"` マークアップを追加することがわかっています。</span><span class="sxs-lookup"><span data-stu-id="058cc-256">With this property added, we know to add the `checked="checked"` markup in the `RowCreated` event handler when `SuppliersSelectedIndex` equals `e.Row.RowIndex`.</span></span> <span data-ttu-id="058cc-257">このロジックを含めるようにイベントハンドラーを更新します。</span><span class="sxs-lookup"><span data-stu-id="058cc-257">Update the event handler to include this logic:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample8.cs)]

<span data-ttu-id="058cc-258">この変更により、ポストバック後も選択したオプションボタンが選択されたままになります。</span><span class="sxs-lookup"><span data-stu-id="058cc-258">With this change, the selected radio button remains selected after a postback.</span></span> <span data-ttu-id="058cc-259">選択されているラジオボタンを指定できるようになったので、動作を変更して、ページが最初にアクセスされたときに、既定ではオプションボタンが選択されていません。動作)。</span><span class="sxs-lookup"><span data-stu-id="058cc-259">Now that we have the ability to specify what radio button is selected, we could change the behavior so that when the page was first visited, the first GridView row s radio button was selected (rather than having no radio buttons selected by default, which is the current behavior).</span></span> <span data-ttu-id="058cc-260">最初のオプションボタンが既定で選択されるようにするには、単に `if (SuppliersSelectedIndex == e.Row.RowIndex)` ステートメントを次のように変更します。 `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`。</span><span class="sxs-lookup"><span data-stu-id="058cc-260">To have the first radio button selected by default, simply change the `if (SuppliersSelectedIndex == e.Row.RowIndex)` statement to the following: `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`.</span></span>

<span data-ttu-id="058cc-261">この時点で、1つの GridView 行を選択し、ポストバック間で記憶できるようにするための、グループ化されたオプションボタンの列を GridView に追加しました。</span><span class="sxs-lookup"><span data-stu-id="058cc-261">At this point we have added a column of grouped radio buttons to the GridView that allows for a single GridView row to be selected and remembered across postbacks.</span></span> <span data-ttu-id="058cc-262">次の手順では、選択した業者によって提供される製品を表示します。</span><span class="sxs-lookup"><span data-stu-id="058cc-262">Our next steps are to display the products provided by the selected supplier.</span></span> <span data-ttu-id="058cc-263">手順4では、ユーザーを別のページにリダイレクトし、選択した `SupplierID`に従って送信する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-263">In Step 4 we'll see how to redirect the user to another page, sending along the selected `SupplierID`.</span></span> <span data-ttu-id="058cc-264">手順5では、選択した仕入先の製品を同じページの GridView に表示する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-264">In Step 5, we'll see how to display the selected supplier s products in a GridView on the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="058cc-265">TemplateField (この長い手順3の焦点) を使用するのではなく、適切なユーザーインターフェイスと機能をレンダリングするカスタム `DataControlField` クラスを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="058cc-265">Rather than using a TemplateField (the focus of this lengthy Step 3), we could create a custom `DataControlField` class that renders the appropriate user interface and functionality.</span></span> <span data-ttu-id="058cc-266">[`DataControlField` クラス](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx)は、BoundField、CheckBoxField、TemplateField、およびその他の組み込み GridView および DetailsView フィールドが派生する基本クラスです。</span><span class="sxs-lookup"><span data-stu-id="058cc-266">The [`DataControlField` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) is the base class from which the BoundField, CheckBoxField, TemplateField, and other built-in GridView and DetailsView fields derive.</span></span> <span data-ttu-id="058cc-267">カスタム `DataControlField` クラスを作成すると、オプションボタンの列が宣言型の構文を使用してのみ追加され、他の web ページや他の web アプリケーションにも機能を簡単にレプリケートできるようになります。</span><span class="sxs-lookup"><span data-stu-id="058cc-267">Creating a custom `DataControlField` class would mean that the column of radio buttons could be added just using declarative syntax, and would also make replicating the functionality on other web pages and other web applications significantly easier.</span></span>

<span data-ttu-id="058cc-268">ただし、ASP.NET でカスタムのコンパイル済みコントロールを作成したことがある場合は、それを行うにはかなりの量の業務が必要であり、慎重に処理する必要がある微妙なものとエッジケースをホストしていることがわかっています。</span><span class="sxs-lookup"><span data-stu-id="058cc-268">If you ve ever created custom, compiled controls in ASP.NET, however, you know that doing so requires a fair amount of legwork and carries with it a host of subtleties and edge cases that must be carefully handled.</span></span> <span data-ttu-id="058cc-269">そのため、ここでは、オプションボタンの列をカスタム `DataControlField` クラスとして実装し、TemplateField オプションを済ませるします。</span><span class="sxs-lookup"><span data-stu-id="058cc-269">Therefore, we will forgo implementing a column of radio buttons as a custom `DataControlField` class for now and stick with the TemplateField option.</span></span> <span data-ttu-id="058cc-270">今後のチュートリアルでは、カスタム `DataControlField` クラスの作成、使用、デプロイについて確認できる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-270">Perhaps we'll have the chance to explore creating, using, and deploying custom `DataControlField` classes in a future tutorial!</span></span>

## <a name="step-4-displaying-the-selected-supplier-s-products-in-a-separate-page"></a><span data-ttu-id="058cc-271">手順 4: 選択した仕入先製品を別のページに表示する</span><span class="sxs-lookup"><span data-stu-id="058cc-271">Step 4: Displaying the Selected Supplier s Products in a Separate Page</span></span>

<span data-ttu-id="058cc-272">ユーザーが GridView 行を選択したら、選択した仕入先製品を表示する必要があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-272">After the user has selected a GridView row, we need to show the selected supplier s products.</span></span> <span data-ttu-id="058cc-273">状況によっては、これらの製品を別のページに表示することが必要になる場合があります。他の場合は、同じページで行うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="058cc-273">In some circumstances, we may want to display these products in a separate page, in others we might prefer to do it in the same page.</span></span> <span data-ttu-id="058cc-274">まず、製品を別のページに表示する方法を見てみましょう。手順5では、選択した仕入先の製品を表示するために `RadioButtonField.aspx` に GridView を追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-274">Let s first examine how to display the products in a separate page; in Step 5 we'll look at adding a GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="058cc-275">現在、ページ `ListProducts` と `SendToProducts`の2つのボタン Web コントロールがあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-275">Currently there are two Button Web controls on the page `ListProducts` and `SendToProducts`.</span></span> <span data-ttu-id="058cc-276">`SendToProducts` ボタンをクリックすると、ユーザーを `~/Filtering/ProductsForSupplierDetails.aspx`に送信します。</span><span class="sxs-lookup"><span data-stu-id="058cc-276">When the `SendToProducts` Button is clicked, we want to send the user to `~/Filtering/ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="058cc-277">このページは、「 [2 ページでのマスター/詳細のフィルター処理](../masterdetail/master-detail-filtering-across-two-pages-cs.md)」チュートリアルで作成され、`SupplierID`という名前のクエリ文字列フィールドを通じて `SupplierID` が渡される業者の製品を表示します。</span><span class="sxs-lookup"><span data-stu-id="058cc-277">This page was created in the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial and displays the products for the supplier whose `SupplierID` is passed through the querystring field named `SupplierID`.</span></span>

<span data-ttu-id="058cc-278">この機能を提供するには、`SendToProducts` Button s `Click` イベントのイベントハンドラーを作成します。</span><span class="sxs-lookup"><span data-stu-id="058cc-278">To provide this functionality, create an event handler for the `SendToProducts` Button s `Click` event.</span></span> <span data-ttu-id="058cc-279">手順3では、`SuppliersSelectedIndex` プロパティを追加しました。このプロパティは、オプションボタンが選択されている行のインデックスを返します。</span><span class="sxs-lookup"><span data-stu-id="058cc-279">In Step 3 we added the `SuppliersSelectedIndex` property, which returns the index of the row whose radio button is selected.</span></span> <span data-ttu-id="058cc-280">対応する `SupplierID` を GridView の `DataKeys` コレクションから取得できます。ユーザーは `Response.Redirect("url")`を使用して `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` に送信できます。</span><span class="sxs-lookup"><span data-stu-id="058cc-280">The corresponding `SupplierID` can be retrieved from the GridView s `DataKeys` collection and the user can then be sent to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` using `Response.Redirect("url")`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample9.cs)]

<span data-ttu-id="058cc-281">このコードは、オプションボタンの1つが GridView から選択されている限り、てで動作します。</span><span class="sxs-lookup"><span data-stu-id="058cc-281">This code works wonderfully as long as one of the radio buttons is selected from the GridView.</span></span> <span data-ttu-id="058cc-282">初期状態では、GridView にオプションボタンが選択されておらず、ユーザーが [`SendToProducts`] ボタンをクリックした場合、`SuppliersSelectedIndex` は `-1`されます。これにより、`-1` は `DataKeys` コレクションのインデックス範囲を超えているため、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="058cc-282">If, initially, the GridView does not have any radio buttons selected, and the user clicks the `SendToProducts` button, `SuppliersSelectedIndex` will be `-1`, which will cause an exception to be thrown since `-1` is out of the index range of the `DataKeys` collection.</span></span> <span data-ttu-id="058cc-283">ただし、手順 3. で説明したように `RowCreated` イベントハンドラーを更新することにした場合は、GridView の最初のオプションボタンが最初に選択されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-283">This is not a concern, however, if you decided to update the `RowCreated` event handler as discussed in Step 3 so as to have the first radio button in the GridView initially selected.</span></span>

<span data-ttu-id="058cc-284">`-1`の `SuppliersSelectedIndex` 値に対応するには、GridView の上のページにラベル Web コントロールを追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-284">To accommodate a `SuppliersSelectedIndex` value of `-1`, add a Label Web control to the page above the GridView.</span></span> <span data-ttu-id="058cc-285">`ID` プロパティを `ChooseSupplierMsg`に、その `CssClass` プロパティを `Warning`に、`EnableViewState` プロパティと `Visible` プロパティを `false`に設定し、その `Text` プロパティをグリッドから業者を選択します。</span><span class="sxs-lookup"><span data-stu-id="058cc-285">Set its `ID` property to `ChooseSupplierMsg`, its `CssClass` property to `Warning`, its `EnableViewState` and `Visible` properties to `false`, and its `Text` property to Please choose a supplier from the grid.</span></span> <span data-ttu-id="058cc-286">CSS クラス `Warning` は、赤、斜体、太字、大きいフォントでテキストを表示し、`Styles.css`で定義されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-286">The CSS class `Warning` displays text in a red, italic, bold, large font and is defined in `Styles.css`.</span></span> <span data-ttu-id="058cc-287">`EnableViewState` および `Visible` プロパティを `false`に設定すると、コントロール s `Visible` プロパティがプログラムによって `true`に設定されているポストバックだけを除き、ラベルはレンダリングされません。</span><span class="sxs-lookup"><span data-stu-id="058cc-287">By setting the `EnableViewState` and `Visible` properties to `false`, the Label is not rendered except for only those postbacks where the control s `Visible` property is programmatically set to `true`.</span></span>

<span data-ttu-id="058cc-288">[GridView の上にラベル Web コントロールを追加 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-288">[![Add a Label Web Control Above the GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span></span>

<span data-ttu-id="058cc-289">**図 13**: GridView の上にラベル Web コントロールを追加[する (クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png)されます)</span><span class="sxs-lookup"><span data-stu-id="058cc-289">**Figure 13**: Add a Label Web Control Above the GridView ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png))</span></span>

<span data-ttu-id="058cc-290">次に、`SuppliersSelectedIndex` が0未満の場合に `ChooseSupplierMsg` ラベルを表示するように `Click` イベントハンドラーを拡張し、それ以外の場合はユーザーを `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` にリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="058cc-290">Next, augment the `Click` event handler to display the `ChooseSupplierMsg` Label if `SuppliersSelectedIndex` is less than zero, and redirect the user to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` otherwise.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample10.cs)]

<span data-ttu-id="058cc-291">ブラウザーでページにアクセスし、GridView から業者を選択する前に [`SendToProducts`] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="058cc-291">Visit the page in a browser and click the `SendToProducts` button before selecting a supplier from the GridView.</span></span> <span data-ttu-id="058cc-292">図14に示すように、`ChooseSupplierMsg` ラベルが表示されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-292">As Figure 14 shows, this displays the `ChooseSupplierMsg` label.</span></span> <span data-ttu-id="058cc-293">次に、業者を選択し、[`SendToProducts`] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="058cc-293">Next, select a supplier and click the `SendToProducts` button.</span></span> <span data-ttu-id="058cc-294">これにより、選択した業者によって提供される製品が一覧表示されたページに whisk ます。</span><span class="sxs-lookup"><span data-stu-id="058cc-294">This will whisk you to a page that lists the products supplied by the selected supplier.</span></span> <span data-ttu-id="058cc-295">図15は、Bigfoot Breweries supplier が選択されたときの `ProductsForSupplierDetails.aspx` ページを示しています。</span><span class="sxs-lookup"><span data-stu-id="058cc-295">Figure 15 shows the `ProductsForSupplierDetails.aspx` page when the Bigfoot Breweries supplier was selected.</span></span>

<span data-ttu-id="058cc-296">[ChooseSupplierMsg ラベルは、業者が選択されていない場合に表示され ![](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-296">[![The ChooseSupplierMsg Label is Displayed if No Supplier is Selected](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span></span>

<span data-ttu-id="058cc-297">**図 14**: 業者が選択されていない場合に `ChooseSupplierMsg` ラベルが表示される ([クリックしてフルサイズの画像を表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-297">**Figure 14**: The `ChooseSupplierMsg` Label is Displayed if No Supplier is Selected ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span></span>

<span data-ttu-id="058cc-298">[選択した仕入先の製品 ![ProductsForSupplierDetails に表示されます。](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-298">[![The Selected Supplier s Products are Displayed in ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span></span>

<span data-ttu-id="058cc-299">**図 15**: 選択した仕入先の製品が `ProductsForSupplierDetails.aspx` に表示される ([クリックしてフルサイズの画像を表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-299">**Figure 15**: The Selected Supplier s Products are Displayed in `ProductsForSupplierDetails.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span></span>

## <a name="step-5-displaying-the-selected-supplier-s-products-on-the-same-page"></a><span data-ttu-id="058cc-300">手順 5: 選択した仕入先の製品を同じページに表示する</span><span class="sxs-lookup"><span data-stu-id="058cc-300">Step 5: Displaying the Selected Supplier s Products on the Same Page</span></span>

<span data-ttu-id="058cc-301">手順4では、ユーザーを別の web ページに送信して、選択した仕入先製品を表示する方法を説明しました。</span><span class="sxs-lookup"><span data-stu-id="058cc-301">In Step 4 we saw how to send the user to another web page to display the selected supplier s products.</span></span> <span data-ttu-id="058cc-302">または、選択した仕入先の製品を同じページに表示することもできます。</span><span class="sxs-lookup"><span data-stu-id="058cc-302">Alternatively, the selected supplier s products can be displayed on the same page.</span></span> <span data-ttu-id="058cc-303">これを説明するために、`RadioButtonField.aspx` に別の GridView を追加して、選択した仕入先製品を表示します。</span><span class="sxs-lookup"><span data-stu-id="058cc-303">To illustrate this, we'll add another GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="058cc-304">この GridView の製品は、業者を選択した後にのみ表示されるようにするため、`Suppliers` GridView の下に Panel Web コントロールを追加し、その `ID` を `ProductsBySupplierPanel` に設定し、その `Visible` プロパティを `false`に設定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-304">Since we only want this GridView of products to display once a supplier has been selected, add a Panel Web control beneath the `Suppliers` GridView, setting its `ID` to `ProductsBySupplierPanel` and its `Visible` property to `false`.</span></span> <span data-ttu-id="058cc-305">パネル内で、選択した業者のテキスト製品を追加し、その後に `ProductsBySupplier`という名前の GridView を追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-305">Within the Panel, add the text Products for the Selected Supplier, followed by a GridView named `ProductsBySupplier`.</span></span> <span data-ttu-id="058cc-306">GridView s スマートタグから、`ProductsBySupplierDataSource`という名前の新しい ObjectDataSource にバインドすることを選択します。</span><span class="sxs-lookup"><span data-stu-id="058cc-306">From the GridView s smart tag, choose to bind it to a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span>

<span data-ttu-id="058cc-307">[製品 Bysupplier GridView を新しい ObjectDataSource にバインド ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-307">[![Bind the ProductsBySupplier GridView to a New ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span></span>

<span data-ttu-id="058cc-308">**図 16**: `ProductsBySupplier` GridView を新しい ObjectDataSource にバインドする ([クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png)されます)</span><span class="sxs-lookup"><span data-stu-id="058cc-308">**Figure 16**: Bind the `ProductsBySupplier` GridView to a New ObjectDataSource ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png))</span></span>

<span data-ttu-id="058cc-309">次に、`ProductsBLL` クラスを使用するように ObjectDataSource を構成します。</span><span class="sxs-lookup"><span data-stu-id="058cc-309">Next, configure the ObjectDataSource to use the `ProductsBLL` class.</span></span> <span data-ttu-id="058cc-310">選択した業者によって提供される製品のみを取得する必要があるため、ObjectDataSource が `GetProductsBySupplierID(supplierID)` メソッドを呼び出してそのデータを取得するように指定します。</span><span class="sxs-lookup"><span data-stu-id="058cc-310">Since we only want to retrieve those products provided by the selected supplier, specify that the ObjectDataSource should invoke the `GetProductsBySupplierID(supplierID)` method to retrieve its data.</span></span> <span data-ttu-id="058cc-311">[更新]、[挿入]、[削除] の各タブのドロップダウンリストから [(なし)] を選択します。</span><span class="sxs-lookup"><span data-stu-id="058cc-311">Select (None) from the drop-down lists in the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="058cc-312">[Get$ By仕入先 (仕入先) メソッドを使用するように ObjectDataSource を構成 ![には](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-312">[![Configure the ObjectDataSource to Use the GetProductsBySupplierID(supplierID) Method](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span></span>

<span data-ttu-id="058cc-313">**図 17**: `GetProductsBySupplierID(supplierID)` メソッドを使用するように ObjectDataSource を構成する ([クリックしてフルサイズのイメージを表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-313">**Figure 17**: Configure the ObjectDataSource to Use the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span></span>

<span data-ttu-id="058cc-314">[[更新]、[挿入]、[削除] の各タブで、ドロップダウンリストを [(なし)] に設定 ![ます。](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-314">[![Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span></span>

<span data-ttu-id="058cc-315">**図 18**: 更新、挿入、および削除の各タブでドロップダウンリストを (なし) に設定する ([クリックしてフルサイズの画像を表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-315">**Figure 18**: Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span></span>

<span data-ttu-id="058cc-316">[選択]、[更新]、[挿入]、[削除] の各タブを構成したら、[次へ] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="058cc-316">After configuring the SELECT, UPDATE, INSERT, and DELETE tabs, click Next.</span></span> <span data-ttu-id="058cc-317">`GetProductsBySupplierID(supplierID)` メソッドには入力パラメーターが必要であるため、データソースの作成ウィザードでは、パラメーター s の値のソースを指定するように求められます。</span><span class="sxs-lookup"><span data-stu-id="058cc-317">Since the `GetProductsBySupplierID(supplierID)` method expects an input parameter, the Create Data Source wizard prompts us to specify the source for the parameter s value.</span></span>

<span data-ttu-id="058cc-318">ここでは、パラメーター s 値のソースを指定するためのオプションがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-318">We have a couple of options here in specifying the source of the parameter s value.</span></span> <span data-ttu-id="058cc-319">既定のパラメーターオブジェクトを使用して、`SuppliersSelectedIndex` プロパティの値を ObjectDataSource s `Selecting` イベントハンドラーのパラメーター s `DefaultValue` プロパティにプログラムで割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="058cc-319">We could use the default Parameter object, and programmatically assign the value of the `SuppliersSelectedIndex` property to the Parameter s `DefaultValue` property in the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="058cc-320">プログラムから ObjectDataSource のパラメーターに値を割り当てる方法については、「 [objectdatasource のパラメーター値をプログラムによって設定](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="058cc-320">Refer back to the [Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md) tutorial for a refresher on programmatically assigning values to the ObjectDataSource s parameters.</span></span>

<span data-ttu-id="058cc-321">または、ControlParameter を使用して、`Suppliers` GridView s [`SelectedValue` プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx)を参照することもできます (図19を参照)。</span><span class="sxs-lookup"><span data-stu-id="058cc-321">Alternatively, we can use a ControlParameter and refer to the `Suppliers` GridView s [`SelectedValue` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (see Figure 19).</span></span> <span data-ttu-id="058cc-322">GridView s `SelectedValue` プロパティは、 [`SelectedIndex` プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx)に対応する `DataKey` 値を返します。</span><span class="sxs-lookup"><span data-stu-id="058cc-322">The GridView s `SelectedValue` property returns the `DataKey` value corresponding to the [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span></span> <span data-ttu-id="058cc-323">このオプションを機能させるには、[`ListProducts`] ボタンをクリックしたときに、GridView の `SelectedIndex` プロパティを選択した行にプログラムで設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-323">In order for this option to work, we need to programmatically set the GridView s `SelectedIndex` property to the selected row when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="058cc-324">追加の利点として、`SelectedIndex`を設定することにより、選択したレコードは `DataWebControls` テーマで定義されている `SelectedRowStyle` で実行されます (黄色の背景)。</span><span class="sxs-lookup"><span data-stu-id="058cc-324">As an added benefit, by setting the `SelectedIndex`, the selected record will take on the `SelectedRowStyle` defined in the `DataWebControls` Theme (a yellow background).</span></span>

<span data-ttu-id="058cc-325">[![ControlParameter を使用して、GridView の SelectedValue をパラメーターソースとして指定します。](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-325">[![Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span></span>

<span data-ttu-id="058cc-326">**図 19**: controlparameter を使用して GridView s SelectedValue をパラメーターソースとして指定する ([クリックしてフルサイズのイメージを表示する](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="058cc-326">**Figure 19**: Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span></span>

<span data-ttu-id="058cc-327">ウィザードを完了すると、Visual Studio によって product のデータフィールドのフィールドが自動的に追加されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-327">Upon completing the wizard, Visual Studio will automatically add fields for the product s data fields.</span></span> <span data-ttu-id="058cc-328">`ProductName`、`CategoryName`、および `UnitPrice` BoundFields 以外のすべてを削除し、`HeaderText` プロパティを製品、カテゴリ、および価格に変更します。</span><span class="sxs-lookup"><span data-stu-id="058cc-328">Remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="058cc-329">値が通貨として書式設定されるように、`UnitPrice` BoundField を構成します。</span><span class="sxs-lookup"><span data-stu-id="058cc-329">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="058cc-330">これらの変更を行った後、パネル、GridView、および ObjectDataSource の宣言型マークアップは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="058cc-330">After making these changes, the Panel, GridView, and ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample11.aspx)]

<span data-ttu-id="058cc-331">この演習を完了するには、[GridView s `SelectedIndex`] プロパティを `SelectedSuppliersIndex` に設定し、[`ProductsBySupplierPanel` Panel s `Visible`] プロパティを [`true`] ボタンがクリックされたときに `ListProducts` に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-331">To complete this exercise, we need to set the GridView s `SelectedIndex` property to the `SelectedSuppliersIndex` and the `ProductsBySupplierPanel` Panel s `Visible` property to `true` when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="058cc-332">これを行うには、[`ListProducts`] ボタン Web コントロール s `Click` イベントのイベントハンドラーを作成し、次のコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="058cc-332">To accomplish this, create an event handler for the `ListProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample12.cs)]

<span data-ttu-id="058cc-333">GridView からサプライヤーが選択されていない場合は、`ChooseSupplierMsg` ラベルが表示され、`ProductsBySupplierPanel` パネルは非表示になります。</span><span class="sxs-lookup"><span data-stu-id="058cc-333">If a supplier has not been selected from the GridView, the `ChooseSupplierMsg` Label is displayed and the `ProductsBySupplierPanel` Panel hidden.</span></span> <span data-ttu-id="058cc-334">それ以外の場合、業者が選択されると、`ProductsBySupplierPanel` が表示され、GridView s `SelectedIndex` プロパティが更新されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-334">Otherwise, if a supplier has been selected, the `ProductsBySupplierPanel` is displayed and the GridView s `SelectedIndex` property is updated.</span></span>

<span data-ttu-id="058cc-335">図20は、Bigfoot Breweries supplier が選択され、[ページに製品を表示] ボタンがクリックされた後の結果を示しています。</span><span class="sxs-lookup"><span data-stu-id="058cc-335">Figure 20 shows the results after the Bigfoot Breweries supplier has been selected and the Show Products on Page button has been clicked.</span></span>

<span data-ttu-id="058cc-336">[Bigfoot Breweries によって提供される製品が同じページに表示される ![](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="058cc-336">[![The Products Supplied by Bigfoot Breweries are Listed on the Same Page](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span></span>

<span data-ttu-id="058cc-337">**図 20**: Bigfoot Breweries によって提供される製品は同じページに一覧表示されます ([クリックすると、フルサイズの画像が表示](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png)されます)</span><span class="sxs-lookup"><span data-stu-id="058cc-337">**Figure 20**: The Products Supplied by Bigfoot Breweries are Listed on the Same Page ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="058cc-338">まとめ</span><span class="sxs-lookup"><span data-stu-id="058cc-338">Summary</span></span>

<span data-ttu-id="058cc-339">[詳細詳細ビューのチュートリアルで選択可能なマスター GridView を使用してマスター/詳細](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)に説明したように、`ShowSelectButton` プロパティが `true`に設定されている commandfield を使用して GridView からレコードを選択できます。</span><span class="sxs-lookup"><span data-stu-id="058cc-339">As discussed in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, records can be selected from a GridView using a CommandField whose `ShowSelectButton` property is set to `true`.</span></span> <span data-ttu-id="058cc-340">ただし、CommandField には、通常のプッシュボタン、リンク、または画像としてボタンが表示されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-340">But the CommandField displays its buttons either as regular push buttons, links, or images.</span></span> <span data-ttu-id="058cc-341">その他の行選択ユーザーインターフェイスは、各 GridView 行にオプションボタンまたはチェックボックスを提供することです。</span><span class="sxs-lookup"><span data-stu-id="058cc-341">An alternative row-selection user interface is to provide a radio button or checkbox in each GridView row.</span></span> <span data-ttu-id="058cc-342">このチュートリアルでは、ラジオボタンの列を追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-342">In this tutorial we examined how to add a column of radio buttons.</span></span>

<span data-ttu-id="058cc-343">残念ながら、ラジオボタンの列を追加するのは、1つの場合と同じほど簡単ではありません。</span><span class="sxs-lookup"><span data-stu-id="058cc-343">Unfortunately, adding a column of radio buttons isn t as straightforward or simple as one might expect.</span></span> <span data-ttu-id="058cc-344">ボタンをクリックして追加できる組み込みの RadioButtonField はありません。 TemplateField 内で RadioButton Web コントロールを使用すると、独自の問題のセットが導入されます。</span><span class="sxs-lookup"><span data-stu-id="058cc-344">There is no built-in RadioButtonField that can be added at the click of a button, and using the RadioButton Web control within a TemplateField introduces its own set of problems.</span></span> <span data-ttu-id="058cc-345">最後に、このようなインターフェイスを提供するには、カスタム `DataControlField` クラスを作成するか、`RowCreated` イベント中に適切な HTML を TemplateField に挿入する方法を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="058cc-345">In the end, to provide such an interface we either have to create a custom `DataControlField` class or resort to injecting the appropriate HTML into a TemplateField during the `RowCreated` event.</span></span>

<span data-ttu-id="058cc-346">ラジオボタンの列を追加する方法を説明したので、チェックボックスの列を追加することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="058cc-346">Having explored how to add a column of radio buttons, let us turn our attention to adding a column of checkboxes.</span></span> <span data-ttu-id="058cc-347">ユーザーは、チェックボックスの列を使用して1つ以上の GridView 行を選択し、選択したすべての行に対して何らかの操作を実行できます (たとえば、web ベースの電子メールクライアントから電子メールのセットを選択し、選択したすべての電子メールを削除するように選択します)。</span><span class="sxs-lookup"><span data-stu-id="058cc-347">With a column of checkboxes, a user can select one or more GridView rows and then perform some operation on all of the selected rows (such as selecting a set of emails from a web-based email client, and then choosing to delete all selected emails).</span></span> <span data-ttu-id="058cc-348">次のチュートリアルでは、このような列を追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="058cc-348">In the next tutorial we'll see how to add such a column.</span></span>

<span data-ttu-id="058cc-349">プログラミングを楽しんでください。</span><span class="sxs-lookup"><span data-stu-id="058cc-349">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="058cc-350">著者について</span><span class="sxs-lookup"><span data-stu-id="058cc-350">About the Author</span></span>

<span data-ttu-id="058cc-351">1998以来、 [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)は 7 asp/創設者 of [4GuysFromRolla.com](http://www.4guysfromrolla.com)の執筆者であり、Microsoft Web テクノロジを使用しています。</span><span class="sxs-lookup"><span data-stu-id="058cc-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="058cc-352">Scott は、独立したコンサルタント、トレーナー、およびライターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="058cc-352">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="058cc-353">彼の最新の書籍は[ *、ASP.NET 2.0 を24時間以内に教え*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ています。</span><span class="sxs-lookup"><span data-stu-id="058cc-353">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="058cc-354">mitchell@4GuysFromRolla.comでアクセスでき[ます。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="058cc-354">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="058cc-355">または彼のブログを参照してください。これは[http://ScottOnWriting.NET](http://ScottOnWriting.NET)にあります。</span><span class="sxs-lookup"><span data-stu-id="058cc-355">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="058cc-356">ありがとうございました。</span><span class="sxs-lookup"><span data-stu-id="058cc-356">Special Thanks To</span></span>

<span data-ttu-id="058cc-357">このチュートリアルシリーズは、役に立つ多くのレビュー担当者によってレビューされました。</span><span class="sxs-lookup"><span data-stu-id="058cc-357">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="058cc-358">このチュートリアルのリードレビュー担当者は David, u です。</span><span class="sxs-lookup"><span data-stu-id="058cc-358">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="058cc-359">今後の MSDN 記事を確認することに興味がありますか?</span><span class="sxs-lookup"><span data-stu-id="058cc-359">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="058cc-360">その場合は、mitchell@4GuysFromRolla.comの行を削除[します。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="058cc-360">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="058cc-361">Next</span><span class="sxs-lookup"><span data-stu-id="058cc-361">Next</span></span>](adding-a-gridview-column-of-checkboxes-cs.md)
