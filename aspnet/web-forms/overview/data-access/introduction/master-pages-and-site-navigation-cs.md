---
uid: web-forms/overview/data-access/introduction/master-pages-and-site-navigation-cs
title: マスター ページとサイト ナビゲーション (c#) |Microsoft Docs
author: rick-anderson
description: ユーザー フレンドリな web サイトの一般的な特性の 1 つは、一貫性があり、サイト全体のページ レイアウトとナビゲーション スキームを備えることです。 このチュートリアルの検索方法を y.
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 5aee8202-a4e3-4aa9-8a95-cd5d156cea4c
msc.legacyurl: /web-forms/overview/data-access/introduction/master-pages-and-site-navigation-cs
msc.type: authoredcontent
ms.openlocfilehash: 13bf64919e8068f44b20120400f62eecbd3cace9
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/06/2019
ms.locfileid: "65134676"
---
# <a name="master-pages-and-site-navigation-c"></a><span data-ttu-id="d4ea2-104">マスター ページとサイト ナビゲーション (C#)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-104">Master Pages and Site Navigation (C#)</span></span>

<span data-ttu-id="d4ea2-105">によって[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d4ea2-106">[サンプル アプリをダウンロード](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_3_CS.exe)または[PDF のダウンロード](master-pages-and-site-navigation-cs/_static/datatutorial03cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-106">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_3_CS.exe) or [Download PDF](master-pages-and-site-navigation-cs/_static/datatutorial03cs1.pdf)</span></span>

> <span data-ttu-id="d4ea2-107">ユーザー フレンドリな web サイトの一般的な特性の 1 つは、一貫性があり、サイト全体のページ レイアウトとナビゲーション スキームを備えることです。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-107">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="d4ea2-108">このチュートリアルでは、簡単に更新可能なすべてのページにわたって一貫したルック アンド フィールを作成する方法で検索します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-108">This tutorial looks at how you can create a consistent look and feel across all pages that can easily be updated.</span></span>

## <a name="introduction"></a><span data-ttu-id="d4ea2-109">はじめに</span><span class="sxs-lookup"><span data-stu-id="d4ea2-109">Introduction</span></span>

<span data-ttu-id="d4ea2-110">ユーザー フレンドリな web サイトの一般的な特性の 1 つは、一貫性があり、サイト全体のページ レイアウトとナビゲーション スキームを備えることです。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-110">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="d4ea2-111">ASP.NET 2.0 を両方サイト全体のページ レイアウトとナビゲーション スキームの実装を大幅に簡略化する 2 つの新しい機能が導入されています。 マスター ページとサイト ナビゲーション。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-111">ASP.NET 2.0 introduces two new features that greatly simplify implementing both a site-wide page layout and navigation scheme: master pages and site navigation.</span></span> <span data-ttu-id="d4ea2-112">指定された編集可能な領域を持つサイト全体のテンプレートを作成する開発者のマスター ページを使用します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-112">Master pages allow for developers to create a site-wide template with designated editable regions.</span></span> <span data-ttu-id="d4ea2-113">このテンプレートは、サイト内の ASP.NET ページに適用できます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-113">This template can then be applied to ASP.NET pages in the site.</span></span> <span data-ttu-id="d4ea2-114">マスター ページの編集可能な領域を指定したため、このような ASP.NET ページはコンテンツを提供のみ必要がありますが、マスター ページの他のすべてのマークアップをマスター ページを使用するすべての ASP.NET ページの全体で同一です。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-114">Such ASP.NET pages need only provide content for the master page's specified editable regions all other markup in the master page is identical across all ASP.NET pages that use the master page.</span></span> <span data-ttu-id="d4ea2-115">このモデルを定義し、サイト全体のページ レイアウトを簡単に更新可能なすべてのページにわたって一貫したルック アンド フィールを作成するを簡単に一元管理できます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-115">This model allows developers to define and centralize a site-wide page layout, thereby making it easier to create a consistent look and feel across all pages that can easily be updated.</span></span>

<span data-ttu-id="d4ea2-116">[サイト ナビゲーション システム](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)機構を開発者に、サイト マップを定義するページとプログラムでクエリを実行するには、そのサイト マップの API の両方を提供します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-116">The [site navigation system](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) provides both a mechanism for page developers to define a site map and an API for that site map to be programmatically queried.</span></span> <span data-ttu-id="d4ea2-117">新しいナビゲーション Web コントロールが Menu、TreeView、および SiteMapPath 簡単にでは、一般的なナビゲーション ユーザー インターフェイス要素に、サイト マップのすべてまたは一部をレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-117">The new navigation Web controls the Menu, TreeView, and SiteMapPath make it easy to render all or part of the site map in a common navigation user interface element.</span></span> <span data-ttu-id="d4ea2-118">つまり、XML フォーマット ファイルで、サイト マップを定義するように、既定のサイト ナビゲーション プロバイダー使用します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-118">We'll be using the default site navigation provider, meaning that our site map will be defined in an XML-formatted file.</span></span>

<span data-ttu-id="d4ea2-119">これらの概念を説明し、チュートリアル web サイトをより使いやすく、サイト全体のページ レイアウトを定義する、サイト マップの実装、およびナビゲーション UI を追加するこのレッスンをについて説明します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-119">To illustrate these concepts and make our tutorials website more usable, let's spend this lesson defining a site-wide page layout, implementing a site map, and adding the navigation UI.</span></span> <span data-ttu-id="d4ea2-120">このチュートリアルの最後で、チュートリアルの web ページを構築するための光沢のある web サイトのデザインがあります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-120">By the end of this tutorial we'll have a polished website design for building our tutorial web pages.</span></span>

<span data-ttu-id="d4ea2-121">[![このチュートリアルの最終結果](master-pages-and-site-navigation-cs/_static/image2.png)](master-pages-and-site-navigation-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-121">[![The End Result of This Tutorial](master-pages-and-site-navigation-cs/_static/image2.png)](master-pages-and-site-navigation-cs/_static/image1.png)</span></span>

<span data-ttu-id="d4ea2-122">**図 1**:最後の結果のチュートリアル ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image3.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-122">**Figure 1**: The End Result of This Tutorial ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image3.png))</span></span>

## <a name="step-1-creating-the-master-page"></a><span data-ttu-id="d4ea2-123">手順 1: マスター ページを作成する</span><span class="sxs-lookup"><span data-stu-id="d4ea2-123">Step 1: Creating the Master Page</span></span>

<span data-ttu-id="d4ea2-124">最初の手順では、サイトのマスター ページを作成します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-124">The first step is to create the master page for the site.</span></span> <span data-ttu-id="d4ea2-125">ここでは、web サイトは、型指定されたデータセットのみで構成されています (`Northwind.xsd`で、`App_Code`フォルダー)、BLL クラス (`ProductsBLL.cs`、`CategoriesBLL.cs`で、すべてで、`App_Code`フォルダー)、データベース (`NORTHWND.MDF`の`App_Data`フォルダー)、構成ファイル (`Web.config`)、および CSS スタイル シート ファイル (`Styles.css`)。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-125">Right now our website consists of only the Typed DataSet (`Northwind.xsd`, in the `App_Code` folder), the BLL classes (`ProductsBLL.cs`, `CategoriesBLL.cs`, and so on, all in the `App_Code` folder), the database (`NORTHWND.MDF`, in the `App_Data` folder), the configuration file (`Web.config`), and a CSS stylesheet file (`Styles.css`).</span></span> <span data-ttu-id="d4ea2-126">これらのページと私たちがするを再調査するこれらの例で詳しく今後のチュートリアルであるために、最初の 2 つのチュートリアルから DAL と BLL を使用するかを示すファイルはクリーンアップします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-126">I cleaned out those pages and files demonstrating using the DAL and BLL from the first two tutorials since we will be reexamining those examples in greater detail in future tutorials.</span></span>

![このプロジェクト内のファイル](master-pages-and-site-navigation-cs/_static/image4.png)

<span data-ttu-id="d4ea2-128">**図 2**:このプロジェクト内のファイル</span><span class="sxs-lookup"><span data-stu-id="d4ea2-128">**Figure 2**: The Files in Our Project</span></span>

<span data-ttu-id="d4ea2-129">マスター ページを作成するには、ソリューション エクスプ ローラーでプロジェクト名を右クリックし、新しい項目の追加を選択します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-129">To create a master page, right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="d4ea2-130">テンプレートの一覧からマスター ページの種類を選択し、という名前を付けます`Site.master`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-130">Then select the Master Page type from the list of templates and name it `Site.master`.</span></span>

<span data-ttu-id="d4ea2-131">[![新しいマスター ページ、web サイトを追加します。](master-pages-and-site-navigation-cs/_static/image6.png)](master-pages-and-site-navigation-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-131">[![Add a New Master Page to the Website](master-pages-and-site-navigation-cs/_static/image6.png)](master-pages-and-site-navigation-cs/_static/image5.png)</span></span>

<span data-ttu-id="d4ea2-132">**図 3**:新しいマスター ページ、web サイトを追加 ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image7.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-132">**Figure 3**: Add a New Master Page to the Website ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image7.png))</span></span>

<span data-ttu-id="d4ea2-133">マスター ページで、ここで、サイト全体のページ レイアウトを定義します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-133">Define the site-wide page layout here in the master page.</span></span> <span data-ttu-id="d4ea2-134">デザイン ビューを使用して、必要なレイアウトまたは Web コントロールを追加またはソース ビューで手動でマークアップを手動で追加することができます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-134">You can use the Design view and add whatever Layout or Web controls you need, or you can manually add the markup by hand in the Source view.</span></span> <span data-ttu-id="d4ea2-135">マスター ページを使用して[カスケード スタイル シート](http://www.w3schools.com/css/default.asp)配置と外部のファイルで定義された CSS 設定でスタイル`Style.css`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-135">In my master page I use [cascading style sheets](http://www.w3schools.com/css/default.asp) for positioning and styles with the CSS settings defined in the external file `Style.css`.</span></span> <span data-ttu-id="d4ea2-136">CSS 規則が定義されているときに、次に示すマークアップからわかることはできません、ようにナビゲーション`<div>`のようにし、左側に表示が固定幅 200 ピクセルに絶対にコンテンツが配置されています。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-136">While you cannot tell from the markup shown below, the CSS rules are defined such that the navigation `<div>`'s content is absolutely positioned so that it appears on the left and has a fixed width of 200 pixels.</span></span>

<span data-ttu-id="d4ea2-137">Site.master</span><span class="sxs-lookup"><span data-stu-id="d4ea2-137">Site.master</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample1.aspx)]

<span data-ttu-id="d4ea2-138">マスター ページは、静的なページ レイアウトやマスター ページを使用する ASP.NET ページが編集可能なリージョンの両方を定義します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-138">A master page defines both the static page layout and the regions that can be edited by the ASP.NET pages that use the master page.</span></span> <span data-ttu-id="d4ea2-139">これらのコンテンツの編集可能なリージョンは、コンテンツ内で示しているようにプレース ホルダー コントロールで示されます`<div>`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-139">These content editable regions are indicated by the ContentPlaceHolder control, which can be seen within the content `<div>`.</span></span> <span data-ttu-id="d4ea2-140">このマスター ページが 1 つのプレース ホルダー (`MainContent`) をマスター ページの複数の ContentPlaceHolders があります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-140">Our master page has a single ContentPlaceHolder (`MainContent`), but master page's may have multiple ContentPlaceHolders.</span></span>

<span data-ttu-id="d4ea2-141">上記で入力したマークアップをデザイン ビューに切り替えると、マスター ページのレイアウトを示します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-141">With the markup entered above, switching to the Design view shows the master page's layout.</span></span> <span data-ttu-id="d4ea2-142">このマスター ページを使用する任意の ASP.NET ページのマークアップを指定する機能によりこの均一なレイアウトになります、`MainContent`リージョン。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-142">Any ASP.NET pages that use this master page will have this uniform layout, with the ability to specify the markup for the `MainContent` region.</span></span>

<span data-ttu-id="d4ea2-143">[![デザイン ビューで表示した場合、マスター ページ](master-pages-and-site-navigation-cs/_static/image9.png)](master-pages-and-site-navigation-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-143">[![The Master Page, When Viewed Through the Design View](master-pages-and-site-navigation-cs/_static/image9.png)](master-pages-and-site-navigation-cs/_static/image8.png)</span></span>

<span data-ttu-id="d4ea2-144">**図 4**:マスター ページで、ときに表示をデザイン ビュー ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image10.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-144">**Figure 4**: The Master Page, When Viewed Through the Design View ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image10.png))</span></span>

## <a name="step-2-adding-a-homepage-to-the-website"></a><span data-ttu-id="d4ea2-145">手順 2: Web サイトへのホーム ページの追加</span><span class="sxs-lookup"><span data-stu-id="d4ea2-145">Step 2: Adding a Homepage to the Website</span></span>

<span data-ttu-id="d4ea2-146">定義されているマスター ページ、web サイトの ASP.NET ページを追加する準備ができました。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-146">With the master page defined, we're ready to add the ASP.NET pages for the website.</span></span> <span data-ttu-id="d4ea2-147">追加してみましょう`Default.aspx`、当社の web サイトのホーム ページ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-147">Let's start by adding `Default.aspx`, our website's homepage.</span></span> <span data-ttu-id="d4ea2-148">ソリューション エクスプ ローラーでプロジェクト名を右クリックし、新しい項目の追加を選択します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-148">Right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="d4ea2-149">ファイルの名前とテンプレートの一覧から Web フォームのオプションを選択`Default.aspx`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-149">Pick the Web Form option from the template list and name the file `Default.aspx`.</span></span> <span data-ttu-id="d4ea2-150">また、「マスター ページの選択」チェック ボックスをオンします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-150">Also, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="d4ea2-151">[![マスター ページのチェック ボックスをチェックする、新しい Web フォームの追加します。](master-pages-and-site-navigation-cs/_static/image12.png)](master-pages-and-site-navigation-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-151">[![Add a New Web Form, Checking the Select master page Checkbox](master-pages-and-site-navigation-cs/_static/image12.png)](master-pages-and-site-navigation-cs/_static/image11.png)</span></span>

<span data-ttu-id="d4ea2-152">**図 5**:マスター ページのチェック ボックスをチェックする、新しい Web フォームの追加 ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image13.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-152">**Figure 5**: Add a New Web Form, Checking the Select master page Checkbox ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image13.png))</span></span>

<span data-ttu-id="d4ea2-153">[Ok] ボタンをクリックすると、この新しい ASP.NET ページを使用する必要がありますマスター ページの選択を求めます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-153">After clicking the OK button, we're asked to choose what master page this new ASP.NET page should use.</span></span> <span data-ttu-id="d4ea2-154">プロジェクトで複数のマスター ページを保持できますが、1 つだけあります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-154">While you can have multiple master pages in your project, we have only one.</span></span>

<span data-ttu-id="d4ea2-155">[![この ASP.NET ページを使用する必要があります、マスター ページの選択します。](master-pages-and-site-navigation-cs/_static/image15.png)](master-pages-and-site-navigation-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-155">[![Choose the Master Page this ASP.NET Page Should Use](master-pages-and-site-navigation-cs/_static/image15.png)](master-pages-and-site-navigation-cs/_static/image14.png)</span></span>

<span data-ttu-id="d4ea2-156">**図 6**:マスター ページにこの ASP.NET ページは使用を選択 ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image16.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-156">**Figure 6**: Choose the Master Page this ASP.NET Page Should Use ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image16.png))</span></span>

<span data-ttu-id="d4ea2-157">新しい ASP.NET ページでは、マスター ページを選択した後、次のマークアップが含まれます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-157">After picking the master page, the new ASP.NET pages will contain the following markup:</span></span>

<span data-ttu-id="d4ea2-158">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="d4ea2-158">Default.aspx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample2.aspx)]

<span data-ttu-id="d4ea2-159">`@Page`ディレクティブがありますが使用されるマスター ページ ファイルへの参照 (`MasterPageFile="~/Site.master"`)、ASP.NET ページのマークアップには、コンテンツ コントロールの各コントロールの使用のマスター ページで定義されているプレース ホルダー コントロールが含まれている`ContentPlaceHolderID`特定のプレース ホルダーへのコンテンツのマッピングを制御します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-159">In the `@Page` directive there's a reference to the master page file used (`MasterPageFile="~/Site.master"`), and the ASP.NET page's markup contains a Content control for each of the ContentPlaceHolder controls defined in the master page, with the control's `ContentPlaceHolderID` mapping the Content control to a specific ContentPlaceHolder.</span></span> <span data-ttu-id="d4ea2-160">コンテンツ コントロールには、マークアップの配置に対応するプレース ホルダーで表示します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-160">The Content control is where you place the markup you want to appear in the corresponding ContentPlaceHolder.</span></span> <span data-ttu-id="d4ea2-161">設定、`@Page`ディレクティブの`Title`ホームに属性し、コンテンツ コントロールに歓迎内容を追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-161">Set the `@Page` directive's `Title` attribute to Home and add some welcoming content to the Content control:</span></span>

<span data-ttu-id="d4ea2-162">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="d4ea2-162">Default.aspx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample3.aspx)]

<span data-ttu-id="d4ea2-163">`Title`属性、`@Page`ディレクティブにより場合でも、ASP.NET ページからページのタイトルを設定する、`<title>`マスター ページの要素が定義されています。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-163">The `Title` attribute in the `@Page` directive allows us to set the page's title from the ASP.NET page, even though the `<title>` element is defined in the master page.</span></span> <span data-ttu-id="d4ea2-164">設定できますタイトル プログラムを使用して`Page.Title`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-164">We can also set the title programmatically, using `Page.Title`.</span></span> <span data-ttu-id="d4ea2-165">またを注意スタイル シートへのマスター ページの参照 (など`Style.css`) は、ASP.NET ページがマスター ページから相対的ではどのようなディレクトリに関係なく、任意の ASP.NET ページで機能するように自動的に更新します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-165">Also note that the master page's references to stylesheets (such as `Style.css`) are automatically updated so that they work in any ASP.NET page, regardless of what directory the ASP.NET page is in relative to the master page.</span></span>

<span data-ttu-id="d4ea2-166">ブラウザーで、ページがどのように表示されるかがわかりますデザイン ビューに切り替えます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-166">Switching to the Design view we can see how our page will look in a browser.</span></span> <span data-ttu-id="d4ea2-167">設計のコンテンツの編集可能なリージョンのみが編集可能な ASP.NET ページ用マスター ページで定義されている非プレース ホルダーのマークアップを表示するメモが淡色表示されます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-167">Note that in the Design view for the ASP.NET page that only the content editable regions are editable the non-ContentPlaceHolder markup defined in the master page is grayed out.</span></span>

<span data-ttu-id="d4ea2-168">[![ASP.NET ページのデザイン ビューは、編集可能なが編集可能なリージョンの両方を示しています。](master-pages-and-site-navigation-cs/_static/image18.png)](master-pages-and-site-navigation-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-168">[![The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions](master-pages-and-site-navigation-cs/_static/image18.png)](master-pages-and-site-navigation-cs/_static/image17.png)</span></span>

<span data-ttu-id="d4ea2-169">**図 7**:非編集可能領域と、ASP.NET ページを示しています両方、編集可能なデザイン ビュー ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image19.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-169">**Figure 7**: The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image19.png))</span></span>

<span data-ttu-id="d4ea2-170">ときに、`Default.aspx`ページがブラウザーでアクセスした、ページのマスター ページのコンテンツと、ASP、ASP.NET エンジンを自動的にマージします。NET はのコンテンツ、および要求側のブラウザーに送信される最終的な HTML に結合されたコンテンツを表示します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-170">When the `Default.aspx` page is visited by a browser, the ASP.NET engine automatically merges the page's master page content and the ASP.NET's content, and renders the merged content into the final HTML that is sent down to the requesting browser.</span></span> <span data-ttu-id="d4ea2-171">マスター ページのコンテンツが更新されたときに、このマスター ページを使用するすべての ASP.NET ページは、次回ユーザーが要求したコンテンツに新しいマスター ページ remerged、コンテンツがあります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-171">When the master page's content is updated, all ASP.NET pages that use this master page will have their content remerged with the new master page content the next time they are requested.</span></span> <span data-ttu-id="d4ea2-172">マスター ページ モデルで 1 つのページは、簡単に言えば、レイアウト テンプレートには、(マスター ページ) が定義されている変更はすぐにサイト全体に反映されます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-172">In short, the master page model allows for a single page layout template to be defined (the master page) whose changes are immediately reflected across the entire site.</span></span>

## <a name="adding-additional-aspnet-pages-to-the-website"></a><span data-ttu-id="d4ea2-173">その他の ASP.NET ページ、web サイトへの追加</span><span class="sxs-lookup"><span data-stu-id="d4ea2-173">Adding Additional ASP.NET Pages to the Website</span></span>

<span data-ttu-id="d4ea2-174">最終的にさまざまなレポート作成のデモを保持するサイトに追加の ASP.NET ページのスタブを追加するには、少し見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-174">Let's take a moment to add additional ASP.NET page stubs to the site that will eventually hold the various reporting demos.</span></span> <span data-ttu-id="d4ea2-175">複数存在するがみましょうのスタブのページを作成するのではなくという時そのため、合計で 35 のデモは、最初のいくつかを作成します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-175">There will be more than 35 demos in total, so rather than creating all of the stub pages let's just create the first few.</span></span> <span data-ttu-id="d4ea2-176">デモの多くのカテゴリもある、ために管理を支援するデモ フォルダーを追加のカテゴリ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-176">Since there will also be many categories of demos, to better manage the demos add a folder for the categories.</span></span> <span data-ttu-id="d4ea2-177">ここでは、次の 3 つのフォルダーを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-177">Add the following three folders for now:</span></span>

- `BasicReporting`
- `Filtering`
- `CustomFormatting`

<span data-ttu-id="d4ea2-178">図 8 ソリューション エクスプ ローラーで示すように最後に、新しいファイルを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-178">Finally, add new files as shown in the Solution Explorer in Figure 8.</span></span> <span data-ttu-id="d4ea2-179">各ファイルを追加する場合は、「マスター ページの選択」チェック ボックスをオンにしてください。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-179">When adding each file, remember to check the "Select master page" checkbox.</span></span>

![次のファイルを追加します。](master-pages-and-site-navigation-cs/_static/image20.png)

<span data-ttu-id="d4ea2-181">**図 8**:次のファイルを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-181">**Figure 8**: Add the Following Files</span></span>

## <a name="step-2-creating-a-site-map"></a><span data-ttu-id="d4ea2-182">手順 2: サイト マップを作成します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-182">Step 2: Creating a Site Map</span></span>

<span data-ttu-id="d4ea2-183">少数のページから成る web サイトの管理の課題の 1 つは、サイトをナビゲートする訪問者の簡単な方法を提供しています。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-183">One of the challenges of managing a website composed of more than a handful of pages is providing a straightforward way for visitors to navigate through the site.</span></span> <span data-ttu-id="d4ea2-184">まず始めに、サイトのナビゲーション構造を定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-184">To begin with, the site's navigational structure must be defined.</span></span> <span data-ttu-id="d4ea2-185">次に、この構造体は、階層リンク メニューなどのナビゲート可能なユーザー インターフェイス要素に変換する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-185">Next, this structure must be translated into navigable user interface elements, such as menus or breadcrumbs.</span></span> <span data-ttu-id="d4ea2-186">最後に、このプロセス全体は、メンテナンスおよび更新と削除、既存のサイトに新しいページを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-186">Finally, this whole process needs to be maintained and updated as new pages are added to the site and existing ones removed.</span></span> <span data-ttu-id="d4ea2-187">ASP.NET 2.0 では、前に開発者はそれを維持し、ナビゲート可能なユーザー インターフェイス要素に変換に独自のサイトのナビゲーション構造を作成する方法でした。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-187">Prior to ASP.NET 2.0, developers were on their own for creating the site's navigational structure, maintaining it, and translating it into navigable user interface elements.</span></span> <span data-ttu-id="d4ea2-188">ASP.NET 2.0 でただし、開発者を利用できます非常に柔軟なサイト ナビゲーション システムに組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-188">With ASP.NET 2.0, however, developers can utilize the very flexible built in site navigation system.</span></span>

<span data-ttu-id="d4ea2-189">ASP.NET 2.0 のサイト ナビゲーション システムは、サイト マップを定義して、プログラムによる API を使用してこの情報にアクセスし、開発者のための手段を提供します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-189">The ASP.NET 2.0 site navigation system provides a means for a developer to define a site map and to then access this information through a programmatic API.</span></span> <span data-ttu-id="d4ea2-190">ASP.NET は、特定の方法で書式設定された XML ファイルに格納されるサイト マップ データが必要とするサイト マップ プロバイダーに同梱されています。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-190">ASP.NET ships with a site map provider that expects site map data to be stored in an XML file formatted in a particular way.</span></span> <span data-ttu-id="d4ea2-191">サイト ナビゲーション システムがに構築されているため、[プロバイダー モデル](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)サイト マップ情報をシリアル化するための別の方法をサポートするように拡張できます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-191">But, since the site navigation system is built on the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) it can be extended to support alternative ways for serializing the site map information.</span></span> <span data-ttu-id="d4ea2-192">Jeff Prosise の記事では、 [SQL サイト マップ プロバイダーをしたされて待機 For](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx)どのサイト マップ プロバイダーを作成する SQL Server データベースにサイト マップを格納する; を作成することも示しています[サイト マップ プロバイダーに基づいてファイル システム構造](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-192">Jeff Prosise's article, [The SQL Site Map Provider You've Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx) shows how to create a site map provider that stores the site map in a SQL Server database; another option is to create [a site map provider based on the file system structure](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx).</span></span>

<span data-ttu-id="d4ea2-193">このチュートリアルでは、ただし、みましょうを使用して、付属する既定のサイト マップ プロバイダー ASP.NET 2.0 を使用します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-193">For this tutorial, however, let's use the default site map provider that ships with ASP.NET 2.0.</span></span> <span data-ttu-id="d4ea2-194">サイト マップを作成するに単にソリューション エクスプ ローラーでプロジェクト名を右クリックし、新しい項目の追加 を選択およびサイト マップのオプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-194">To create the site map, simply right-click on the project name in the Solution Explorer, choose Add New Item, and choose the Site Map option.</span></span> <span data-ttu-id="d4ea2-195">として名前をそのまま`Web.sitemap`追加 ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-195">Leave the name as `Web.sitemap` and click the Add button.</span></span>

<span data-ttu-id="d4ea2-196">[![サイト マップをプロジェクトに追加します。](master-pages-and-site-navigation-cs/_static/image22.png)](master-pages-and-site-navigation-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-196">[![Add a Site Map to Your Project](master-pages-and-site-navigation-cs/_static/image22.png)](master-pages-and-site-navigation-cs/_static/image21.png)</span></span>

<span data-ttu-id="d4ea2-197">**図 9**:プロジェクトへのサイト マップの追加 ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image23.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-197">**Figure 9**: Add a Site Map to Your Project ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image23.png))</span></span>

<span data-ttu-id="d4ea2-198">サイト マップ ファイルは、XML ファイルです。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-198">The site map file is an XML file.</span></span> <span data-ttu-id="d4ea2-199">Visual Studio が、サイト マップ構造体の IntelliSense を提供することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-199">Note that Visual Studio provides IntelliSense for the site map structure.</span></span> <span data-ttu-id="d4ea2-200">サイト マップ ファイルが必要、`<siteMap>`正確に 1 つ含める必要がありますルート ノードとしてノード`<siteMapNode>`子要素。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-200">The site map file must have the `<siteMap>` node as its root node, which must contain precisely one `<siteMapNode>` child element.</span></span> <span data-ttu-id="d4ea2-201">まず`<siteMapNode>`要素は、任意の数の子孫を含めることができますし、`<siteMapNode>`要素。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-201">That first `<siteMapNode>` element can then contain an arbitrary number of descendent `<siteMapNode>` elements.</span></span>

<span data-ttu-id="d4ea2-202">ファイル システムの構造を模倣するために、サイト マップを定義します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-202">Define the site map to mimic the file system structure.</span></span> <span data-ttu-id="d4ea2-203">つまり、追加、`<siteMapNode>`の 3 つのフォルダーと子の各要素`<siteMapNode>`などのため、これらのフォルダー内の ASP.NET ページの各要素。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-203">That is, add a `<siteMapNode>` element for each of the three folders, and child `<siteMapNode>` elements for each of the ASP.NET pages in those folders, like so:</span></span>

<span data-ttu-id="d4ea2-204">Web.sitemap</span><span class="sxs-lookup"><span data-stu-id="d4ea2-204">Web.sitemap</span></span>

[!code-xml[Main](master-pages-and-site-navigation-cs/samples/sample4.xml)]

<span data-ttu-id="d4ea2-205">サイト マップは、サイトのさまざまなセクションについて説明している階層、web サイトのナビゲーション構造を定義します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-205">The site map defines the website's navigational structure, which is a hierarchy that describes the various sections of the site.</span></span> <span data-ttu-id="d4ea2-206">各`<siteMapNode>`要素`Web.sitemap`サイトのナビゲーション構造でのセクションを表します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-206">Each `<siteMapNode>` element in `Web.sitemap` represents a section in the site's navigational structure.</span></span>

<span data-ttu-id="d4ea2-207">[![階層ナビゲーション構造を表すサイト マップ](master-pages-and-site-navigation-cs/_static/image25.png)](master-pages-and-site-navigation-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-207">[![The Site Map Represents a Hierarchical Navigational Structure](master-pages-and-site-navigation-cs/_static/image25.png)](master-pages-and-site-navigation-cs/_static/image24.png)</span></span>

<span data-ttu-id="d4ea2-208">**図 10**:サイト マップが階層ナビゲーション構造を表します ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image26.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-208">**Figure 10**: The Site Map Represents a Hierarchical Navigational Structure ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image26.png))</span></span>

<span data-ttu-id="d4ea2-209">ASP.NET、.NET Framework のサイト マップの構造を公開する[サイトマップ クラス](https://msdn.microsoft.com/library/system.web.sitemap.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-209">ASP.NET exposes the site map's structure through the .NET Framework's [SiteMap class](https://msdn.microsoft.com/library/system.web.sitemap.aspx).</span></span> <span data-ttu-id="d4ea2-210">このクラスには、`CurrentNode`プロパティで、ユーザーが現在アクセスは、セクションに関する情報を返します、`RootNode`プロパティは、サイト マップのルートを返します (ホームで、サイト マップ) します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-210">This class has a `CurrentNode` property, which returns information about the section the user is currently visiting; the `RootNode` property returns the root of the site map (Home, in our site map).</span></span> <span data-ttu-id="d4ea2-211">両方、`CurrentNode`と`RootNode`プロパティの戻り値[SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx)プロパティのインスタンスのような`ParentNode`、 `ChildNodes`、 `NextSibling`、`PreviousSibling`でのサイト マップを使用できます。処理する階層。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-211">Both the `CurrentNode` and `RootNode` properties return [SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) instances, which have properties like `ParentNode`, `ChildNodes`, `NextSibling`, `PreviousSibling`, and so on, that allow for the site map hierarchy to be walked.</span></span>

## <a name="step-3-displaying-a-menu-based-on-the-site-map"></a><span data-ttu-id="d4ea2-212">手順 3: サイト マップに基づくメニューを表示します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-212">Step 3: Displaying a Menu Based on the Site Map</span></span>

<span data-ttu-id="d4ea2-213">ASP.NET 2.0 でのデータへのアクセスは、asp.net などのプログラムによって行われますが、1.x では、宣言は、新しいまたは[データ ソース コントロール](https://msdn.microsoft.com/library/ms227679.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-213">Accessing data in ASP.NET 2.0 can be accomplished programmatically, like in ASP.NET 1.x, or declaratively, through the new [data source controls](https://msdn.microsoft.com/library/ms227679.aspx).</span></span> <span data-ttu-id="d4ea2-214">ObjectDataSource コントロール、クラス、およびその他のユーザーからのデータにアクセスするため、リレーショナル データベースのデータにアクセスするため、SqlDataSource コントロールなどのいくつかの組み込みのデータ ソース コントロールがあります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-214">There are several built-in data source controls such as the SqlDataSource control, for accessing relational database data, the ObjectDataSource control, for accessing data from classes, and others.</span></span> <span data-ttu-id="d4ea2-215">独自に作成することも[カスタム データ ソース コントロール](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp)します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-215">You can even create your own [custom data source controls](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp).</span></span>

<span data-ttu-id="d4ea2-216">データ ソース コントロールは、ASP.NET ページと基になるデータ間のプロキシとして機能します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-216">The data source controls serve as a proxy between your ASP.NET page and the underlying data.</span></span> <span data-ttu-id="d4ea2-217">データ ソース コントロールの取得したデータを表示するために通常のページに別の Web コントロールを追加し、データ ソース コントロールにバインドします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-217">In order to display a data source control's retrieved data, we'll typically add another Web control to the page and bind it to the data source control.</span></span> <span data-ttu-id="d4ea2-218">Web コントロールをデータ ソース コントロールをバインドする Web コントロールの設定`DataSourceID`プロパティのデータ ソース コントロールの値を`ID`プロパティ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-218">To bind a Web control to a data source control, simply set the Web control's `DataSourceID` property to the value of the data source control's `ID` property.</span></span>

<span data-ttu-id="d4ea2-219">サイト マップのデータを操作するために役立てるため、ASP.NET には、SiteMapDataSource コントロールには、web サイトのサイト マップに対して Web コントロールをバインドすることが含まれています。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-219">To aid in working with the site map's data, ASP.NET includes the SiteMapDataSource control, which allows us to bind a Web control against our website's site map.</span></span> <span data-ttu-id="d4ea2-220">2 つの Web コントロール、ツリー ビューとメニューは、ナビゲーション ユーザー インターフェイスを提供するよく使用されます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-220">Two Web controls the TreeView and Menu are commonly used to provide a navigation user interface.</span></span> <span data-ttu-id="d4ea2-221">これら 2 つのコントロールのいずれかにサイト マップ データをバインドする、SiteMapDataSource TreeView と共にページに追加またはいるメニュー コントロール`DataSourceID`プロパティが適宜設定されます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-221">To bind the site map data to one of these two controls, simply add a SiteMapDataSource to the page along with a TreeView or Menu control whose `DataSourceID` property is set accordingly.</span></span> <span data-ttu-id="d4ea2-222">たとえば、次のマークアップを使用して、マスター ページに、メニュー コントロールを追加しますでした。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-222">For example, we could add a Menu control to the master page using the following markup:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample5.aspx)]

<span data-ttu-id="d4ea2-223">Repeater コントロール、SiteMapDataSource コントロールをバインドします細かく、生成される HTML の制御では、次のようにします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-223">For a finer degree of control over the emitted HTML, we can bind the SiteMapDataSource control to the Repeater control, like so:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample6.aspx)]

<span data-ttu-id="d4ea2-224">SiteMapDataSource コントロールはルート サイト マップ ノード以降の時に、サイト マップの 1 つの階層レベルを返します (ホーム、弊社サイト マップ内)、[次へ] レベル (基本レポート、レポートのフィルター処理と書式設定をカスタマイズ)、という具合です。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-224">The SiteMapDataSource control returns the site map hierarchy one level at a time, starting with the root site map node (Home, in our site map), then the next level (Basic Reporting, Filtering Reports, and Customized Formatting), and so on.</span></span> <span data-ttu-id="d4ea2-225">SiteMapDataSource を Repeater にバインドするとき、最初のレベルを列挙します。 返されると、インスタンス化、`ItemTemplate`各`SiteMapNode`最初のレベルのインスタンス。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-225">When binding the SiteMapDataSource to a Repeater, it enumerates the first level returned and instantiates the `ItemTemplate` for each `SiteMapNode` instance in that first level.</span></span> <span data-ttu-id="d4ea2-226">特定のプロパティにアクセスする、`SiteMapNode`を使用して`Eval(propertyName)`をそれぞれ取得する方法は`SiteMapNode`の`Url`と`Title`ハイパーリンク コントロールのプロパティ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-226">To access a particular property of the `SiteMapNode`, we can use `Eval(propertyName)`, which is how we get each `SiteMapNode`'s `Url` and `Title` properties for the HyperLink control.</span></span>

<span data-ttu-id="d4ea2-227">上記の例で Repeater は、次のマークアップでレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-227">The Repeater example above will render the following markup:</span></span>

[!code-html[Main](master-pages-and-site-navigation-cs/samples/sample7.html)]

<span data-ttu-id="d4ea2-228">(基本的なレポート、レポートのフィルター処理、および書式設定のカスタマイズ) これらのサイト マップ ノードの構成、 *2 番目*最初、表示されるサイト マップのレベル。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-228">These site map nodes (Basic Reporting, Filtering Reports, and Customized Formatting) comprise the *second* level of the site map being rendered, not the first.</span></span> <span data-ttu-id="d4ea2-229">これは、SiteMapDataSource の`ShowStartingNode`プロパティが False に設定が原因で、SiteMapDataSource をルートのサイト マップ ノードをバイパスし、代わりに、サイト マップの階層内の 2 番目のレベルを返すことから始めます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-229">This is because the SiteMapDataSource's `ShowStartingNode` property is set to False, causing the SiteMapDataSource to bypass the root site map node and instead begin by returning the second level in the site map hierarchy.</span></span>

<span data-ttu-id="d4ea2-230">基本レポート、レポートのフィルター処理、および書式設定のカスタマイズされた子を表示する`SiteMapNode`s に初期 Repeater の別の Repeater を追加できます`ItemTemplate`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-230">To display the children for the Basic Reporting, Filtering Reports, and Customized Formatting `SiteMapNode` s, we can add another Repeater to the initial Repeater's `ItemTemplate`.</span></span> <span data-ttu-id="d4ea2-231">この 2 つ目の Repeater にバインドされます、`SiteMapNode`インスタンスの`ChildNodes`プロパティでは、次のようにします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-231">This second Repeater will be bound to the `SiteMapNode` instance's `ChildNodes` property, like so:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample8.aspx)]

<span data-ttu-id="d4ea2-232">これら 2 つのリピータは結果 (いくつかのマークアップが簡潔にするために削除された) 次のマークアップになります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-232">These two Repeaters result in the following markup (some markup has been removed for brevity):</span></span>

[!code-html[Main](master-pages-and-site-navigation-cs/samples/sample9.html)]

<span data-ttu-id="d4ea2-233">選択した CSS を使用してスタイル設定から[Rachel Andrew](http://www.rachelandrew.co.uk/)予約 's [CSS 禅僧。101 の重要なヒント、テクニック、&amp;ハック](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance)、`<ul>`と`<li>`要素は、マークアップは次のビジュアルの出力を生成するようにスタイル指定します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-233">Using CSS styles chosen from [Rachel Andrew](http://www.rachelandrew.co.uk/)'s book [The CSS Anthology: 101 Essential Tips, Tricks, &amp; Hacks](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance), the `<ul>` and `<li>` elements are styled such that the markup produces the following visual output:</span></span>

![2 つのリピータと CSS から構成メニュー](master-pages-and-site-navigation-cs/_static/image27.png)

<span data-ttu-id="d4ea2-235">**図 11**:2 つのリピータと CSS から構成メニュー</span><span class="sxs-lookup"><span data-stu-id="d4ea2-235">**Figure 11**: A Menu Composed from Two Repeaters and Some CSS</span></span>

<span data-ttu-id="d4ea2-236">このメニューは、マスター ページとで定義されているサイト マップにバインドされている`Web.sitemap`つまりページを使用するすべてのサイト マップの変更がすぐに反映されますを`Site.master`マスター ページ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-236">This menu is in the master page and bound to the site map defined in `Web.sitemap`, meaning that any change to the site map will be immediately reflected on all pages that use the `Site.master` master page.</span></span>

## <a name="disabling-viewstate"></a><span data-ttu-id="d4ea2-237">ViewState を無効にします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-237">Disabling ViewState</span></span>

<span data-ttu-id="d4ea2-238">すべての ASP.NET コントロールの状態を永続化できる必要に応じて、[ビューステート](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/)がレンダリングされた html フォームの非表示フィールドとしてシリアル化先。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-238">All ASP.NET controls can optionally persist their state to the [view state](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/), which is serialized as a hidden form field in the rendered HTML.</span></span> <span data-ttu-id="d4ea2-239">ビュー ステートは、データ Web コントロールにバインドされているデータなど、ポストバック間で、プログラムで変更の状態を記憶するコントロールによって使用されます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-239">View state is used by controls to remember their programmatically-changed state across postbacks, such as the data bound to a data Web control.</span></span> <span data-ttu-id="d4ea2-240">ビュー ステートは、ポストバック間で記憶しておくに情報を許可するときに、クライアントに送信する必要があり、重大なページが肥大化する可能性がない場合厳重に監視するためのマークアップのサイズが増加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-240">While view state permits information to be remembered across postbacks, it increases the size of the markup that must be sent to the client and can lead to severe page bloat if not closely monitored.</span></span> <span data-ttu-id="d4ea2-241">データ Web コントロール、GridView では特には特に何十もの追加のキロバイトのマークアップをページに追加することで有名です。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-241">Data Web controls especially the GridView are particularly notorious for adding dozens of extra kilobytes of markup to a page.</span></span> <span data-ttu-id="d4ea2-242">このような増加は、ブロード バンドまたはイントラネットのユーザーのごくわずかであり、ビュー ステートはダイヤルアップ ユーザーのラウンド トリップを数秒を追加できます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-242">While such an increase may be negligible for broadband or intranet users, view state can add several seconds to the round trip for dial-up users.</span></span>

<span data-ttu-id="d4ea2-243">状態を表示、ブラウザーでページを参照してください、および web ページによって送信されたソースを表示し、影響を確認する (Internet Explorer で、[表示] メニューに移動し、ソース オプションを選択)。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-243">To see the impact of view state, visit a page in a browser and then view the source sent by the web page (in Internet Explorer, go to the View menu and choose the Source option).</span></span> <span data-ttu-id="d4ea2-244">にすることもできます。[ページ トレース](https://msdn.microsoft.com/library/sfbfw58f.aspx)を各ページ上のコントロールで使用される割り当ての表示状態を確認します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-244">You can also turn on [page tracing](https://msdn.microsoft.com/library/sfbfw58f.aspx) to see the view state allocation used by each of the controls on the page.</span></span> <span data-ttu-id="d4ea2-245">という名前の隠しフォーム フィールドで、ビュー状態情報がシリアル化`__VIEWSTATE`にある、`<div>`要素の開始後すぐに`<form>`タグ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-245">The view state information is serialized in a hidden form field named `__VIEWSTATE`, located in a `<div>` element immediately after the opening `<form>` tag.</span></span> <span data-ttu-id="d4ea2-246">ビュー ステートは、使用されている Web フォームがある場合にのみ保存します。ASP.NET ページが含まれていない場合、`<form runat="server">`がその宣言構文内で、`__VIEWSTATE`隠しフォーム フィールドで、表示されるマークアップ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-246">View state is only persisted when there is a Web Form being used; if your ASP.NET page does not include a `<form runat="server">` in its declarative syntax there won't be a `__VIEWSTATE` hidden form field in the rendered markup.</span></span>

<span data-ttu-id="d4ea2-247">`__VIEWSTATE`マスター ページによって生成されたフォーム フィールドは、ページの生成されたマークアップを約 1,800 バイトを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-247">The `__VIEWSTATE` form field generated by the master page adds roughly 1,800 bytes to the page's generated markup.</span></span> <span data-ttu-id="d4ea2-248">この余分な肥大化は主に、Repeater コントロール、SiteMapDataSource コントロールの内容が状態を表示する永続化します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-248">This extra bloat is due primarily to the Repeater control, as the contents of the SiteMapDataSource control are persisted to view state.</span></span> <span data-ttu-id="d4ea2-249">余分な 1,800 バイト数が多くのフィールドとレコードを GridView を使用する場合、ワクワクさせる多くのように見えない可能性があります、中にビュー ステートが 10 個以上の倍数で swell 簡単にできます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-249">While an extra 1,800 bytes may not seem like much to get excited about, when using a GridView with many fields and records, the view state can easily swell by a factor of 10 or more.</span></span>

<span data-ttu-id="d4ea2-250">ビュー ステートはページまたはコントロールのレベルで設定して無効にすることができます、`EnableViewState`プロパティを`false`のため、出力されるマークアップのサイズを小さきます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-250">View state can be disabled at the page or control level by setting the `EnableViewState` property to `false`, thereby reducing the size of the rendered markup.</span></span> <span data-ttu-id="d4ea2-251">データ Web コントロールがポストバック間でデータ Web コントロールにバインドされたデータを永続化のビュー ステートから Web コントロールのデータのビュー ステートを無効にするときにデータは、それぞれのポストバック時にバインドする必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-251">Since the view state for a data Web control persists the data bound to the data Web control across postbacks, when disabling the view state for a data Web control the data must be bound on each and every postback.</span></span> <span data-ttu-id="d4ea2-252">ASP.NET のバージョンでこの役割は、ページの開発者の肩にかかってリンゴ 1.xASP.NET 2.0 でただし、Web コントロールのデータが再バインド ポストバックごとに、データ ソースの管理に必要な場合。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-252">In ASP.NET version 1.x this responsibility fell on the shoulders of the page developer; with ASP.NET 2.0, however, the data Web controls will rebind to their data source control on each postback if needed.</span></span>

<span data-ttu-id="d4ea2-253">Repeater コントロールの設定ページのビューステートを削減しましょう`EnableViewState`プロパティを`false`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-253">To reduce the page's view state let's set the Repeater control's `EnableViewState` property to `false`.</span></span> <span data-ttu-id="d4ea2-254">これは、デザイナーまたは宣言によって、ソース ビューでは、[プロパティ] ウィンドウから実行できます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-254">This can be done through the Properties window in the Designer or declaratively in the Source view.</span></span> <span data-ttu-id="d4ea2-255">この変更を行った後よう Repeater の宣言型マークアップになります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-255">After making this change the Repeater's declarative markup should look like:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample10.aspx)]

<span data-ttu-id="d4ea2-256">この変更は、ページのビュー ステートのサイズが自動的に圧縮をたったのレンダリング後にビューに状態 97% の節約、52 バイトのサイズ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-256">After this change, the page's rendered view state size has shrunk to a mere 52 bytes, a 97% savings in view state size!</span></span> <span data-ttu-id="d4ea2-257">チュートリアルではこのシリーズ全体でを無効にしますデータ Web コントロールのビューステート既定では、表示されるマークアップのサイズを小さくためにします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-257">In the tutorials throughout this series we'll disable the view state of the data Web controls by default in order to reduce the size of the rendered markup.</span></span> <span data-ttu-id="d4ea2-258">ほとんどの例では、`EnableViewState`プロパティに設定する`false`言及せず行ってとします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-258">In the majority of the examples the `EnableViewState` property will be set to `false` and done so without mention.</span></span> <span data-ttu-id="d4ea2-259">その期待される機能を提供する Web を制御するだけの時間の状態については、説明の表示はシナリオのデータの順序で有効する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-259">The only time view state will be discussed is in scenarios where it must be enabled in order for the data Web control to provide its expected functionality.</span></span>

## <a name="step-4-adding-breadcrumb-navigation"></a><span data-ttu-id="d4ea2-260">手順 4: 階層リンク ナビゲーションを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-260">Step 4: Adding Breadcrumb Navigation</span></span>

<span data-ttu-id="d4ea2-261">マスター ページを完了するには、各ページに、階層リンク ナビゲーション UI 要素を追加してみましょう。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-261">To complete the master page, let's add a breadcrumb navigation UI element to each page.</span></span> <span data-ttu-id="d4ea2-262">階層リンクでは、サイト階層内の現在位置をユーザーがすぐにわかります。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-262">The breadcrumb quickly shows users their current position within the site hierarchy.</span></span> <span data-ttu-id="d4ea2-263">ページに SiteMapPath コントロールを追加する ASP.NET 2.0 での階層リンクは簡単に追加します。コードは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-263">Adding a breadcrumb in ASP.NET 2.0 is easy just add a SiteMapPath control to the page; no code is needed.</span></span>

<span data-ttu-id="d4ea2-264">私たちのサイトのヘッダーにこのコントロールを追加`<div>`:</span><span class="sxs-lookup"><span data-stu-id="d4ea2-264">For our site, add this control to the header `<div>`:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample11.aspx)]

<span data-ttu-id="d4ea2-265">階層リンクは、ユーザーは、ルートまでサイト マップの階層とそのサイト マップ ノードの「先祖、」にアクセスして、現在のページを示します (ホームで、サイト マップ) します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-265">The breadcrumb shows the current page the user is visiting in the site map hierarchy as well as that site map node's "ancestors," all the way up to the root (Home, in our site map).</span></span>

![階層リンクには、現在のページが表示されます。 とその親サイトの階層をマッピングします。](master-pages-and-site-navigation-cs/_static/image28.png)

<span data-ttu-id="d4ea2-267">**図 12**:階層リンクには、現在のページが表示されます。 とその親サイトの階層をマッピングします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-267">**Figure 12**: The Breadcrumb Displays the Current Page and its Ancestors in the Site Map Hierarchy</span></span>

## <a name="step-5-adding-the-default-page-for-each-section"></a><span data-ttu-id="d4ea2-268">手順 5: 各セクションの既定のページを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-268">Step 5: Adding the Default Page for Each Section</span></span>

<span data-ttu-id="d4ea2-269">チュートリアルでは、サイトでは、さまざまなカテゴリに基本的なレポートでは、フィルター処理、カスタムの書式設定、各カテゴリとそのフォルダー内の ASP.NET ページと対応するチュートリアル用のフォルダーとこれに分類されます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-269">The tutorials in our site are broken down into different categories Basic Reporting, Filtering, Custom Formatting, and so on with a folder for each category and the corresponding tutorials as ASP.NET pages within that folder.</span></span> <span data-ttu-id="d4ea2-270">さらに、各フォルダーが含まれています、`Default.aspx`ページ。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-270">Additionally, each folder contains a `Default.aspx` page.</span></span> <span data-ttu-id="d4ea2-271">この既定のページの現在のセクションのチュートリアルのすべてのことを表示してみましょう。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-271">For this default page, let's display all of the tutorials for the current section.</span></span> <span data-ttu-id="d4ea2-272">つまりの`Default.aspx`で、`BasicReporting`フォルダーへのリンクになります`SimpleDisplay.aspx`、 `DeclarativeParams.aspx`、および`ProgrammaticParams.aspx`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-272">That is, for the `Default.aspx` in the `BasicReporting` folder we'd have links to `SimpleDisplay.aspx`, `DeclarativeParams.aspx`, and `ProgrammaticParams.aspx`.</span></span> <span data-ttu-id="d4ea2-273">ここでは、もう一度使える、`SiteMap`クラスとデータ サイト マップに基づいてこの情報を表示する Web コントロールで定義されている`Web.sitemap`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-273">Here, again, we can use the `SiteMap` class and a data Web control to display this information based upon the site map defined in `Web.sitemap`.</span></span>

<span data-ttu-id="d4ea2-274">今回のチュートリアルでは、説明、タイトルを表示しますが、もう一度、Repeater を使用して、順序なしリストを表示してみましょう。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-274">Let's display an unordered list using a Repeater again, but this time we'll display the title and description of the tutorials.</span></span> <span data-ttu-id="d4ea2-275">これを実行するコードとマークアップがごとに繰り返される必要があるため`Default.aspx` ページで、この UI ロジックをカプセル化ことができます、[ユーザー コントロール](https://msdn.microsoft.com/library/y6wb1a0e.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-275">Since the markup and code to accomplish this will need to be repeated for each `Default.aspx` page, we can encapsulate this UI logic in a [User Control](https://msdn.microsoft.com/library/y6wb1a0e.aspx).</span></span> <span data-ttu-id="d4ea2-276">呼ばれる web サイトにフォルダーを作成`UserControls`という名前の Web ユーザー コントロールの種類の新しい項目を追加および`SectionLevelTutorialListing.ascx`、し、次のマークアップを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-276">Create a folder in the website called `UserControls` and add to that a new item of type Web User Control named `SectionLevelTutorialListing.ascx`, and add the following markup:</span></span>

<span data-ttu-id="d4ea2-277">[![UserControls フォルダーに新しい Web ユーザー コントロールを追加します。](master-pages-and-site-navigation-cs/_static/image30.png)](master-pages-and-site-navigation-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-277">[![Add a New Web User Control to the UserControls Folder](master-pages-and-site-navigation-cs/_static/image30.png)](master-pages-and-site-navigation-cs/_static/image29.png)</span></span>

<span data-ttu-id="d4ea2-278">**図 13**:新しい Web ユーザー コントロールを追加、`UserControls`フォルダー ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image31.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-278">**Figure 13**: Add a New Web User Control to the `UserControls` Folder ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image31.png))</span></span>

<span data-ttu-id="d4ea2-279">SectionLevelTutorialListing.ascx</span><span class="sxs-lookup"><span data-stu-id="d4ea2-279">SectionLevelTutorialListing.ascx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample12.aspx)]

<span data-ttu-id="d4ea2-280">SectionLevelTutorialListing.ascx.cs</span><span class="sxs-lookup"><span data-stu-id="d4ea2-280">SectionLevelTutorialListing.ascx.cs</span></span>

[!code-csharp[Main](master-pages-and-site-navigation-cs/samples/sample13.cs)]

<span data-ttu-id="d4ea2-281">Repeater の前の例ではバインドされている、`SiteMap`データ、Repeater を宣言によって、`SectionLevelTutorialListing`ユーザー コントロール、ただしはプログラムでします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-281">In the previous Repeater example we bound the `SiteMap` data to the Repeater declaratively; the `SectionLevelTutorialListing` User Control, however, does so programmatically.</span></span> <span data-ttu-id="d4ea2-282">`Page_Load`イベント ハンドラーで、チェックを行うこのページの URL は、サイト マップ内のノードにマップすることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-282">In the `Page_Load` event handler, a check is made to ensure that this page s URL maps to a node in the site map.</span></span> <span data-ttu-id="d4ea2-283">ない、対応するページでこのユーザー コントロールを使用する場合`<siteMapNode>`エントリ、`SiteMap.CurrentNode`戻ります`null`データは、Repeater にバインドしないとします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-283">If this User Control is used in a page that does not have a corresponding `<siteMapNode>` entry, `SiteMap.CurrentNode` will return `null` and no data will be bound to the Repeater.</span></span> <span data-ttu-id="d4ea2-284">ある場合、 `CurrentNode`、バインド、`ChildNodes`リピータするコレクション。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-284">Assuming we have a `CurrentNode`, we bind its `ChildNodes` collection to the Repeater.</span></span> <span data-ttu-id="d4ea2-285">サイト マップが設定されているためように、 `Default.aspx`  ページの各セクションは、チュートリアルでは、そのセクション内のすべての親ノードには、以下のスクリーン ショットに示すように、このコードをへのリンクと、セクションのチュートリアルでは、すべての説明が表示されます。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-285">Since our site map is set up such that the `Default.aspx` page in each section is the parent node of all of the tutorials within that section, this code will display links to and descriptions of all of the section's tutorials, as shown in the screen shot below.</span></span>

<span data-ttu-id="d4ea2-286">この Repeater を作成すると、開く、`Default.aspx`の各、フォルダー内のページが、デザイン ビューに移動し、ドラッグ ユーザー コントロールをデザイン画面に ソリューション エクスプ ローラーからチュートリアルの一覧を表示します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-286">Once this Repeater has been created, open the `Default.aspx` pages in each of the folders, go to the Design view, and simply drag the User Control from the Solution Explorer onto the Design surface where you want the tutorial list to appear.</span></span>

<span data-ttu-id="d4ea2-287">[![ユーザー コントロールが Default.aspx に追加されています](master-pages-and-site-navigation-cs/_static/image33.png)](master-pages-and-site-navigation-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-287">[![The User Control has Been Added to Default.aspx](master-pages-and-site-navigation-cs/_static/image33.png)](master-pages-and-site-navigation-cs/_static/image32.png)</span></span>

<span data-ttu-id="d4ea2-288">**図 14**:ユーザー コントロールに追加された`Default.aspx`([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image34.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-288">**Figure 14**: The User Control has Been Added to `Default.aspx` ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image34.png))</span></span>

<span data-ttu-id="d4ea2-289">[![基本的なレポート作成のチュートリアルの一覧が表示されます。](master-pages-and-site-navigation-cs/_static/image36.png)](master-pages-and-site-navigation-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-289">[![The Basic Reporting Tutorials are Listed](master-pages-and-site-navigation-cs/_static/image36.png)](master-pages-and-site-navigation-cs/_static/image35.png)</span></span>

<span data-ttu-id="d4ea2-290">**図 15**:基本的なレポート作成のチュートリアルの一覧が表示されます ([フルサイズの画像を表示する をクリックします](master-pages-and-site-navigation-cs/_static/image37.png))。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-290">**Figure 15**: The Basic Reporting Tutorials are Listed ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image37.png))</span></span>

## <a name="summary"></a><span data-ttu-id="d4ea2-291">まとめ</span><span class="sxs-lookup"><span data-stu-id="d4ea2-291">Summary</span></span>

<span data-ttu-id="d4ea2-292">サイト マップの定義と完全なマスター ページ、ある一貫したページ レイアウトとナビゲーション スキームのデータに関連するチュートリアル。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-292">With the site map defined and the master page complete, we now have a consistent page layout and navigation scheme for our data-related tutorials.</span></span> <span data-ttu-id="d4ea2-293">私たちのサイトに追加のページ数に関係なくこの情報を集中管理されているために、迅速かつ簡単なプロセスは、サイト全体のページ レイアウトまたはサイトのナビゲーション情報を更新します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-293">Regardless of how many pages we add to our site, updating the site-wide page layout or site navigation information is a quick and simple process due to this information being centralized.</span></span> <span data-ttu-id="d4ea2-294">マスター ページでページのレイアウト情報が定義されている具体的には、`Site.master`とのマップにサイト`Web.sitemap`します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-294">Specifically, the page layout information is defined in the master page `Site.master` and the site map in `Web.sitemap`.</span></span> <span data-ttu-id="d4ea2-295">記述する必要はなく*任意*このサイト全体のページ レイアウトとナビゲーション メカニズムを実現するためにコードし、Visual Studio での完全な WYSIWYG デザイナー サポートを保持します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-295">We didn't need to write *any* code to achieve this site-wide page layout and navigation mechanism, and we retain full WYSIWYG designer support in Visual Studio.</span></span>

<span data-ttu-id="d4ea2-296">データ アクセス層とビジネス ロジック層を実施することで定義されている一貫したページ レイアウトとサイト ナビゲーションが発生しました準備ができているレポートの一般的なパターンの調査を開始するとします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-296">Having completed the Data Access Layer and Business Logic Layer and having a consistent page layout and site navigation defined, we're ready to begin exploring common reporting patterns.</span></span> <span data-ttu-id="d4ea2-297">[次](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md)3 つのチュートリアルについて説明します、gridview、DetailsView、BLL から取得されたデータを表示するレポートの基本的なタスクと、コントロールと FormView コントロールします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-297">In the [next](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) three tutorials we'll look at basic reporting tasks displaying data retrieved from the BLL in the GridView, DetailsView, and FormView controls.</span></span>

<span data-ttu-id="d4ea2-298">満足のプログラミングです。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-298">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="d4ea2-299">関連項目</span><span class="sxs-lookup"><span data-stu-id="d4ea2-299">Further Reading</span></span>

<span data-ttu-id="d4ea2-300">このチュートリアルで説明したトピックの詳細については、次の情報を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-300">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="d4ea2-301">ASP.NET マスター ページの概要</span><span class="sxs-lookup"><span data-stu-id="d4ea2-301">ASP.NET Master Pages Overview</span></span>](https://msdn.microsoft.com/library/wtxbf3hh.aspx)
- [<span data-ttu-id="d4ea2-302">ASP.NET 2.0 のマスター ページ</span><span class="sxs-lookup"><span data-stu-id="d4ea2-302">Master Pages in ASP.NET 2.0</span></span>](http://odetocode.com/Articles/419.aspx)
- [<span data-ttu-id="d4ea2-303">ASP.NET 2.0 のデザイン テンプレート</span><span class="sxs-lookup"><span data-stu-id="d4ea2-303">ASP.NET 2.0 Design Templates</span></span>](https://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx)
- [<span data-ttu-id="d4ea2-304">ASP.NET サイト ナビゲーションの概要</span><span class="sxs-lookup"><span data-stu-id="d4ea2-304">ASP.NET Site Navigation Overview</span></span>](https://msdn.microsoft.com/library/e468hxky.aspx)
- [<span data-ttu-id="d4ea2-305">サイトのナビゲーションでの ASP.NET 2.0 の確認</span><span class="sxs-lookup"><span data-stu-id="d4ea2-305">Examining ASP.NET 2.0's Site Navigation</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)
- [<span data-ttu-id="d4ea2-306">ASP.NET 2.0 のサイト ナビゲーション機能</span><span class="sxs-lookup"><span data-stu-id="d4ea2-306">ASP.NET 2.0 Site Navigation Features</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/20/431019.aspx)
- [<span data-ttu-id="d4ea2-307">ASP.NET ビュー ステートの理解</span><span class="sxs-lookup"><span data-stu-id="d4ea2-307">Understanding ASP.NET View State</span></span>](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/viewstate.asp)
- [<span data-ttu-id="d4ea2-308">方法: ASP.NET ページのトレースを有効にします。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-308">How to: Enable Tracing for an ASP.NET Page</span></span>](https://msdn.microsoft.com/library/94c55d08%28VS.80%29.aspx)
- [<span data-ttu-id="d4ea2-309">ASP.NET ユーザー コントロール</span><span class="sxs-lookup"><span data-stu-id="d4ea2-309">ASP.NET User Controls</span></span>](https://msdn.microsoft.com/library/y6wb1a0e.aspx)

## <a name="about-the-author"></a><span data-ttu-id="d4ea2-310">執筆者紹介</span><span class="sxs-lookup"><span data-stu-id="d4ea2-310">About the Author</span></span>

<span data-ttu-id="d4ea2-311">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)、7 つ受け取りますブックおよびの創設者の著者[4GuysFromRolla.com](http://www.4guysfromrolla.com)、Microsoft Web テクノロジと 1998 年から携わっています。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-311">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d4ea2-312">Scott は、フリーのコンサルタント、トレーナー、およびライターとして動作します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-312">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d4ea2-313">最新の著書は[ *Sams 教える自分で ASP.NET 2.0 24 時間以内に*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-313">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d4ea2-314">彼に到達できる[mitchell@4GuysFromRolla.comします。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-314">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="d4ea2-315">彼のブログにあるでまたは[ http://ScottOnWriting.NET](http://ScottOnWriting.NET)します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-315">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="d4ea2-316">特別なに感謝します。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-316">Special Thanks To</span></span>

<span data-ttu-id="d4ea2-317">このチュートリアル シリーズは、多くの便利なレビュー担当者によってレビューされました。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-317">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="d4ea2-318">このチュートリアルでは、潜在顧客レビュー担当者は、Liz Shulok、Dennis Patterson、および Hilton Giesenow でした。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-318">Lead reviewers for this tutorial were Liz Shulok, Dennis Patterson, and Hilton Giesenow.</span></span> <span data-ttu-id="d4ea2-319">今後、MSDN の記事を確認したいですか。</span><span class="sxs-lookup"><span data-stu-id="d4ea2-319">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="d4ea2-320">場合は、筆者に[mitchell@4GuysFromRolla.comします。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-320">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d4ea2-321">[前へ](creating-a-business-logic-layer-cs.md)
> [次へ](creating-a-data-access-layer-vb.md)</span><span class="sxs-lookup"><span data-stu-id="d4ea2-321">[Previous](creating-a-business-logic-layer-cs.md)
[Next](creating-a-data-access-layer-vb.md)</span></span>
