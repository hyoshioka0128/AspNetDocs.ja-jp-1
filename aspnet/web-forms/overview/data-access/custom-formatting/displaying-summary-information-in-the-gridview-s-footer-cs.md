---
uid: web-forms/overview/data-access/custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs
title: GridView のフッターに概要情報を表示するC#() |Microsoft Docs
author: rick-anderson
description: 概要情報は、多くの場合、概要行のレポートの下部に表示されます。 GridView コントロールには、pr できるセルのフッター行を含めることができます...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: d50edc31-9286-4c6a-8635-be09e72752a4
msc.legacyurl: /web-forms/overview/data-access/custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs
msc.type: authoredcontent
ms.openlocfilehash: b258a2bdeaea8da4e9c5c5d8043b167d94e1e817
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78441778"
---
# <a name="displaying-summary-information-in-the-gridviews-footer-c"></a><span data-ttu-id="3d1f3-104">GridView のフッターに概要情報を表示する (C#)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-104">Displaying Summary Information in the GridView's Footer (C#)</span></span>

<span data-ttu-id="3d1f3-105">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="3d1f3-106">[サンプルアプリのダウンロード](https://download.microsoft.com/download/9/6/9/969e5c94-dfb6-4e47-9570-d6d9e704c3c1/ASPNET_Data_Tutorial_15_CS.exe)または[PDF のダウンロード](displaying-summary-information-in-the-gridview-s-footer-cs/_static/datatutorial15cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-106">[Download Sample App](https://download.microsoft.com/download/9/6/9/969e5c94-dfb6-4e47-9570-d6d9e704c3c1/ASPNET_Data_Tutorial_15_CS.exe) or [Download PDF](displaying-summary-information-in-the-gridview-s-footer-cs/_static/datatutorial15cs1.pdf)</span></span>

> <span data-ttu-id="3d1f3-107">概要情報は、多くの場合、概要行のレポートの下部に表示されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-107">Summary information is often displayed at the bottom of the report in a summary row.</span></span> <span data-ttu-id="3d1f3-108">GridView コントロールには、プログラムを使用して集計データを挿入できるセルを持つフッター行を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-108">The GridView control can include a footer row into whose cells we can programmatically inject aggregate data.</span></span> <span data-ttu-id="3d1f3-109">このチュートリアルでは、このフッター行に集計データを表示する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-109">In this tutorial we'll see how to display aggregate data in this footer row.</span></span>

## <a name="introduction"></a><span data-ttu-id="3d1f3-110">はじめに</span><span class="sxs-lookup"><span data-stu-id="3d1f3-110">Introduction</span></span>

<span data-ttu-id="3d1f3-111">ユーザーは、各製品の価格、在庫の単位、注文の数、および並べ替えレベルを確認するだけでなく、平均価格、在庫数の合計数などの集計情報に関心がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-111">In addition to seeing each of the products' prices, units in stock, units on order, and reorder levels, a user might also be interested in aggregate information, such as the average price, the total number of units in stock, and so on.</span></span> <span data-ttu-id="3d1f3-112">このような概要情報は、多くの場合、概要行のレポートの下部に表示されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-112">Such summary information is often displayed at the bottom of the report in a summary row.</span></span> <span data-ttu-id="3d1f3-113">GridView コントロールには、プログラムを使用して集計データを挿入できるセルを持つフッター行を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-113">The GridView control can include a footer row into whose cells we can programmatically inject aggregate data.</span></span>

<span data-ttu-id="3d1f3-114">このタスクでは、3つの課題があります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-114">This task presents us with three challenges:</span></span>

1. <span data-ttu-id="3d1f3-115">フッター行を表示するように GridView を構成する</span><span class="sxs-lookup"><span data-stu-id="3d1f3-115">Configuring the GridView to display its footer row</span></span>
2. <span data-ttu-id="3d1f3-116">概要データの決定つまり、在庫数の平均価格または合計を計算するにはどうすればよいでしょうか。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-116">Determining the summary data; that is, how do we compute the average price or the total of the units in stock?</span></span>
3. <span data-ttu-id="3d1f3-117">フッター行の適切なセルに概要データを挿入する</span><span class="sxs-lookup"><span data-stu-id="3d1f3-117">Injecting the summary data into the appropriate cells of the footer row</span></span>

<span data-ttu-id="3d1f3-118">このチュートリアルでは、これらの課題を克服する方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-118">In this tutorial we'll see how to overcome these challenges.</span></span> <span data-ttu-id="3d1f3-119">具体的には、選択したカテゴリの製品が GridView に表示されているドロップダウンリストのカテゴリを一覧表示するページを作成します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-119">Specifically, we'll create a page that lists the categories in a drop-down list with the selected category's products displayed in a GridView.</span></span> <span data-ttu-id="3d1f3-120">GridView には、そのカテゴリの製品について、在庫の平均価格と総単位数を示すフッター行が含まれます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-120">The GridView will include a footer row that shows the average price and total number of units in stock and on order for products in that category.</span></span>

<span data-ttu-id="3d1f3-121">[![概要情報が GridView のフッター行に表示されます](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image2.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-121">[![Summary Information is Displayed in the GridView's Footer Row](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image2.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image1.png)</span></span>

<span data-ttu-id="3d1f3-122">**図 1**: 概要情報が GridView のフッター行に表示される ([クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image3.png)されます)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-122">**Figure 1**: Summary Information is Displayed in the GridView's Footer Row ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image3.png))</span></span>

<span data-ttu-id="3d1f3-123">このチュートリアルでは、カテゴリを製品マスター/詳細インターフェイスと共に使用して、前の[マスター/詳細フィルター処理](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md)で説明されている概念を DropDownList チュートリアルに基づいて作成します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-123">This tutorial, with its category to products master/detail interface, builds upon the concepts covered in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial.</span></span> <span data-ttu-id="3d1f3-124">前のチュートリアルをまだ実行していない場合は、このチュートリアルを続行する前に行ってください。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-124">If you've not yet worked through the earlier tutorial, please do so before continuing on with this one.</span></span>

## <a name="step-1-adding-the-categories-dropdownlist-and-products-gridview"></a><span data-ttu-id="3d1f3-125">手順 1: DropDownList と製品のカテゴリ GridView を追加する</span><span class="sxs-lookup"><span data-stu-id="3d1f3-125">Step 1: Adding the Categories DropDownList and Products GridView</span></span>

<span data-ttu-id="3d1f3-126">GridView のフッターに概要情報を追加する前に、まずマスター/詳細レポートを作成してみましょう。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-126">Before concerning ourselves with adding summary information to the GridView's footer, let's first simply build the master/detail report.</span></span> <span data-ttu-id="3d1f3-127">この最初の手順を完了したら、概要データを含める方法を見ていきます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-127">Once we've completed this first step, we'll look at how to include summary data.</span></span>

<span data-ttu-id="3d1f3-128">まず、`CustomFormatting` フォルダーの [`SummaryDataInFooter.aspx`] ページを開きます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-128">Start by opening the `SummaryDataInFooter.aspx` page in the `CustomFormatting` folder.</span></span> <span data-ttu-id="3d1f3-129">DropDownList コントロールを追加し、その `ID` を `Categories`に設定します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-129">Add a DropDownList control and set its `ID` to `Categories`.</span></span> <span data-ttu-id="3d1f3-130">次に、DropDownList のスマートタグから [データソースの選択] リンクをクリックし、`CategoriesBLL` クラスの `GetCategories()` メソッドを呼び出す `CategoriesDataSource` という名前の新しい ObjectDataSource を追加することを選択します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-130">Next, click on the Choose Data Source link from the DropDownList's smart tag and opt to add a new ObjectDataSource named `CategoriesDataSource` that invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span>

<span data-ttu-id="3d1f3-131">[新しい ObjectDataSource という名前の新しい名前のデータソースを追加 ![には](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image5.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-131">[![Add a New ObjectDataSource Named CategoriesDataSource](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image5.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image4.png)</span></span>

<span data-ttu-id="3d1f3-132">**図 2**: `CategoriesDataSource` という名前の新しい ObjectDataSource を追加[する (クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image6.png)される)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-132">**Figure 2**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image6.png))</span></span>

<span data-ttu-id="3d1f3-133">[ObjectDataSource が GetCategories () メソッドを呼び出す ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image8.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-133">[![Have the ObjectDataSource Invoke the CategoriesBLL Class's GetCategories() Method](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image8.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image7.png)</span></span>

<span data-ttu-id="3d1f3-134">**図 3**: ObjectDataSource に `CategoriesBLL` クラスの `GetCategories()` メソッドを呼び出す ([クリックしてフルサイズのイメージを表示する](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="3d1f3-134">**Figure 3**: Have the ObjectDataSource Invoke the `CategoriesBLL` Class's `GetCategories()` Method ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image9.png))</span></span>

<span data-ttu-id="3d1f3-135">ObjectDataSource を構成した後、ウィザードは DropDownList のデータソース構成ウィザードに戻ります。ここで、表示するデータフィールドの値と、DropDownList の `ListItem` s の値に対応するデータフィールドの値を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-135">After configuring the ObjectDataSource, the wizard returns us to the DropDownList's Data Source Configuration wizard from which we need to specify what data field value should be displayed and which one should correspond to the value of the DropDownList's `ListItem` s.</span></span> <span data-ttu-id="3d1f3-136">`CategoryName` フィールドを表示し、`CategoryID` を値として使用します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-136">Have the `CategoryName` field displayed and use the `CategoryID` as the value.</span></span>

<span data-ttu-id="3d1f3-137">[ListItems のテキストと値として、[区分値] フィールドと [CategoryID] フィールドをそれぞれ使用 ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image11.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-137">[![Use the CategoryName and CategoryID Fields as the Text and Value for the ListItems, Respectively](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image11.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image10.png)</span></span>

<span data-ttu-id="3d1f3-138">**図 4**: `CategoryName` フィールドと `CategoryID` フィールドをそれぞれ `ListItem` の `Text` および `Value` として使用する ([クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image12.png)されます)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-138">**Figure 4**: Use the `CategoryName` and `CategoryID` Fields as the `Text` and `Value` for the `ListItem` s, Respectively ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image12.png))</span></span>

<span data-ttu-id="3d1f3-139">この時点で、システム内のカテゴリを一覧表示する DropDownList (`Categories`) があります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-139">At this point we have a DropDownList (`Categories`) that lists the categories in the system.</span></span> <span data-ttu-id="3d1f3-140">次に、選択したカテゴリに属する製品を一覧表示する GridView を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-140">We now need to add a GridView that lists those products that belong to the selected category.</span></span> <span data-ttu-id="3d1f3-141">ただし、その前に、DropDownList のスマートタグの [AutoPostBack を有効にする] チェックボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-141">Before we do, though, take a moment to check the Enable AutoPostBack checkbox in the DropDownList's smart tag.</span></span> <span data-ttu-id="3d1f3-142">「 *Dropdownlist を使用したマスター/詳細のフィルター処理*」のチュートリアルで説明したように、dropdownlist の `AutoPostBack` プロパティをに設定すると、dropdownlist 値が変更されるたびにページがポストバックされ `true` ます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-142">As discussed in the *Master/Detail Filtering With a DropDownList* tutorial, by setting the DropDownList's `AutoPostBack` property to `true` the page will be posted back each time the DropDownList value is changed.</span></span> <span data-ttu-id="3d1f3-143">これにより、GridView が更新され、新しく選択されたカテゴリの製品が表示されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-143">This will cause the GridView to be refreshed, showing those products for the newly selected category.</span></span> <span data-ttu-id="3d1f3-144">`AutoPostBack` プロパティが `false` (既定値) に設定されている場合、カテゴリを変更してもポストバックは行われないため、表示されている製品は更新されません。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-144">If the `AutoPostBack` property is set to `false` (the default), changing the category won't cause a postback and therefore won't update the listed products.</span></span>

<span data-ttu-id="3d1f3-145">[DropDownList のスマートタグの [AutoPostBack を有効にする] チェックボックスをオンに ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image14.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-145">[![Check the Enable AutoPostBack Checkbox in the DropDownList's Smart Tag](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image14.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image13.png)</span></span>

<span data-ttu-id="3d1f3-146">**図 5**: DropDownList のスマートタグの [AutoPostBack を有効にする] チェックボックスをオン[にする (クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image15.png)されます)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-146">**Figure 5**: Check the Enable AutoPostBack Checkbox in the DropDownList's Smart Tag ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image15.png))</span></span>

<span data-ttu-id="3d1f3-147">選択したカテゴリの製品を表示するために、GridView コントロールをページに追加します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-147">Add a GridView control to the page in order to display the products for the selected category.</span></span> <span data-ttu-id="3d1f3-148">GridView の `ID` を `ProductsInCategory` に設定し、`ProductsInCategoryDataSource`という名前の新しい ObjectDataSource にバインドします。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-148">Set the GridView's `ID` to `ProductsInCategory` and bind it to a new ObjectDataSource named `ProductsInCategoryDataSource`.</span></span>

<span data-ttu-id="3d1f3-149">[新しい ObjectDataSource という名前の ProductsInCategoryDataSource を追加 ![には](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image17.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-149">[![Add a New ObjectDataSource Named ProductsInCategoryDataSource](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image17.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image16.png)</span></span>

<span data-ttu-id="3d1f3-150">**図 6**: `ProductsInCategoryDataSource` という名前の新しい ObjectDataSource を追加[する (クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image18.png)される)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-150">**Figure 6**: Add a New ObjectDataSource Named `ProductsInCategoryDataSource` ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image18.png))</span></span>

<span data-ttu-id="3d1f3-151">`ProductsBLL` クラスの `GetProductsByCategoryID(categoryID)` メソッドを呼び出すように ObjectDataSource を構成します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-151">Configure the ObjectDataSource so that it invokes the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span>

<span data-ttu-id="3d1f3-152">[ObjectDataSource が Get$ Bycategoryid (categoryID) メソッドを呼び出す ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image20.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-152">[![Have the ObjectDataSource Invoke the GetProductsByCategoryID(categoryID) Method](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image20.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image19.png)</span></span>

<span data-ttu-id="3d1f3-153">**図 7**: ObjectDataSource で `GetProductsByCategoryID(categoryID)` メソッドを呼び出す ([クリックしてフルサイズのイメージを表示する](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="3d1f3-153">**Figure 7**: Have the ObjectDataSource Invoke the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image21.png))</span></span>

<span data-ttu-id="3d1f3-154">`GetProductsByCategoryID(categoryID)` メソッドは入力パラメーターを受け取るため、ウィザードの最後の手順では、パラメーター値のソースを指定できます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-154">Since the `GetProductsByCategoryID(categoryID)` method takes in an input parameter, in the final step of the wizard we can specify the source of the parameter value.</span></span> <span data-ttu-id="3d1f3-155">選択したカテゴリの製品を表示するには、パラメーターを `Categories` DropDownList からプルします。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-155">In order to display those products from the selected category, have the parameter pulled from the `Categories` DropDownList.</span></span>

<span data-ttu-id="3d1f3-156">[選択したカテゴリから categoryID パラメーター値を取得 ![には、DropDownList](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image23.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-156">[![Get the categoryID Parameter Value from the Selected Categories DropDownList](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image23.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image22.png)</span></span>

<span data-ttu-id="3d1f3-157">**図 8**: 選択したカテゴリの DropDownList から *`categoryID`* パラメーター値を取得[する (クリックしてフルサイズのイメージを表示する](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="3d1f3-157">**Figure 8**: Get the *`categoryID`* Parameter Value from the Selected Categories DropDownList ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image24.png))</span></span>

<span data-ttu-id="3d1f3-158">ウィザードを完了すると、GridView には各製品プロパティの BoundField が表示されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-158">After completing the wizard the GridView will have a BoundField for each of the product properties.</span></span> <span data-ttu-id="3d1f3-159">これらの連結フィールドをクリーンアップして、`ProductName`、`UnitPrice`、`UnitsInStock`、および `UnitsOnOrder` BoundFields のみが表示されるようにしてみましょう。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-159">Let's clean up these BoundFields so that only the `ProductName`, `UnitPrice`, `UnitsInStock`, and `UnitsOnOrder` BoundFields are displayed.</span></span> <span data-ttu-id="3d1f3-160">フィールドレベルの設定は、残りの BoundFields に自由に追加できます (`UnitPrice` を通貨として書式設定するなど)。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-160">Feel free to add any field-level settings to the remaining BoundFields (such as formatting the `UnitPrice` as a currency).</span></span> <span data-ttu-id="3d1f3-161">これらの変更を行った後、GridView の宣言型マークアップは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-161">After making these changes, the GridView's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample1.aspx)]

<span data-ttu-id="3d1f3-162">この時点で、マスター/詳細レポートが完全に機能しており、選択したカテゴリに属する製品の名前、単価、在庫数、および単位が表示されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-162">At this point we have a fully functioning master/detail report that shows the name, unit price, units in stock, and units on order for those products that belong to the selected category.</span></span>

<span data-ttu-id="3d1f3-163">[選択したカテゴリから categoryID パラメーター値を取得 ![には、DropDownList](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image26.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-163">[![Get the categoryID Parameter Value from the Selected Categories DropDownList](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image26.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image25.png)</span></span>

<span data-ttu-id="3d1f3-164">**図 9**: 選択したカテゴリの DropDownList から *`categoryID`* パラメーター値を取得[する (クリックしてフルサイズのイメージを表示する](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="3d1f3-164">**Figure 9**: Get the *`categoryID`* Parameter Value from the Selected Categories DropDownList ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image27.png))</span></span>

## <a name="step-2-displaying-a-footer-in-the-gridview"></a><span data-ttu-id="3d1f3-165">手順 2: GridView でのフッターの表示</span><span class="sxs-lookup"><span data-stu-id="3d1f3-165">Step 2: Displaying a Footer in the GridView</span></span>

<span data-ttu-id="3d1f3-166">GridView コントロールは、ヘッダーとフッターの両方の行を表示できます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-166">The GridView control can display both a header and footer row.</span></span> <span data-ttu-id="3d1f3-167">これらの行は、それぞれ `ShowHeader` の値と `ShowFooter` プロパティの値に応じて表示されます。 `ShowHeader` 既定では、`true` して `ShowFooter` に `false`します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-167">These rows are displayed depending on the values of the `ShowHeader` and `ShowFooter` properties, respectively, with `ShowHeader` defaulting to `true` and `ShowFooter` to `false`.</span></span> <span data-ttu-id="3d1f3-168">GridView にフッターを含めるには、単に `ShowFooter` プロパティを `true`に設定します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-168">To include a footer in the GridView simply set its `ShowFooter` property to `true`.</span></span>

<span data-ttu-id="3d1f3-169">[GridView の ShowFooter プロパティを true に設定 ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image29.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-169">[![Set the GridView's ShowFooter Property to true](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image29.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image28.png)</span></span>

<span data-ttu-id="3d1f3-170">**図 10**: GridView の `ShowFooter` プロパティを `true` に設定する ([クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image30.png)されます)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-170">**Figure 10**: Set the GridView's `ShowFooter` Property to `true` ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image30.png))</span></span>

<span data-ttu-id="3d1f3-171">フッター行には、GridView で定義されている各フィールドのセルがあります。ただし、これらのセルは既定では空です。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-171">The footer row has a cell for each of the fields defined in the GridView; however, these cells are empty by default.</span></span> <span data-ttu-id="3d1f3-172">ブラウザーで進行状況を確認してください。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-172">Take a moment to view our progress in a browser.</span></span> <span data-ttu-id="3d1f3-173">`ShowFooter` プロパティが `true`に設定され、GridView に空のフッター行が含まれるようになりました。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-173">With the `ShowFooter` property now set to `true`, the GridView includes an empty footer row.</span></span>

<span data-ttu-id="3d1f3-174">[GridView にフッター行が含まれるようになった ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image32.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-174">[![The GridView Now Includes a Footer Row](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image32.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image31.png)</span></span>

<span data-ttu-id="3d1f3-175">**図 11**: GridView にフッター行が含まれるようになりました ([クリックしてフルサイズの画像を表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="3d1f3-175">**Figure 11**: The GridView Now Includes a Footer Row ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image33.png))</span></span>

<span data-ttu-id="3d1f3-176">図11のフッター行は、白の背景を持つためにはありません。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-176">The footer row in Figure 11 doesn't stand out, as it has a white background.</span></span> <span data-ttu-id="3d1f3-177">濃い赤の背景を指定する `Styles.css` で `FooterStyle` CSS クラスを作成してから、この CSS クラスを GridView の `FooterStyle`の `CssClass` プロパティに割り当てるように `DataWebControls` テーマの `GridView.skin` スキンファイルを構成します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-177">Let's create a `FooterStyle` CSS class in `Styles.css` that specifies a dark red background and then configure the `GridView.skin` Skin file in the `DataWebControls` Theme to assign this CSS class to the GridView's `FooterStyle`'s `CssClass` property.</span></span> <span data-ttu-id="3d1f3-178">スキンとテーマに対してブラシを作成する必要がある場合は、「ObjectDataSource チュートリアルを使用した[データの表示](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-178">If you need to brush up on Skins and Themes, refer back to the [Displaying Data With the ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) tutorial.</span></span>

<span data-ttu-id="3d1f3-179">まず、`Styles.css`に次の CSS クラスを追加します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-179">Start by adding the following CSS class to `Styles.css`:</span></span>

[!code-css[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample2.css)]

<span data-ttu-id="3d1f3-180">`FooterStyle` CSS クラスは `HeaderStyle` クラスとスタイルが似ていますが、`HeaderStyle`の背景色は濃い色であり、そのテキストは太字のフォントで表示されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-180">The `FooterStyle` CSS class is similar in style to the `HeaderStyle` class, although the `HeaderStyle`'s background color is subtlety darker and its text is displayed in a bold font.</span></span> <span data-ttu-id="3d1f3-181">さらに、フッター内のテキストは右揃えになり、ヘッダーのテキストは中央揃えになります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-181">Furthermore, the text in the footer is right-aligned whereas the header's text is centered.</span></span>

<span data-ttu-id="3d1f3-182">次に、この CSS クラスをすべての GridView のフッターに関連付けるには、`DataWebControls` テーマで `GridView.skin` ファイルを開き、`FooterStyle`の `CssClass` プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-182">Next, to associate this CSS class with every GridView's footer, open the `GridView.skin` file in the `DataWebControls` Theme and set the `FooterStyle`'s `CssClass` property.</span></span> <span data-ttu-id="3d1f3-183">この追加後、ファイルのマークアップは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-183">After this addition the file's markup should look like:</span></span>

[!code-aspx[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample3.aspx)]

<span data-ttu-id="3d1f3-184">次のスクリーンショットに示すように、この変更により、フッターがより明確になります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-184">As the screen shot below shows, this change makes the footer stand out more clearly.</span></span>

<span data-ttu-id="3d1f3-185">[GridView のフッター行に Reddish の背景色が設定されている ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image35.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-185">[![The GridView's Footer Row Now Has a Reddish Background Color](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image35.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image34.png)</span></span>

<span data-ttu-id="3d1f3-186">**図 12**: GridView のフッター行に Reddish の背景色が設定されている ([クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image36.png)される)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-186">**Figure 12**: The GridView's Footer Row Now Has a Reddish Background Color ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image36.png))</span></span>

## <a name="step-3-computing-the-summary-data"></a><span data-ttu-id="3d1f3-187">手順 3: 概要データを計算する</span><span class="sxs-lookup"><span data-stu-id="3d1f3-187">Step 3: Computing the Summary Data</span></span>

<span data-ttu-id="3d1f3-188">GridView のフッターが表示されたら、次に、概要データを計算する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-188">With the GridView's footer displayed, the next challenge facing us is how to compute the summary data.</span></span> <span data-ttu-id="3d1f3-189">この集計情報を計算するには、次の2つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-189">There are two ways to compute this aggregate information:</span></span>

1. <span data-ttu-id="3d1f3-190">SQL クエリを使用すると、データベースに対して追加のクエリを発行し、特定のカテゴリの概要データを計算できます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-190">Through a SQL query we could issue an additional query to the database to compute the summary data for a particular category.</span></span> <span data-ttu-id="3d1f3-191">SQL には、データを集約するデータを指定するために、`GROUP BY` 句と共に多数の集計関数が含まれています。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-191">SQL includes a number of aggregate functions along with a `GROUP BY` clause to specify the data over which the data should be summarized.</span></span> <span data-ttu-id="3d1f3-192">次の SQL クエリを実行すると、必要な情報が返されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-192">The following SQL query would bring back the needed information:</span></span>  

    [!code-sql[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample4.sql)]

    <span data-ttu-id="3d1f3-193">もちろん、このクエリを `SummaryDataInFooter.aspx` ページから直接発行するのではなく、`ProductsTableAdapter` と `ProductsBLL`でメソッドを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-193">Of course you wouldn't want to issue this query directly from the `SummaryDataInFooter.aspx` page, but rather by creating a method in the `ProductsTableAdapter` and the `ProductsBLL`.</span></span>
2. <span data-ttu-id="3d1f3-194">「[データに基づくカスタム書式](custom-formatting-based-upon-data-cs.md)設定」のチュートリアルで説明されているように、gridview に追加されるときにこの情報を計算します。 gridview の `RowDataBound` イベントハンドラーは、データバインドされた後に、gridview に追加される各行に対して1回発生します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-194">Compute this information as it's being added to the GridView as discussed in [Custom Formatting Based Upon Data](custom-formatting-based-upon-data-cs.md) tutorial, the GridView's `RowDataBound` event handler fires once for each row being added to the GridView after its been databound.</span></span> <span data-ttu-id="3d1f3-195">このイベントのイベントハンドラーを作成することによって、集計する値の累計を保持できます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-195">By creating an event handler for this event we can keep a running total of the values we want to aggregate.</span></span> <span data-ttu-id="3d1f3-196">最後のデータ行が GridView にバインドされると、平均の計算に必要な合計と情報が得られます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-196">After the last data row has been bound to the GridView we have the totals and the information needed to compute the average.</span></span>

<span data-ttu-id="3d1f3-197">通常は、データベースへのトリップを保存し、データアクセス層とビジネスロジック層で概要機能を実装するために必要な作業を行うために、2番目のアプローチを採用しますが、どちらの方法でも十分です。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-197">I typically employ the second approach as it saves a trip to the database and the effort needed to implement the summary functionality in the Data Access Layer and Business Logic Layer, but either approach would suffice.</span></span> <span data-ttu-id="3d1f3-198">このチュートリアルでは、2番目のオプションを使用して、`RowDataBound` イベントハンドラーを使用して累計を追跡します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-198">For this tutorial let's use the second option and keep track of the running total using the `RowDataBound` event handler.</span></span>

<span data-ttu-id="3d1f3-199">デザイナーで GridView を選択し、プロパティウィンドウの [稲妻] アイコンをクリックして、[`RowDataBound`] イベントをダブルクリックして、GridView の `RowDataBound` イベントハンドラーを作成します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-199">Create a `RowDataBound` event handler for the GridView by selecting the GridView in the Designer, clicking the lightning bolt icon from the Properties window, and double-clicking the `RowDataBound` event.</span></span> <span data-ttu-id="3d1f3-200">これにより、`SummaryDataInFooter.aspx` ページの分離コードクラスに `ProductsInCategory_RowDataBound` という名前の新しいイベントハンドラーが作成されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-200">This will create a new event handler named `ProductsInCategory_RowDataBound` in the `SummaryDataInFooter.aspx` page's code-behind class.</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample5.cs)]

<span data-ttu-id="3d1f3-201">累計を維持するために、イベントハンドラーのスコープ外で変数を定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-201">In order to maintain a running total we need to define variables outside of the scope of the event handler.</span></span> <span data-ttu-id="3d1f3-202">次の4つのページレベル変数を作成します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-202">Create the following four page-level variables:</span></span>

- <span data-ttu-id="3d1f3-203">`_totalUnitPrice`、型 `decimal`</span><span class="sxs-lookup"><span data-stu-id="3d1f3-203">`_totalUnitPrice`, of type `decimal`</span></span>
- <span data-ttu-id="3d1f3-204">`_totalNonNullUnitPriceCount`、型 `int`</span><span class="sxs-lookup"><span data-stu-id="3d1f3-204">`_totalNonNullUnitPriceCount`, of type `int`</span></span>
- <span data-ttu-id="3d1f3-205">`_totalUnitsInStock`、型 `int`</span><span class="sxs-lookup"><span data-stu-id="3d1f3-205">`_totalUnitsInStock`, of type `int`</span></span>
- <span data-ttu-id="3d1f3-206">`_totalUnitsOnOrder`、型 `int`</span><span class="sxs-lookup"><span data-stu-id="3d1f3-206">`_totalUnitsOnOrder`, of type `int`</span></span>

<span data-ttu-id="3d1f3-207">次に、`RowDataBound` イベントハンドラーで検出された各データ行に対して、これら3つの変数をインクリメントするコードを記述します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-207">Next, write the code to increment these three variables for each data row encountered in the `RowDataBound` event handler.</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample6.cs)]

<span data-ttu-id="3d1f3-208">`RowDataBound` イベントハンドラーは、まず DataRow を処理することから始めます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-208">The `RowDataBound` event handler starts by ensuring that we're dealing with a DataRow.</span></span> <span data-ttu-id="3d1f3-209">この設定が完了すると、`e.Row` の `GridViewRow` オブジェクトにバインドされた `Northwind.ProductsRow` インスタンスは、変数 `product`に格納されます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-209">Once that's been established, the `Northwind.ProductsRow` instance that was just bound to the `GridViewRow` object in `e.Row` is stored in the variable `product`.</span></span> <span data-ttu-id="3d1f3-210">次に、実行中の合計変数は、現在の製品の対応する値によってインクリメントされます (データベース `NULL` 値が含まれていないことを前提としています)。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-210">Next, running total variables are incremented by the current product's corresponding values (assuming that they don't contain a database `NULL` value).</span></span> <span data-ttu-id="3d1f3-211">平均価格はこれら2つの数値の商であるため、実行中の `UnitPrice` 合計と非`NULL` `UnitPrice` レコードの数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-211">We keep track of both the running `UnitPrice` total and the number of non-`NULL` `UnitPrice` records because the average price is the quotient of these two numbers.</span></span>

## <a name="step-4-displaying-the-summary-data-in-the-footer"></a><span data-ttu-id="3d1f3-212">手順 4: 概要データをフッターに表示する</span><span class="sxs-lookup"><span data-stu-id="3d1f3-212">Step 4: Displaying the Summary Data in the Footer</span></span>

<span data-ttu-id="3d1f3-213">概要データの合計が表示されたら、最後に GridView のフッター行に表示します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-213">With the summary data totaled, the last step is to display it in the GridView's footer row.</span></span> <span data-ttu-id="3d1f3-214">このタスクも、`RowDataBound` イベントハンドラーを使用してプログラムで実行できます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-214">This task, too, can be accomplished programmatically through the `RowDataBound` event handler.</span></span> <span data-ttu-id="3d1f3-215">フッター行を含め、GridView にバインドされている*すべて*の行に対して、`RowDataBound` イベントハンドラーが起動されることを思い出してください。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-215">Recall that the `RowDataBound` event handler fires for *every* row that's bound to the GridView, including the footer row.</span></span> <span data-ttu-id="3d1f3-216">したがって、次のコードを使用して、フッター行にデータを表示するようにイベントハンドラーを拡張できます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-216">Therefore, we can augment our event handler to display the data in the footer row using the following code:</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample7.cs)]

<span data-ttu-id="3d1f3-217">すべてのデータ行が追加された後に、フッター行が GridView に追加されるため、集計データをフッターに表示する準備が完了したことを確信することができます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-217">Since the footer row is added to the GridView after all of the data rows have been added, we can be confident that by the time we're ready to display the summary data in the footer the running total calculations will have completed.</span></span> <span data-ttu-id="3d1f3-218">最後の手順として、フッターのセルにこれらの値を設定します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-218">The last step, then, is to set these values in the footer's cells.</span></span>

<span data-ttu-id="3d1f3-219">特定のフッターセルにテキストを表示するには、`e.Row.Cells[index].Text = value`を使用します。この場合、`Cells` のインデックスは0から始まります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-219">To display text in a particular footer cell, use `e.Row.Cells[index].Text = value`, where the `Cells` indexing starts at 0.</span></span> <span data-ttu-id="3d1f3-220">次のコードでは、平均価格 (製品数で割った合計価格) を計算し、その GridView の適切なフッターセル内の在庫数および単位の合計数と共に表示します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-220">The following code computes the average price (the total price divided by the number of products) and displays it along with the total number of units in stock and units on order in the appropriate footer cells of the GridView.</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample8.cs)]

<span data-ttu-id="3d1f3-221">図13は、このコードが追加された後のレポートを示しています。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-221">Figure 13 shows the report after this code has been added.</span></span> <span data-ttu-id="3d1f3-222">`ToString("c")` によって、平均価格の概要情報が通貨のように書式設定されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-222">Note how the `ToString("c")` causes the average price summary information to be formatted like a currency.</span></span>

<span data-ttu-id="3d1f3-223">[GridView のフッター行に Reddish の背景色が設定されている ![](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image38.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-223">[![The GridView's Footer Row Now Has a Reddish Background Color](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image38.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image37.png)</span></span>

<span data-ttu-id="3d1f3-224">**図 13**: GridView のフッター行に Reddish の背景色が設定されている ([クリックすると、フルサイズの画像が表示](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image39.png)される)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-224">**Figure 13**: The GridView's Footer Row Now Has a Reddish Background Color ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image39.png))</span></span>

## <a name="summary"></a><span data-ttu-id="3d1f3-225">まとめ</span><span class="sxs-lookup"><span data-stu-id="3d1f3-225">Summary</span></span>

<span data-ttu-id="3d1f3-226">概要データの表示は一般的なレポートの要件であり、GridView コントロールを使用すると、そのような情報をフッター行に簡単に含めることができます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-226">Displaying summary data is a common report requirement, and the GridView control makes it easy to include such information in its footer row.</span></span> <span data-ttu-id="3d1f3-227">フッター行は、GridView の `ShowFooter` プロパティが `true` に設定されている場合に表示されます。また、`RowDataBound` イベントハンドラーを使用して、セル内のテキストをプログラムによって設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-227">The footer row is displayed when the GridView's `ShowFooter` property is set to `true` and can have the text in its cells set programmatically through the `RowDataBound` event handler.</span></span> <span data-ttu-id="3d1f3-228">概要データを計算するには、データベースに対してクエリを再実行するか、ASP.NET ページの分離コードクラスのコードを使用して、概要データをプログラムで計算します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-228">Computing the summary data can either be done by re-querying the database or by using code in the ASP.NET page's code-behind class to programmatically compute the summary data.</span></span>

<span data-ttu-id="3d1f3-229">このチュートリアルでは、GridView、DetailsView、および FormView コントロールを使用したカスタム書式設定の検証を終了します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-229">This tutorial concludes our examination of custom formatting with the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="3d1f3-230">次のチュートリアルでは、これらの同じコントロールを使用したデータの挿入、更新、および削除についての調査を開始します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-230">Our next tutorial kicks off our exploration of inserting, updating, and deleting data using these same controls.</span></span>

<span data-ttu-id="3d1f3-231">プログラミングを楽しんでください。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="3d1f3-232">著者について</span><span class="sxs-lookup"><span data-stu-id="3d1f3-232">About the Author</span></span>

<span data-ttu-id="3d1f3-233">1998以来、 [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)は 7 asp/創設者 of [4GuysFromRolla.com](http://www.4guysfromrolla.com)の執筆者であり、Microsoft Web テクノロジを使用しています。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="3d1f3-234">Scott は、独立したコンサルタント、トレーナー、およびライターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="3d1f3-235">彼の最新の書籍は[ *、ASP.NET 2.0 を24時間以内に教え*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ています。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="3d1f3-236">mitchell@4GuysFromRolla.comでアクセスでき[ます。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="3d1f3-237">または彼のブログを参照してください。これは[http://ScottOnWriting.NET](http://ScottOnWriting.NET)にあります。</span><span class="sxs-lookup"><span data-stu-id="3d1f3-237">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3d1f3-238">[前へ](using-the-formview-s-templates-cs.md)
> [次へ](custom-formatting-based-upon-data-vb.md)</span><span class="sxs-lookup"><span data-stu-id="3d1f3-238">[Previous](using-the-formview-s-templates-cs.md)
[Next](custom-formatting-based-upon-data-vb.md)</span></span>
