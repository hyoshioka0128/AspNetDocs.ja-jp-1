---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
title: DataList の編集インターフェイスをカスタマイズするC#() |Microsoft Docs
author: rick-anderson
description: このチュートリアルでは、リストとチェックボックスを含む、DataList 用の豊富な編集インターフェイスを作成します。
ms.author: riande
ms.date: 10/30/2006
ms.assetid: a5d13067-ddfb-4c36-8209-0f69fd40e45c
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: 81f5a7f6737f544f577447f263dbd37dbc8279d9
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78480544"
---
# <a name="customizing-the-datalists-editing-interface-c"></a><span data-ttu-id="da0fb-103">DataList の編集インターフェイスをカスタマイズする (C#)</span><span class="sxs-lookup"><span data-stu-id="da0fb-103">Customizing the DataList's Editing Interface (C#)</span></span>

<span data-ttu-id="da0fb-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="da0fb-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="da0fb-105">[サンプルアプリのダウンロード](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe)または[PDF のダウンロード](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="da0fb-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe) or [Download PDF](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span></span>

> <span data-ttu-id="da0fb-106">このチュートリアルでは、リストとチェックボックスを含む、DataList 用の豊富な編集インターフェイスを作成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-106">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span>

## <a name="introduction"></a><span data-ttu-id="da0fb-107">はじめに</span><span class="sxs-lookup"><span data-stu-id="da0fb-107">Introduction</span></span>

<span data-ttu-id="da0fb-108">DataList s `EditItemTemplate` のマークアップおよび Web コントロールは、その編集可能なインターフェイスを定義します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-108">The markup and Web controls in the DataList s `EditItemTemplate` define its editable interface.</span></span> <span data-ttu-id="da0fb-109">これまでに確認したすべての編集可能な DataList の例では、編集可能なインターフェイスがテキストボックス Web コントロールで構成されています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-109">In all of the editable DataList examples we ve examined thus far, the editable interface has been composed of TextBox Web controls.</span></span> <span data-ttu-id="da0fb-110">前の[チュートリアル](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)では、検証コントロールを追加して、編集時のユーザーエクスペリエンスを改善しました。</span><span class="sxs-lookup"><span data-stu-id="da0fb-110">In the [preceding tutorial](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md) we improved the edit-time user experience by adding validation controls.</span></span>

<span data-ttu-id="da0fb-111">`EditItemTemplate` をさらに展開して、テキストボックス以外の Web コントロール (DropDownLists、RadioButtonLists、カレンダーなど) を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-111">The `EditItemTemplate` can be further expanded to include Web controls other than the TextBox, such as DropDownLists, RadioButtonLists, Calendars, and so on.</span></span> <span data-ttu-id="da0fb-112">テキストボックスと同様に、編集インターフェイスをカスタマイズして他の Web コントロールを含める場合は、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-112">As with TextBoxes, when customizing the editing interface to include other Web controls, employ the following steps:</span></span>

1. <span data-ttu-id="da0fb-113">`EditItemTemplate`に Web コントロールを追加します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-113">Add the Web control to the `EditItemTemplate`.</span></span>
2. <span data-ttu-id="da0fb-114">対応するデータフィールドの値を適切なプロパティに割り当てるには、databinding 構文を使用します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-114">Use databinding syntax to assign the corresponding data field value to the appropriate property.</span></span>
3. <span data-ttu-id="da0fb-115">`UpdateCommand` イベントハンドラーで、プログラムを使用して Web コントロールの値にアクセスし、適切な BLL メソッドに渡します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-115">In the `UpdateCommand` event handler, programmatically access the Web control value and pass it into the appropriate BLL method.</span></span>

<span data-ttu-id="da0fb-116">このチュートリアルでは、リストとチェックボックスを含む、DataList 用の豊富な編集インターフェイスを作成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-116">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span> <span data-ttu-id="da0fb-117">具体的には、製品情報を一覧表示し、製品名、供給業者、カテゴリ、および廃止された状態を更新することを許可する DataList を作成します (図1を参照)。</span><span class="sxs-lookup"><span data-stu-id="da0fb-117">In particular, we'll create a DataList that lists product information and permits the product s name, supplier, category, and discontinued status to be updated (see Figure 1).</span></span>

<span data-ttu-id="da0fb-118">[編集インターフェイスには、テキストボックス、2つのドロップリスト、およびチェックボックスが含まれて ![ます。](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-118">[![The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="da0fb-119">**図 1**: 編集インターフェイスには、テキストボックス、2つのドロップリスト、およびチェックボックスがあります ([クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image3.png)されます)</span><span class="sxs-lookup"><span data-stu-id="da0fb-119">**Figure 1**: The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image3.png))</span></span>

## <a name="step-1-displaying-product-information"></a><span data-ttu-id="da0fb-120">手順 1: 製品情報の表示</span><span class="sxs-lookup"><span data-stu-id="da0fb-120">Step 1: Displaying Product Information</span></span>

<span data-ttu-id="da0fb-121">DataList s 編集可能なインターフェイスを作成する前に、まず読み取り専用のインターフェイスを構築する必要があります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-121">Before we can create the DataList s editable interface, we first need to build the read-only interface.</span></span> <span data-ttu-id="da0fb-122">まず、`EditDeleteDataList` フォルダーから [`CustomizedUI.aspx`] ページを開き、デザイナーからページに DataList を追加して、その `ID` プロパティを `Products`に設定します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-122">Start by opening the `CustomizedUI.aspx` page from the `EditDeleteDataList` folder and, from the Designer, add a DataList to the page, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="da0fb-123">DataList s スマートタグから、新しい ObjectDataSource を作成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-123">From the DataList s smart tag, create a new ObjectDataSource.</span></span> <span data-ttu-id="da0fb-124">この新しい ObjectDataSource `ProductsDataSource` という名前を設定し、`ProductsBLL` クラス s `GetProducts` メソッドからデータを取得するように構成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-124">Name this new ObjectDataSource `ProductsDataSource` and configure it to retrieve data from the `ProductsBLL` class s `GetProducts` method.</span></span> <span data-ttu-id="da0fb-125">前の編集可能な DataList チュートリアルと同様に、ビジネスロジックレイヤーに直接移動して、編集した製品の情報を更新します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-125">As with the previous editable DataList tutorials, we'll update the edited product s information by going directly to the Business Logic Layer.</span></span> <span data-ttu-id="da0fb-126">それに応じて、[更新]、[挿入]、[削除] の各タブのドロップダウンリストを [(なし)] に設定します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-126">Accordingly, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None).</span></span>

<span data-ttu-id="da0fb-127">[[更新]、[挿入]、[削除] の各タブのドロップダウンリストを [(なし)] に設定 ![](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-127">[![Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None)](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="da0fb-128">**図 2**: [更新]、[挿入]、[削除] の各ドロップダウンリストを [(なし)] に設定します ([クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image6.png)されます)</span><span class="sxs-lookup"><span data-stu-id="da0fb-128">**Figure 2**: Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None) ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image6.png))</span></span>

<span data-ttu-id="da0fb-129">ObjectDataSource を構成すると、Visual Studio によって、返される各データフィールドの名前と値を一覧表示する、DataList の既定の `ItemTemplate` が作成されます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-129">After configuring the ObjectDataSource, Visual Studio will create a default `ItemTemplate` for the DataList that lists the name and value for each of the data fields returned.</span></span> <span data-ttu-id="da0fb-130">`ItemTemplate` を変更して、`<h4>` 要素内の製品名とカテゴリ名、仕入先名、価格、および廃止状態が一覧表示されるようにします。</span><span class="sxs-lookup"><span data-stu-id="da0fb-130">Modify the `ItemTemplate` so that the template lists the product name in an `<h4>` element along with the category name, supplier name, price, and discontinued status.</span></span> <span data-ttu-id="da0fb-131">さらに、[Edit] \ (編集 \) ボタンを追加して、`CommandName` プロパティが [編集] に設定されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-131">Moreover, add an Edit button, making sure that its `CommandName` property is set to Edit.</span></span> <span data-ttu-id="da0fb-132">`ItemTemplate` の宣言型マークアップは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="da0fb-132">The declarative markup for my `ItemTemplate` follows:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="da0fb-133">上記のマークアップは、製品名の &lt;h4&gt; 見出しと、残りのフィールドの4列 `<table>` を使用して、製品情報をレイアウトします。</span><span class="sxs-lookup"><span data-stu-id="da0fb-133">The above markup lays out the product information using an &lt;h4&gt; heading for the product s name and a four-column `<table>` for the remaining fields.</span></span> <span data-ttu-id="da0fb-134">`Styles.css`で定義されている `ProductPropertyLabel` および `ProductPropertyValue` CSS クラスについては、前のチュートリアルで説明しました。</span><span class="sxs-lookup"><span data-stu-id="da0fb-134">The `ProductPropertyLabel` and `ProductPropertyValue` CSS classes, defined in `Styles.css`, have been discussed in previous tutorials.</span></span> <span data-ttu-id="da0fb-135">図3は、ブラウザーを使用して表示したときの進行状況を示しています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-135">Figure 3 shows our progress when viewed through a browser.</span></span>

<span data-ttu-id="da0fb-136">[各製品の名前、供給業者、カテゴリ、廃止された状態、および価格を ![](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-136">[![The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span></span>

<span data-ttu-id="da0fb-137">**図 3**: 各製品の名前、仕入先、カテゴリ、廃止された状態、および価格が表示されます ([クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image9.png)されます)</span><span class="sxs-lookup"><span data-stu-id="da0fb-137">**Figure 3**: The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image9.png))</span></span>

## <a name="step-2-adding-the-web-controls-to-the-editing-interface"></a><span data-ttu-id="da0fb-138">手順 2: 編集インターフェイスに Web コントロールを追加する</span><span class="sxs-lookup"><span data-stu-id="da0fb-138">Step 2: Adding the Web Controls to the Editing Interface</span></span>

<span data-ttu-id="da0fb-139">カスタマイズされた DataList 編集インターフェイスを構築するための最初の手順は、必要な Web コントロールを `EditItemTemplate`に追加することです。</span><span class="sxs-lookup"><span data-stu-id="da0fb-139">The first step in building the customized DataList editing interface is to add the needed Web controls to the `EditItemTemplate`.</span></span> <span data-ttu-id="da0fb-140">具体的には、カテゴリの DropDownList、業者の別の DropDownList、および廃止された状態のチェックボックスが必要です。</span><span class="sxs-lookup"><span data-stu-id="da0fb-140">In particular, we need a DropDownList for the category, another for the supplier, and a CheckBox for the discontinued state.</span></span> <span data-ttu-id="da0fb-141">この例では、製品の価格は編集できないため、ラベル Web コントロールを使用して引き続き表示できます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-141">Since the product s price is not editable in this example, we can continue displaying it using a Label Web control.</span></span>

<span data-ttu-id="da0fb-142">編集インターフェイスをカスタマイズするには、DataList s スマートタグの [テンプレートの編集] リンクをクリックし、ドロップダウンリストから [`EditItemTemplate`] オプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-142">To customize the editing interface, click on the Edit Templates link from the DataList s smart tag and choose the `EditItemTemplate` option from the drop-down list.</span></span> <span data-ttu-id="da0fb-143">DropDownList を `EditItemTemplate` に追加し、その `ID` を `Categories`に設定します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-143">Add a DropDownList to the `EditItemTemplate` and set its `ID` to `Categories`.</span></span>

<span data-ttu-id="da0fb-144">[カテゴリの DropDownList を追加 ![には](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-144">[![Add a DropDownList for the Categories](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span></span>

<span data-ttu-id="da0fb-145">**図 4**: カテゴリの DropDownList を追加する ([クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image12.png)されます)</span><span class="sxs-lookup"><span data-stu-id="da0fb-145">**Figure 4**: Add a DropDownList for the Categories ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image12.png))</span></span>

<span data-ttu-id="da0fb-146">次に、DropDownList のスマートタグから [データソースの選択] オプションを選択し、`CategoriesDataSource`という名前の新しい ObjectDataSource を作成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-146">Next, from the DropDownList s smart tag, select the Choose Data Source option and create a new ObjectDataSource named `CategoriesDataSource`.</span></span> <span data-ttu-id="da0fb-147">この ObjectDataSource を `CategoriesBLL` クラス s `GetCategories()` メソッドを使用するように構成します (図5を参照)。</span><span class="sxs-lookup"><span data-stu-id="da0fb-147">Configure this ObjectDataSource to use the `CategoriesBLL` class s `GetCategories()` method (see Figure 5).</span></span> <span data-ttu-id="da0fb-148">次に、DropDownList データソース構成ウィザードによって、各 `ListItem` s `Text` と `Value` プロパティに使用するデータフィールドを入力するよう求められます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-148">Next, the DropDownList s Data Source Configuration Wizard prompts for the data fields to use for each `ListItem` s `Text` and `Value` properties.</span></span> <span data-ttu-id="da0fb-149">DropDownList に `CategoryName` データフィールドを表示し、図6に示すように `CategoryID` を値として使用します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-149">Have the DropDownList display the `CategoryName` data field and use the `CategoryID` as the value, as shown in Figure 6.</span></span>

<span data-ttu-id="da0fb-150">[新しい ObjectDataSource という名前の新しい名前のデータソースを作成 ![には](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-150">[![Create a New ObjectDataSource Named CategoriesDataSource](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span></span>

<span data-ttu-id="da0fb-151">**図 5**: `CategoriesDataSource` という名前の新しい ObjectDataSource を作成[する (クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image15.png)される)</span><span class="sxs-lookup"><span data-stu-id="da0fb-151">**Figure 5**: Create a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image15.png))</span></span>

<span data-ttu-id="da0fb-152">[DropDownList の表示フィールドと値フィールドを構成 ![には](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-152">[![Configure the DropDownList s Display and Value Fields](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span></span>

<span data-ttu-id="da0fb-153">**図 6**: DropDownList の表示フィールドと値フィールドを構成[する (クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image18.png)されます)</span><span class="sxs-lookup"><span data-stu-id="da0fb-153">**Figure 6**: Configure the DropDownList s Display and Value Fields ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image18.png))</span></span>

<span data-ttu-id="da0fb-154">この一連の手順を繰り返して、サプライヤーの DropDownList を作成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-154">Repeat this series of steps to create a DropDownList for the suppliers.</span></span> <span data-ttu-id="da0fb-155">この DropDownList の `ID` を `Suppliers` に設定し、ObjectDataSource `SuppliersDataSource`に名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-155">Set the `ID` for this DropDownList to `Suppliers` and name its ObjectDataSource `SuppliersDataSource`.</span></span>

<span data-ttu-id="da0fb-156">2つの DropDownLists を追加した後、[生産中止] 状態のチェックボックスと製品名のテキストボックスを追加します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-156">After adding the two DropDownLists, add a CheckBox for the discontinued state and a TextBox for the product s name.</span></span> <span data-ttu-id="da0fb-157">チェックボックスとテキストボックスの `ID` をそれぞれ `Discontinued` と `ProductName`に設定します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-157">Set the `ID` s for the CheckBox and TextBox to `Discontinued` and `ProductName`, respectively.</span></span> <span data-ttu-id="da0fb-158">RequiredFieldValidator を追加して、ユーザーが製品名の値を確実に提供できるようにします。</span><span class="sxs-lookup"><span data-stu-id="da0fb-158">Add a RequiredFieldValidator to ensure that the user provides a value for the product s name.</span></span>

<span data-ttu-id="da0fb-159">最後に、[更新] ボタンと [キャンセル] ボタンを追加します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-159">Lastly, add the Update and Cancel buttons.</span></span> <span data-ttu-id="da0fb-160">これらの2つのボタンについては、`CommandName` プロパティをそれぞれ Update および Cancel に設定する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="da0fb-160">Remember that for these two buttons it is imperative that their `CommandName` properties are set to Update and Cancel, respectively.</span></span>

<span data-ttu-id="da0fb-161">編集インターフェイスは自由に配置できます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-161">Feel free to lay out the editing interface however you like.</span></span> <span data-ttu-id="da0fb-162">次の宣言型の構文とスクリーンショットに示すように、読み取り専用インターフェイスから同じ4列の `<table>` レイアウトを使用することを選択しました。</span><span class="sxs-lookup"><span data-stu-id="da0fb-162">I ve opted to use the same four-column `<table>` layout from the read-only interface, as the following declarative syntax and screen shot illustrates:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample2.aspx)]

<span data-ttu-id="da0fb-163">[編集インターフェイスが読み取り専用インターフェイスのようにレイアウトされて ![](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-163">[![The Editing Interface is Laid Out like the Read-Only Interface](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span></span>

<span data-ttu-id="da0fb-164">**図 7**: 編集インターフェイスが読み取り専用インターフェイスのようにレイアウトされている ([クリックしてフルサイズのイメージを表示する](customizing-the-datalist-s-editing-interface-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="da0fb-164">**Figure 7**: The Editing Interface is Laid Out like the Read-Only Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image21.png))</span></span>

## <a name="step-3-creating-the-editcommand-and-cancelcommand-event-handlers"></a><span data-ttu-id="da0fb-165">手順 3: EditCommand および CancelCommand イベントハンドラーの作成</span><span class="sxs-lookup"><span data-stu-id="da0fb-165">Step 3: Creating the EditCommand and CancelCommand Event Handlers</span></span>

<span data-ttu-id="da0fb-166">現時点では、`EditItemTemplate` にはデータバインド構文がありません (ただし、`ItemTemplate`から逐語的にコピーされた `UnitPriceLabel`は除きます)。</span><span class="sxs-lookup"><span data-stu-id="da0fb-166">Currently, there is no databinding syntax in the `EditItemTemplate` (except for the `UnitPriceLabel`, which was copied over verbatim from the `ItemTemplate`).</span></span> <span data-ttu-id="da0fb-167">ここでは、データバインド構文を一時的に追加しますが、まず、DataList s `EditCommand` イベントと `CancelCommand` イベントのイベントハンドラーを作成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-167">We'll add the databinding syntax momentarily, but first let s create the event handlers for the DataList s `EditCommand` and `CancelCommand` events.</span></span> <span data-ttu-id="da0fb-168">`EditCommand` イベントハンドラーの役割は、[編集] ボタンがクリックされた DataList 項目の編集インターフェイスを表示することです。一方、`CancelCommand` のジョブは、DataList を編集前の状態に戻します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-168">Recall that the responsibility of the `EditCommand` event handler is to render the editing interface for the DataList item whose Edit button was clicked, whereas the `CancelCommand` s job is to return the DataList to its pre-editing state.</span></span>

<span data-ttu-id="da0fb-169">これらの2つのイベントハンドラーを作成し、次のコードを使用します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-169">Create these two event handlers and have them use the following code:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample3.cs)]

<span data-ttu-id="da0fb-170">これらの2つのイベントハンドラーが配置されている状態で、[編集] ボタンをクリックすると編集インターフェイスが表示され、[キャンセル] ボタンをクリックすると、編集した項目が読み取り専用モードに戻ります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-170">With these two event handlers in place, clicking the Edit button displays the editing interface and clicking the Cancel button returns the edited item to its read-only mode.</span></span> <span data-ttu-id="da0fb-171">図8は、Chef Anton s Gumbo ミックスに対して [編集] ボタンがクリックされた後の DataList を示しています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-171">Figure 8 shows the DataList after the Edit button has been clicked for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="da0fb-172">これまでに、編集インターフェイスにデータバインド構文を追加していたので、[`ProductName`] ボックスは空白になり、[`Discontinued`] チェックボックスがオフになっています。また、`Categories` と `Suppliers` DropDownLists から選択された最初の項目が選択されています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-172">Since we ve yet to add any databinding syntax to the editing interface, the `ProductName` TextBox is blank, the `Discontinued` CheckBox unchecked, and the first items selected from the `Categories` and `Suppliers` DropDownLists.</span></span>

<span data-ttu-id="da0fb-173">[[編集] ボタンをクリック ![と、編集インターフェイスが表示されます。](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-173">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span></span>

<span data-ttu-id="da0fb-174">**図 8**: [編集] ボタンをクリックすると編集インターフェイスが表示される ([クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image24.png)されます)</span><span class="sxs-lookup"><span data-stu-id="da0fb-174">**Figure 8**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image24.png))</span></span>

## <a name="step-4-adding-the-databinding-syntax-to-the-editing-interface"></a><span data-ttu-id="da0fb-175">手順 4: 編集インターフェイスに DataBinding 構文を追加する</span><span class="sxs-lookup"><span data-stu-id="da0fb-175">Step 4: Adding the DataBinding Syntax to the Editing Interface</span></span>

<span data-ttu-id="da0fb-176">編集インターフェイスに現在の製品の値が表示されるようにするには、データフィールドの値を適切な Web コントロールの値に割り当てるためにデータバインド構文を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-176">To have the editing interface display the current product s values, we need to use databinding syntax to assign the data field values to the appropriate Web control values.</span></span> <span data-ttu-id="da0fb-177">データバインド構文は、[テンプレートの編集] 画面に移動し、Web コントロールのスマートタグから [データバインディングの編集] リンクを選択すると、デザイナーを使用して適用できます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-177">The databinding syntax can be applied through the Designer by going to the Edit Templates screen and selecting the Edit DataBindings link from the Web controls smart tags.</span></span> <span data-ttu-id="da0fb-178">または、データバインディング構文を宣言型マークアップに直接追加することもできます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-178">Alternatively, the databinding syntax can be added directly to the declarative markup.</span></span>

<span data-ttu-id="da0fb-179">`ProductName` のデータフィールドの値を `ProductName` TextBox s `Text` プロパティに、`CategoryID` および `SupplierID` のデータフィールドの値を `Categories` および `Suppliers` の DropDownLists `SelectedValue` プロパティに、`Discontinued` data フィールドの値を `Discontinued` CheckBox s `Checked` プロパティに割り当てます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-179">Assign the `ProductName` data field value to the `ProductName` TextBox s `Text` property, the `CategoryID` and `SupplierID` data field values to the `Categories` and `Suppliers` DropDownLists `SelectedValue` properties, and the `Discontinued` data field value to the `Discontinued` CheckBox s `Checked` property.</span></span> <span data-ttu-id="da0fb-180">デザイナーまたは宣言型マークアップを使用してこれらの変更を行った後、ブラウザーを使用してページを再度参照し、Chef Anton s Gumbo ミックスの [編集] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="da0fb-180">After making these changes, either through the Designer or directly through the declarative markup, revisit the page through a browser and click the Edit button for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="da0fb-181">図9に示すように、databinding 構文では、TextBox、DropDownLists、および CheckBox に現在の値が追加されています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-181">As Figure 9 shows, the databinding syntax has added the current values into the TextBox, DropDownLists, and CheckBox.</span></span>

<span data-ttu-id="da0fb-182">[[編集] ボタンをクリック ![と、編集インターフェイスが表示されます。](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-182">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span></span>

<span data-ttu-id="da0fb-183">**図 9**: [編集] ボタンをクリックすると編集インターフェイスが表示される ([クリックしてフルサイズの画像を表示する](customizing-the-datalist-s-editing-interface-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="da0fb-183">**Figure 9**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image27.png))</span></span>

## <a name="step-5-saving-the-user-s-changes-in-the-updatecommand-event-handler"></a><span data-ttu-id="da0fb-184">手順 5: UpdateCommand イベントハンドラーでのユーザーの変更の保存</span><span class="sxs-lookup"><span data-stu-id="da0fb-184">Step 5: Saving the User s Changes in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="da0fb-185">ユーザーが製品を編集して [更新] ボタンをクリックすると、ポストバックが発生し、DataList s `UpdateCommand` イベントが発生します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-185">When the user edits a product and clicks the Update button, a postback occurs and the DataList s `UpdateCommand` event fires.</span></span> <span data-ttu-id="da0fb-186">イベントハンドラーでは、`EditItemTemplate` 内の Web コントロールから値を読み取って、BLL とインターフェイスを使用してデータベース内の製品を更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-186">In the event handler, we need to read the values from the Web controls in the `EditItemTemplate` and interface with the BLL to update the product in the database.</span></span> <span data-ttu-id="da0fb-187">前のチュートリアルで見たように、更新された製品の `ProductID` には、`DataKeys` コレクションからアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-187">As we ve seen in previous tutorials, the `ProductID` of the updated product is accessible through the `DataKeys` collection.</span></span> <span data-ttu-id="da0fb-188">ユーザーが入力したフィールドにアクセスするには、次のコードに示すように、プログラムによって `FindControl("controlID")`を使用して Web コントロールを参照します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-188">The user-entered fields are accessed by programmatically referencing the Web controls using `FindControl("controlID")`, as the following code shows:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample4.cs)]

<span data-ttu-id="da0fb-189">このコードでは、まず、`Page.IsValid` プロパティを調べて、ページ上のすべての検証コントロールが有効であることを確認します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-189">The code starts out by consulting the `Page.IsValid` property to ensure that all the validation controls on the page are valid.</span></span> <span data-ttu-id="da0fb-190">`Page.IsValid` が `True`場合は、編集した製品の `ProductID` 値が `DataKeys` コレクションから読み取られ、`EditItemTemplate` 内のデータ入力 Web コントロールがプログラムによって参照されます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-190">If `Page.IsValid` is `True`, the edited product s `ProductID` value is read from the `DataKeys` collection and the data entry Web controls in the `EditItemTemplate` are programmatically referenced.</span></span> <span data-ttu-id="da0fb-191">次に、これらの Web コントロールからの値が、適切な `UpdateProduct` オーバーロードに渡される変数に読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-191">Next, the values from these Web controls are read into variables that are then passed into the appropriate `UpdateProduct` overload.</span></span> <span data-ttu-id="da0fb-192">データを更新すると、DataList が編集前の状態に戻ります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-192">After updating the data, the DataList is returned to its pre-editing state.</span></span>

> [!NOTE]
> <span data-ttu-id="da0fb-193">ここでは、 [BLL と DAL レベルの例外処理](handling-bll-and-dal-level-exceptions-cs.md)のチュートリアルで追加した例外処理ロジックを省略し、コードとこの例を中心にしています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-193">I ve omitted the exception handling logic added in the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md) tutorial in order to keep the code and this example focused.</span></span> <span data-ttu-id="da0fb-194">練習として、このチュートリアルを完了した後で、この機能を追加します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-194">As an exercise, add this functionality after completing this tutorial.</span></span>

## <a name="step-6-handling-null-categoryid-and-supplierid-values"></a><span data-ttu-id="da0fb-195">手順 6: NULL の CategoryID および仕入先の値を処理する</span><span class="sxs-lookup"><span data-stu-id="da0fb-195">Step 6: Handling NULL CategoryID and SupplierID Values</span></span>

<span data-ttu-id="da0fb-196">Northwind データベースでは、`Products` テーブル s `CategoryID` および `SupplierID` 列に `NULL` 値を使用できます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-196">The Northwind database allows for `NULL` values for the `Products` table s `CategoryID` and `SupplierID` columns.</span></span> <span data-ttu-id="da0fb-197">ただし、編集インターフェイスには現在 `NULL` 値が格納できません。</span><span class="sxs-lookup"><span data-stu-id="da0fb-197">However, our editing interface doesn t currently accommodate `NULL` values.</span></span> <span data-ttu-id="da0fb-198">`CategoryID` または `SupplierID` 列のいずれかに `NULL` 値が含まれている製品を編集しようとすると `ArgumentOutOfRangeException`、"Categories" には SelectedValue があります。これ*は、項目の一覧に存在しないため無効*です。</span><span class="sxs-lookup"><span data-stu-id="da0fb-198">If we attempt to edit a product that has a `NULL` value for either its `CategoryID` or `SupplierID` columns, we'll get an `ArgumentOutOfRangeException` with an error message similar to: *'Categories' has a SelectedValue which is invalid because it does not exist in the list of items.*</span></span> <span data-ttu-id="da0fb-199">また、現在、製品のカテゴリまたは供給業者の値を`NULL` 以外の値から `NULL` に変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="da0fb-199">Also, there s currently no way to change a product s category or supplier value from a non-`NULL` value to a `NULL` one.</span></span>

<span data-ttu-id="da0fb-200">Category および supplier DropDownLists の `NULL` 値をサポートするには、追加の `ListItem`を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-200">To support `NULL` values for the category and supplier DropDownLists, we need to add an additional `ListItem`.</span></span> <span data-ttu-id="da0fb-201">この `ListItem`の `Text` 値として (None) を使用することを選択しましたが、必要に応じて別の値 (空の文字列など) に変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-201">I ve chosen to use (None) as the `Text` value for this `ListItem`, but you can change it to something else (such as an empty string) if you d like.</span></span> <span data-ttu-id="da0fb-202">最後に、DropDownLists `AppendDataBoundItems` を `True`に設定することを忘れないでください。忘れた場合は、DropDownList にバインドされているカテゴリおよびサプライヤーが、静的に追加された `ListItem`を上書きします。</span><span class="sxs-lookup"><span data-stu-id="da0fb-202">Finally, remember to set the DropDownLists `AppendDataBoundItems` to `True`; if you forget to do so, the categories and suppliers bound to the DropDownList will overwrite the statically-added `ListItem`.</span></span>

<span data-ttu-id="da0fb-203">これらの変更を行った後、次のように、リスト内の `EditItemTemplate` のマークアップが表示されます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-203">After making these changes, the DropDownLists markup in the DataList s `EditItemTemplate` should look similar to the following:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample5.aspx)]

> [!NOTE]
> <span data-ttu-id="da0fb-204">静的 `ListItem` s は、デザイナーを使用して DropDownList に追加することも、宣言型の構文を使用して直接追加することもできます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-204">Static `ListItem` s can be added to a DropDownList through the Designer or directly through the declarative syntax.</span></span> <span data-ttu-id="da0fb-205">データベース `NULL` 値を表す DropDownList 項目を追加する場合は、宣言型の構文を使用して `ListItem` を追加してください。</span><span class="sxs-lookup"><span data-stu-id="da0fb-205">When adding a DropDownList item to represent a database `NULL` value, be sure to add the `ListItem` through the declarative syntax.</span></span> <span data-ttu-id="da0fb-206">デザイナーで `ListItem` コレクションエディターを使用した場合、生成された宣言構文では、空の文字列を割り当てたときに、`Value` 設定を完全に省略して、`<asp:ListItem>(None)</asp:ListItem>`のような宣言型のマークアップを作成します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-206">If you use the `ListItem` Collection Editor in the Designer, the generated declarative syntax will omit the `Value` setting altogether when assigned a blank string, creating declarative markup like: `<asp:ListItem>(None)</asp:ListItem>`.</span></span> <span data-ttu-id="da0fb-207">これは無害に見えるかもしれませんが、不足している `Value` では、DropDownList で `Text` プロパティ値が代わりに使用されます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-207">While this may look harmless, the missing `Value` causes the DropDownList to use the `Text` property value in its place.</span></span> <span data-ttu-id="da0fb-208">つまり、この `NULL` `ListItem` を選択した場合、値 (None) が product data フィールド (このチュートリアルでは`CategoryID` または `SupplierID`) に割り当てられます。これにより、例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-208">That means that if this `NULL` `ListItem` is selected, the value (None) will be attempted to be assigned to the product data field (`CategoryID` or `SupplierID`, in this tutorial), which will result in an exception.</span></span> <span data-ttu-id="da0fb-209">`Value=""`を明示的に設定することによって、`NULL` `ListItem` を選択したときに、`NULL` 値が product data フィールドに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-209">By explicitly setting `Value=""`, a `NULL` value will be assigned to the product data field when the `NULL` `ListItem` is selected.</span></span>

<span data-ttu-id="da0fb-210">ブラウザーで進行状況を確認してください。</span><span class="sxs-lookup"><span data-stu-id="da0fb-210">Take a moment to view our progress through a browser.</span></span> <span data-ttu-id="da0fb-211">製品を編集するときに、`Categories` と `Suppliers` の DropDownLists の両方に、DropDownList の先頭に [(なし)] オプションがあることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="da0fb-211">When editing a product, note that the `Categories` and `Suppliers` DropDownLists both have a (None) option at the start of the DropDownList.</span></span>

<span data-ttu-id="da0fb-212">[カテゴリおよび仕入先のドロップダウンリストに [(なし)] オプションが含まれている ![](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="da0fb-212">[![The Categories and Suppliers DropDownLists include a (None) Option](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span></span>

<span data-ttu-id="da0fb-213">**図 10**: `Categories` と `Suppliers` の dropdownlists には (None) オプションがあります ([クリックすると、フルサイズの画像が表示](customizing-the-datalist-s-editing-interface-cs/_static/image30.png)されます)</span><span class="sxs-lookup"><span data-stu-id="da0fb-213">**Figure 10**: The `Categories` and `Suppliers` DropDownLists include a (None) Option ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image30.png))</span></span>

<span data-ttu-id="da0fb-214">[(なし)] オプションをデータベース `NULL` 値として保存するには、`UpdateCommand` イベントハンドラーに戻る必要があります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-214">To save the (None) option as a database `NULL` value, we need to return to the `UpdateCommand` event handler.</span></span> <span data-ttu-id="da0fb-215">`categoryIDValue` および `supplierIDValue` 変数を null 許容の整数に変更し、DropDownList `SelectedValue` が空の文字列でない場合にのみ `Nothing` 以外の値を割り当てます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-215">Change the `categoryIDValue` and `supplierIDValue` variables to be nullable integers and assign them a value other than `Nothing` only if the DropDownList s `SelectedValue` is not an empty string:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample6.cs)]

<span data-ttu-id="da0fb-216">この変更により、`NULL` データベース値に対応するいずれかのドロップダウンリストからユーザーが [(なし)] オプションを選択した場合、`Nothing` の値が `UpdateProduct` BLL メソッドに渡されます。</span><span class="sxs-lookup"><span data-stu-id="da0fb-216">With this change, a value of `Nothing` will be passed into the `UpdateProduct` BLL method if the user selected the (None) option from either of the drop-down lists, which corresponds to a `NULL` database value.</span></span>

## <a name="summary"></a><span data-ttu-id="da0fb-217">まとめ</span><span class="sxs-lookup"><span data-stu-id="da0fb-217">Summary</span></span>

<span data-ttu-id="da0fb-218">このチュートリアルでは、3つの異なる入力 Web コントロール (TextBox)、2つの DropDownLists、および検証コントロールと共にチェックボックスを含む、より複雑な DataList 編集インターフェイスを作成する方法を説明しました。</span><span class="sxs-lookup"><span data-stu-id="da0fb-218">In this tutorial we saw how to create a more complex DataList editing interface that included three different input Web controls a TextBox, two DropDownLists, and a CheckBox along with validation controls.</span></span> <span data-ttu-id="da0fb-219">編集インターフェイスを構築する場合、使用されている Web コントロールに関係なく、手順は同じです。まず、DataList s `EditItemTemplate`に Web コントロールを追加します。適切な Web コントロールプロパティを使用して、対応するデータフィールドの値を割り当てるには、databinding 構文を使用します。また、`UpdateCommand` イベントハンドラーでは、プログラムによって Web コントロールとそのプロパティにアクセスし、その値を BLL に渡します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-219">When building the editing interface, the steps are the same regardless of the Web controls being used: start by adding the Web controls to the DataList s `EditItemTemplate`; use databinding syntax to assign the corresponding data field values with the appropriate Web control properties; and, in the `UpdateCommand` event handler, programmatically access the Web controls and their appropriate properties, passing their values into the BLL.</span></span>

<span data-ttu-id="da0fb-220">編集インターフェイスを作成するときに、テキストボックスだけで構成されているか、異なる Web コントロールのコレクションで構成されているかにかかわらず、データベース `NULL` の値を正しく処理するようにしてください。</span><span class="sxs-lookup"><span data-stu-id="da0fb-220">When creating an editing interface, whether it s composed of just TextBoxes or a collection of different Web controls, be sure to correctly handle database `NULL` values.</span></span> <span data-ttu-id="da0fb-221">`NULL` s をアカウンティングする場合は、編集インターフェイスに既存の `NULL` 値を正しく表示するだけでなく、値を `NULL`としてマークするための手段も提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-221">When accounting for `NULL` s, it is imperative that you not only correctly display an existing `NULL` value in the editing interface, but also that you offer a means for marking a value as `NULL`.</span></span> <span data-ttu-id="da0fb-222">DataLists の DropDownLists の場合、これは通常、`Value` プロパティが明示的に空の文字列 (`Value=""`) に設定されている静的 `ListItem` を追加し、`NULL``ListItem` が選択されているかどうかを判断するために `UpdateCommand` イベントハンドラーにビットコードを追加することを意味します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-222">For DropDownLists in DataLists, that typically means adding a static `ListItem` whose `Value` property is explicitly set to an empty string (`Value=""`), and adding a bit of code to the `UpdateCommand` event handler to determine whether or not the `NULL``ListItem` was selected.</span></span>

<span data-ttu-id="da0fb-223">プログラミングを楽しんでください。</span><span class="sxs-lookup"><span data-stu-id="da0fb-223">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="da0fb-224">著者について</span><span class="sxs-lookup"><span data-stu-id="da0fb-224">About the Author</span></span>

<span data-ttu-id="da0fb-225">1998以来、 [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)は 7 asp/創設者 of [4GuysFromRolla.com](http://www.4guysfromrolla.com)の執筆者であり、Microsoft Web テクノロジを使用しています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-225">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="da0fb-226">Scott は、独立したコンサルタント、トレーナー、およびライターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="da0fb-226">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="da0fb-227">彼の最新の書籍は[ *、ASP.NET 2.0 を24時間以内に教え*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ています。</span><span class="sxs-lookup"><span data-stu-id="da0fb-227">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="da0fb-228">mitchell@4GuysFromRolla.comでアクセスでき[ます。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="da0fb-228">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="da0fb-229">または彼のブログを参照してください。これは[http://ScottOnWriting.NET](http://ScottOnWriting.NET)にあります。</span><span class="sxs-lookup"><span data-stu-id="da0fb-229">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="da0fb-230">ありがとうございました。</span><span class="sxs-lookup"><span data-stu-id="da0fb-230">Special Thanks To</span></span>

<span data-ttu-id="da0fb-231">このチュートリアルシリーズは、役に立つ多くのレビュー担当者によってレビューされました。</span><span class="sxs-lookup"><span data-stu-id="da0fb-231">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="da0fb-232">このチュートリアルのリードレビュー担当者は、Patterson が、David 氏 u、および Randy のようなものです。</span><span class="sxs-lookup"><span data-stu-id="da0fb-232">Lead reviewers for this tutorial were Dennis Patterson, David Suru, and Randy Schmidt.</span></span> <span data-ttu-id="da0fb-233">今後の MSDN 記事を確認することに興味がありますか?</span><span class="sxs-lookup"><span data-stu-id="da0fb-233">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="da0fb-234">その場合は、mitchell@4GuysFromRolla.comの行を削除[します。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="da0fb-234">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="da0fb-235">[前へ](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
> [次へ](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="da0fb-235">[Previous](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
[Next](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span></span>
