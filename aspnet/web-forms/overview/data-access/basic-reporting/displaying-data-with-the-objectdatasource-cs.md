---
uid: web-forms/overview/data-access/basic-reporting/displaying-data-with-the-objectdatasource-cs
title: ObjectDataSource (C#) を使用したデータの表示Microsoft Docs
author: rick-anderson
description: このチュートリアルでは、このコントロールを使用して ObjectDataSource コントロールを見ていきます。前のチュートリアルで作成した BLL から取得したデータを havi なしでバインドできます...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: af882aef-56f5-4e9a-8f95-3977fde20e74
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/displaying-data-with-the-objectdatasource-cs
msc.type: authoredcontent
ms.openlocfilehash: 9419504ace15b39c35a034dda22f2700ee720157
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2020
ms.locfileid: "78466276"
---
# <a name="displaying-data-with-the-objectdatasource-c"></a><span data-ttu-id="7b99a-103">ObjectDataSource でデータを表示する (C#)</span><span class="sxs-lookup"><span data-stu-id="7b99a-103">Displaying Data With the ObjectDataSource (C#)</span></span>

<span data-ttu-id="7b99a-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7b99a-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7b99a-105">[サンプルアプリのダウンロード](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_4_CS.exe)または[PDF のダウンロード](displaying-data-with-the-objectdatasource-cs/_static/datatutorial04cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="7b99a-105">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_4_CS.exe) or [Download PDF](displaying-data-with-the-objectdatasource-cs/_static/datatutorial04cs1.pdf)</span></span>

> <span data-ttu-id="7b99a-106">このチュートリアルでは、このコントロールを使用して ObjectDataSource コントロールを見ていきます。前のチュートリアルで作成した BLL から取得したデータをバインドするには、コード行を記述する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="7b99a-106">This tutorial looks at the ObjectDataSource control Using this control you can bind data retrieved from the BLL created in the previous tutorial without having to write a line of code!</span></span>

## <a name="introduction"></a><span data-ttu-id="7b99a-107">はじめに</span><span class="sxs-lookup"><span data-stu-id="7b99a-107">Introduction</span></span>

<span data-ttu-id="7b99a-108">アプリケーションアーキテクチャと web サイトページレイアウトが完成したら、さまざまな一般的なデータおよびレポート関連タスクを実行する方法を確認できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-108">With our application architecture and website page layout complete, we're ready to start exploring how to accomplish a variety of common data- and reporting-related tasks.</span></span> <span data-ttu-id="7b99a-109">前のチュートリアルでは、DAL から ASP.NET ページのデータ Web コントロールにプログラムによってデータをバインドする方法を説明しました。</span><span class="sxs-lookup"><span data-stu-id="7b99a-109">In the previous tutorials we've seen how to programmatically bind data from the DAL and BLL to a data Web control in an ASP.NET page.</span></span> <span data-ttu-id="7b99a-110">この構文では、データ Web コントロールの `DataSource` プロパティを表示するデータに割り当ててから、コントロールの `DataBind()` メソッドを呼び出すことが、ASP.NET 1.x アプリケーションで使用されていたパターンでした。この構文は、2.0 アプリケーションで引き続き使用できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-110">This syntax assigning the data Web control's `DataSource` property to the data to display and then calling the control's `DataBind()` method was the pattern used in ASP.NET 1.x applications, and can continue to be used in your 2.0 applications.</span></span> <span data-ttu-id="7b99a-111">ただし、ASP.NET 2.0 の新しいデータソースコントロールには、データを操作するための宣言的な方法が用意されています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-111">However, ASP.NET 2.0's new data source controls offer a declarative way to work with data.</span></span> <span data-ttu-id="7b99a-112">これらのコントロールを使用すると、コード行を記述しなくても、[前のチュートリアル](../introduction/creating-a-business-logic-layer-cs.md)で作成した BLL から取得したデータをバインドできます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-112">Using these controls you can bind data retrieved from the BLL created in the [previous tutorial](../introduction/creating-a-business-logic-layer-cs.md) without having to write a line of code!</span></span>

<span data-ttu-id="7b99a-113">ASP.NET 2.0 には、5つの組み込みデータソースコントロール[SqlDataSource](https://msdn.microsoft.com/library/dz12d98w(vs.80).aspx)、 [AccessDataSource](https://msdn.microsoft.com/library/8e5545e1.aspx)、 [ObjectDataSource](https://msdn.microsoft.com/library/9a4kyhcx.aspx)、 [XmlDataSource](https://msdn.microsoft.com/library/e8d8587a(en-US,VS.80).aspx)、および[SiteMapDataSource](https://msdn.microsoft.com/library/5ex9t96x(en-US,VS.80).aspx)が付属していますが、必要に応じて独自の[カスタムデータソースコントロール](https://msdn.microsoft.com/library/default.asp?url=/library/dnvs05/html/DataSourceCon1.asp)を作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-113">ASP.NET 2.0 ships with five built-in data source controls [SqlDataSource](https://msdn.microsoft.com/library/dz12d98w(vs.80).aspx), [AccessDataSource](https://msdn.microsoft.com/library/8e5545e1.aspx), [ObjectDataSource](https://msdn.microsoft.com/library/9a4kyhcx.aspx), [XmlDataSource](https://msdn.microsoft.com/library/e8d8587a(en-US,VS.80).aspx), and [SiteMapDataSource](https://msdn.microsoft.com/library/5ex9t96x(en-US,VS.80).aspx) although you can build your own [custom data source controls](https://msdn.microsoft.com/library/default.asp?url=/library/dnvs05/html/DataSourceCon1.asp), if needed.</span></span> <span data-ttu-id="7b99a-114">チュートリアルアプリケーションのアーキテクチャを開発したため、BLL クラスに対して ObjectDataSource を使用します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-114">Since we have developed an architecture for our tutorial application, we'll be using the ObjectDataSource against our BLL classes.</span></span>

![ASP.NET 2.0 には、5つの組み込みデータソースコントロールが含まれています](displaying-data-with-the-objectdatasource-cs/_static/image1.png)

<span data-ttu-id="7b99a-116">**図 1**: ASP.NET 2.0 には、5つの組み込みデータソースコントロールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-116">**Figure 1**: ASP.NET 2.0 Includes Five Built-In Data Source Controls</span></span>

<span data-ttu-id="7b99a-117">ObjectDataSource は、他のオブジェクトを操作するためのプロキシとして機能します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-117">The ObjectDataSource serves as a proxy for working with some other object.</span></span> <span data-ttu-id="7b99a-118">ObjectDataSource を構成するには、この基になるオブジェクトを指定し、そのメソッドを ObjectDataSource の `Select`、`Insert`、`Update`、および `Delete` メソッドにどのようにマップするかを指定します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-118">To configure the ObjectDataSource we specify this underlying object and how its methods map to the ObjectDataSource's `Select`, `Insert`, `Update`, and `Delete` methods.</span></span> <span data-ttu-id="7b99a-119">この基になるオブジェクトを指定し、メソッドを ObjectDataSource のにマップした後、ObjectDataSource をデータ Web コントロールにバインドできます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-119">Once this underlying object has been specified and its methods mapped to the ObjectDataSource's, we can then bind the ObjectDataSource to a data Web control.</span></span> <span data-ttu-id="7b99a-120">ASP.NET には、GridView、DetailsView、RadioButtonList、DropDownList など、多くのデータ Web コントロールが付属しています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-120">ASP.NET ships with many data Web controls, including the GridView, DetailsView, RadioButtonList, and DropDownList, among others.</span></span> <span data-ttu-id="7b99a-121">ページのライフサイクル中に、データ Web コントロールは、バインドされているデータにアクセスする必要がある場合があります。これは、ObjectDataSource の `Select` メソッドを呼び出すことによって実現します。データ Web コントロールが挿入、更新、または削除をサポートしている場合は、ObjectDataSource の `Insert`、`Update`、または `Delete` メソッドに対して呼び出しを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-121">During the page lifecycle, the data Web control may need to access the data it's bound to, which it will accomplish by invoking its ObjectDataSource's `Select` method; if the data Web control supports inserting, updating, or deleting, calls may be made to its ObjectDataSource's `Insert`, `Update`, or `Delete` methods.</span></span> <span data-ttu-id="7b99a-122">これらの呼び出しは、次の図に示すように、ObjectDataSource によって適切な基になるオブジェクトのメソッドにルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-122">These calls are then routed by the ObjectDataSource to the appropriate underlying object's methods as the following diagram illustrates.</span></span>

<span data-ttu-id="7b99a-123">[ObjectDataSource をプロキシとして機能させる ![](displaying-data-with-the-objectdatasource-cs/_static/image3.png)](displaying-data-with-the-objectdatasource-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-123">[![The ObjectDataSource Serves as a Proxy](displaying-data-with-the-objectdatasource-cs/_static/image3.png)](displaying-data-with-the-objectdatasource-cs/_static/image2.png)</span></span>

<span data-ttu-id="7b99a-124">**図 2**: ObjectDataSource はプロキシとして機能します ([クリックすると、フルサイズのイメージが表示](displaying-data-with-the-objectdatasource-cs/_static/image4.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-124">**Figure 2**: The ObjectDataSource Serves as a Proxy ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image4.png))</span></span>

<span data-ttu-id="7b99a-125">ObjectDataSource を使用すると、データの挿入、更新、または削除のためのメソッドを呼び出すことができますが、データを返すだけで済みます。今後のチュートリアルでは、データを変更する ObjectDataSource およびデータ Web コントロールの使用方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-125">While the ObjectDataSource can be used to invoke methods for inserting, updating, or deleting data, let's just focus on returning data; future tutorials will explore using the ObjectDataSource and data Web controls that modify data.</span></span>

## <a name="step-1-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="7b99a-126">手順 1: ObjectDataSource コントロールの追加と構成</span><span class="sxs-lookup"><span data-stu-id="7b99a-126">Step 1: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="7b99a-127">まず、`BasicReporting` フォルダーの [`SimpleDisplay.aspx`] ページを開き、[デザインビュー] に切り替えて、[ツールボックス] から [ObjectDataSource] コントロールをページのデザイン画面にドラッグします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-127">Start by opening the `SimpleDisplay.aspx` page in the `BasicReporting` folder, switch to Design view, and then drag an ObjectDataSource control from the Toolbox onto the page's design surface.</span></span> <span data-ttu-id="7b99a-128">ObjectDataSource は、マークアップを生成しないため、デザインサーフェイスに灰色のボックスとして表示されます。単に、指定されたオブジェクトからメソッドを呼び出すことによってデータにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-128">The ObjectDataSource appears as a gray box on the design surface because it does not produce any markup; it simply accesses data by invoking a method from a specified object.</span></span> <span data-ttu-id="7b99a-129">ObjectDataSource によって返されるデータは、GridView、DetailsView、FormView などのデータ Web コントロールによって表示できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-129">The data returned by an ObjectDataSource can be displayed by a data Web control, such as the GridView, DetailsView, FormView, and so on.</span></span>

> [!NOTE]
> <span data-ttu-id="7b99a-130">または、最初にデータ Web コントロールをページに追加してから、そのスマートタグから、ドロップダウンリストから [新しいデータソースの &lt;&gt;] オプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-130">Alternatively, you may first add the data Web control to the page and then, from its smart tag, choose the &lt;New data source&gt; option from the drop-down list.</span></span>

<span data-ttu-id="7b99a-131">ObjectDataSource の基になるオブジェクトと、そのオブジェクトのメソッドが ObjectDataSource のにどのように対応付けられるかを指定するには、ObjectDataSource のスマートタグから [データソースの構成] リンクをクリックします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-131">To specify the ObjectDataSource's underlying object and how that object's methods map to the ObjectDataSource's, click on the Configure Data Source link from the ObjectDataSource's smart tag.</span></span>

<span data-ttu-id="7b99a-132">[![スマートタグから [データソースの構成] リンクをクリックします。](displaying-data-with-the-objectdatasource-cs/_static/image6.png)](displaying-data-with-the-objectdatasource-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-132">[![Click the Configure Data Source Link from the Smart Tag](displaying-data-with-the-objectdatasource-cs/_static/image6.png)](displaying-data-with-the-objectdatasource-cs/_static/image5.png)</span></span>

<span data-ttu-id="7b99a-133">**図 3**: スマートタグから [データソースの構成] リンクをクリック[する (クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image7.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-133">**Figure 3**: Click the Configure Data Source Link from the Smart Tag ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image7.png))</span></span>

<span data-ttu-id="7b99a-134">これにより、データソースの構成ウィザードが起動します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-134">This brings up the Configure Data Source wizard.</span></span> <span data-ttu-id="7b99a-135">最初に、ObjectDataSource が使用するオブジェクトを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-135">First, we must specify the object the ObjectDataSource is to work with.</span></span> <span data-ttu-id="7b99a-136">[データコンポーネントのみを表示する] チェックボックスがオンになっている場合、この画面のドロップダウンリストには、`DataObject` 属性で修飾されたオブジェクトのみが表示されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-136">If the "Show only data components" checkbox is checked, the drop-down list on this screen lists only those objects that have been decorated with the `DataObject` attribute.</span></span> <span data-ttu-id="7b99a-137">現在の一覧には、型指定されたデータセットの Tableadapter と、前のチュートリアルで作成した BLL クラスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-137">Currently our list includes the TableAdapters in the Typed DataSet and the BLL classes we created in the previous tutorial.</span></span> <span data-ttu-id="7b99a-138">`DataObject` 属性をビジネスロジックレイヤークラスに追加し忘れた場合、この一覧には表示されません。</span><span class="sxs-lookup"><span data-stu-id="7b99a-138">If you forgot to add the `DataObject` attribute to the Business Logic Layer classes you won't see them in this list.</span></span> <span data-ttu-id="7b99a-139">その場合は、[データコンポーネントのみを表示する] チェックボックスをオフにしてすべてのオブジェクトを表示します。これには、BLL クラスが含まれている必要があります。これには、型指定されたデータセット内の他のクラスと共に Datatable、Datarow などが含まれます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-139">In that case, uncheck the "Show only data components" checkbox to view all objects, which should include the BLL classes (along with the other classes in the Typed DataSet the DataTables, DataRows, and so on).</span></span>

<span data-ttu-id="7b99a-140">この最初の画面で、ドロップダウンリストから `ProductsBLL` クラスを選択し、[次へ] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-140">From this first screen choose the `ProductsBLL` class from the drop-down list and click Next.</span></span>

<span data-ttu-id="7b99a-141">[ObjectDataSource コントロールで使用するオブジェクトを指定 ![には](displaying-data-with-the-objectdatasource-cs/_static/image9.png)](displaying-data-with-the-objectdatasource-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-141">[![Specify the Object to Use with the ObjectDataSource Control](displaying-data-with-the-objectdatasource-cs/_static/image9.png)](displaying-data-with-the-objectdatasource-cs/_static/image8.png)</span></span>

<span data-ttu-id="7b99a-142">**図 4**: ObjectDataSource コントロールで使用するオブジェクトを指定する ([クリックしてフルサイズのイメージを表示する](displaying-data-with-the-objectdatasource-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="7b99a-142">**Figure 4**: Specify the Object to Use with the ObjectDataSource Control ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image10.png))</span></span>

<span data-ttu-id="7b99a-143">ウィザードの次の画面では、ObjectDataSource が呼び出すメソッドを選択するよう求められます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-143">The next screen in the wizard prompts you to select what method the ObjectDataSource should invoke.</span></span> <span data-ttu-id="7b99a-144">ドロップダウンリストには、前の画面で選択したオブジェクトのデータを返すメソッドが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-144">The drop-down lists those methods that return data in the object selected from the previous screen.</span></span> <span data-ttu-id="7b99a-145">ここでは、`GetProductByProductID`、`GetProducts`、`GetProductsByCategoryID`、および `GetProductsBySupplierID`について説明します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-145">Here we see `GetProductByProductID`, `GetProducts`, `GetProductsByCategoryID`, and `GetProductsBySupplierID`.</span></span> <span data-ttu-id="7b99a-146">ドロップダウンリストから `GetProducts` メソッドを選択し、[完了] をクリックします (前のチュートリアルで示したように、`ProductBLL`のメソッドに `DataObjectMethodAttribute` を追加した場合は、このオプションが既定で選択されます)。</span><span class="sxs-lookup"><span data-stu-id="7b99a-146">Select the `GetProducts` method from the drop-down list and click Finish (if you added the `DataObjectMethodAttribute` to the `ProductBLL`'s methods as shown in the previous tutorial, this option will be selected by default).</span></span>

<span data-ttu-id="7b99a-147">[![[選択] タブからデータを返す方法を選択します。](displaying-data-with-the-objectdatasource-cs/_static/image12.png)](displaying-data-with-the-objectdatasource-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-147">[![Choose the Method for Returning Data from the SELECT Tab](displaying-data-with-the-objectdatasource-cs/_static/image12.png)](displaying-data-with-the-objectdatasource-cs/_static/image11.png)</span></span>

<span data-ttu-id="7b99a-148">**図 5**: [選択] タブからデータを返す方法を選択[する (クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image13.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-148">**Figure 5**: Choose the Method for Returning Data from the SELECT Tab ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image13.png))</span></span>

## <a name="configure-the-objectdatasource-manually"></a><span data-ttu-id="7b99a-149">ObjectDataSource を手動で構成する</span><span class="sxs-lookup"><span data-stu-id="7b99a-149">Configure the ObjectDataSource Manually</span></span>

<span data-ttu-id="7b99a-150">ObjectDataSource のデータソース構成ウィザードでは、使用するオブジェクトを簡単に指定し、オブジェクトのメソッドを関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-150">The ObjectDataSource's Configure Data Source wizard offers a quick way to specify the object it uses and to associate what methods of the object are invoked.</span></span> <span data-ttu-id="7b99a-151">ただし、プロパティウィンドウを使用するか、または宣言マークアップ内で直接、プロパティを使用して ObjectDataSource を構成できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-151">You can, however, configure the ObjectDataSource through its properties, either through the Properties window or directly in the declarative markup.</span></span> <span data-ttu-id="7b99a-152">単に、`TypeName` プロパティを、使用する基になるオブジェクトの型に設定し、データを取得するときに呼び出すメソッドの `SelectMethod` に設定します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-152">Simply set the `TypeName` property to the type of the underlying object to be used, and the `SelectMethod` to the method to invoke when retrieving data.</span></span>

[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample1.aspx)]

<span data-ttu-id="7b99a-153">データソースの構成ウィザードを使用する場合でも、ObjectDataSource を手動で構成する必要がある場合があります。これは、ウィザードが開発者が作成したクラスのみを一覧表示するためです。</span><span class="sxs-lookup"><span data-stu-id="7b99a-153">Even if you prefer the Configure Data Source wizard there may be times when you need to manually configure the ObjectDataSource, as the wizard only lists developer-created classes.</span></span> <span data-ttu-id="7b99a-154">ObjectDataSource を[メンバーシップクラス](https://msdn.microsoft.com/library/system.web.security.membership.aspx)などの .NET Framework のクラスにバインドする場合、ユーザーアカウント情報にアクセスする場合、または[ディレクトリクラス](https://msdn.microsoft.com/library/system.io.directory.aspx)を使用してファイルシステム情報を操作する場合は、objectdatasource のプロパティを手動で設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-154">If you want to bind the ObjectDataSource to a class in the .NET Framework such as the [Membership class](https://msdn.microsoft.com/library/system.web.security.membership.aspx), to access user account information, or the [Directory class](https://msdn.microsoft.com/library/system.io.directory.aspx) to work with file system information you'll need to manually set the ObjectDataSource's properties.</span></span>

## <a name="step-2-adding-a-data-web-control-and-binding-it-to-the-objectdatasource"></a><span data-ttu-id="7b99a-155">手順 2: データ Web コントロールを追加して ObjectDataSource にバインドする</span><span class="sxs-lookup"><span data-stu-id="7b99a-155">Step 2: Adding a Data Web Control and Binding it to the ObjectDataSource</span></span>

<span data-ttu-id="7b99a-156">ObjectDataSource がページに追加され、構成されたら、データ Web コントロールをページに追加して、ObjectDataSource の `Select` メソッドによって返されたデータを表示する準備ができました。</span><span class="sxs-lookup"><span data-stu-id="7b99a-156">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to display the data returned by the ObjectDataSource's `Select` method.</span></span> <span data-ttu-id="7b99a-157">任意のデータ Web コントロールを ObjectDataSource にバインドできます。GridView、DetailsView、FormView に ObjectDataSource のデータを表示する方法を見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="7b99a-157">Any data Web control can be bound to an ObjectDataSource; let's look at displaying the ObjectDataSource's data in a GridView, DetailsView, and FormView.</span></span>

## <a name="binding-a-gridview-to-the-objectdatasource"></a><span data-ttu-id="7b99a-158">GridView を ObjectDataSource にバインドする</span><span class="sxs-lookup"><span data-stu-id="7b99a-158">Binding a GridView to the ObjectDataSource</span></span>

<span data-ttu-id="7b99a-159">ツールボックスから `SimpleDisplay.aspx`のデザインサーフェイスに GridView コントロールを追加します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-159">Add a GridView control from the Toolbox to `SimpleDisplay.aspx`'s design surface.</span></span> <span data-ttu-id="7b99a-160">GridView のスマートタグから、手順1で追加した ObjectDataSource コントロールを選択します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-160">From the GridView's smart tag, choose the ObjectDataSource control we added in Step 1.</span></span> <span data-ttu-id="7b99a-161">これにより、ObjectDataSource の `Select` メソッド (つまり、Products DataTable によって定義されるプロパティ) からのデータによって返される各プロパティに対して、GridView に BoundField が自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-161">This will automatically create a BoundField in the GridView for each property returned by the data from the ObjectDataSource's `Select` method (namely, the properties defined by the Products DataTable).</span></span>

<span data-ttu-id="7b99a-162">[GridView がページに追加され、ObjectDataSource にバインドされて ![](displaying-data-with-the-objectdatasource-cs/_static/image15.png)](displaying-data-with-the-objectdatasource-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-162">[![A GridView Has Been Added to the Page and Bound to the ObjectDataSource](displaying-data-with-the-objectdatasource-cs/_static/image15.png)](displaying-data-with-the-objectdatasource-cs/_static/image14.png)</span></span>

<span data-ttu-id="7b99a-163">**図 6**: GridView がページに追加され、ObjectDataSource にバインドされている ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image16.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-163">**Figure 6**: A GridView Has Been Added to the Page and Bound to the ObjectDataSource ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image16.png))</span></span>

<span data-ttu-id="7b99a-164">その後、スマートタグの [列の編集] オプションをクリックして、GridView の BoundFields をカスタマイズ、再配置、または削除できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-164">You can then customize, rearrange, or remove the GridView's BoundFields by clicking the Edit Columns option from the smart tag.</span></span>

<span data-ttu-id="7b99a-165">[[列の編集] ダイアログボックスを使用して GridView の BoundFields を管理 ![には](displaying-data-with-the-objectdatasource-cs/_static/image18.png)](displaying-data-with-the-objectdatasource-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-165">[![Manage the GridView's BoundFields Through the Edit Columns Dialog Box](displaying-data-with-the-objectdatasource-cs/_static/image18.png)](displaying-data-with-the-objectdatasource-cs/_static/image17.png)</span></span>

<span data-ttu-id="7b99a-166">**図 7**: [列の編集] ダイアログボックスを使用して GridView の boundfields を管理[する (クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image19.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-166">**Figure 7**: Manage the GridView's BoundFields Through the Edit Columns Dialog Box ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image19.png))</span></span>

<span data-ttu-id="7b99a-167">GridView の BoundFields を変更し、`ProductID`、`SupplierID`、`CategoryID`、`QuantityPerUnit`、`UnitsInStock`、`UnitsOnOrder`、および `ReorderLevel` BoundFields を削除します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-167">Take a moment to modify the GridView's BoundFields, removing the `ProductID`, `SupplierID`, `CategoryID`, `QuantityPerUnit`, `UnitsInStock`, `UnitsOnOrder`, and `ReorderLevel` BoundFields.</span></span> <span data-ttu-id="7b99a-168">左下の一覧から BoundField を選択し、[削除] ボタン (赤い X) をクリックして削除します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-168">Simply select the BoundField from the list in the bottom left and click the delete button (the red X) to remove them.</span></span> <span data-ttu-id="7b99a-169">次に、boundfields を再配置して、`CategoryName` と `SupplierName` BoundFields が `UnitPrice` BoundField の前になるようにします。そのためには、これらの連結フィールドを選択し、上矢印をクリックします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-169">Next, Rearrange the BoundFields so that the `CategoryName` and `SupplierName` BoundFields precede the `UnitPrice` BoundField by selecting these BoundFields and clicking the up arrow.</span></span> <span data-ttu-id="7b99a-170">残りの BoundFields の `HeaderText` プロパティを `Products`、`Category`、`Supplier`、および `Price`にそれぞれ設定します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-170">Set the `HeaderText` properties of the remaining BoundFields to `Products`, `Category`, `Supplier`, and `Price`, respectively.</span></span> <span data-ttu-id="7b99a-171">次に、BoundField の `HtmlEncode` プロパティを False に設定し、その `DataFormatString` プロパティを `{0:c}`に設定して、`Price` BoundField を通貨として書式設定します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-171">Next, have the `Price` BoundField formatted as a currency by setting the BoundField's `HtmlEncode` property to False and its `DataFormatString` property to `{0:c}`.</span></span> <span data-ttu-id="7b99a-172">最後に、`ItemStyle`/`HorizontalAlign` プロパティを使用して、`Price` を右揃えにし、[`Discontinued`] チェックボックスを中央に配置します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-172">Finally, horizontally align the `Price` to the right and the `Discontinued` checkbox in the center via the `ItemStyle`/`HorizontalAlign` property.</span></span>

[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample2.aspx)]

<span data-ttu-id="7b99a-173">[GridView の BoundFields がカスタマイズされている ![](displaying-data-with-the-objectdatasource-cs/_static/image21.png)](displaying-data-with-the-objectdatasource-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-173">[![The GridView's BoundFields Have Been Customized](displaying-data-with-the-objectdatasource-cs/_static/image21.png)](displaying-data-with-the-objectdatasource-cs/_static/image20.png)</span></span>

<span data-ttu-id="7b99a-174">**図 8**: GridView の Boundfields がカスタマイズされている ([クリックしてフルサイズのイメージを表示する](displaying-data-with-the-objectdatasource-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="7b99a-174">**Figure 8**: The GridView's BoundFields Have Been Customized ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image22.png))</span></span>

## <a name="using-themes-for-a-consistent-look"></a><span data-ttu-id="7b99a-175">テーマを一貫した外観で使用する</span><span class="sxs-lookup"><span data-stu-id="7b99a-175">Using Themes for a Consistent Look</span></span>

<span data-ttu-id="7b99a-176">これらのチュートリアルでは、可能な限り外部ファイルで定義されているカスケードスタイルシートを使用するのではなく、コントロールレベルのスタイル設定をすべて削除することに努めています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-176">These tutorials strive to remove any control-level style settings, instead using cascading style sheets defined in an external file whenever possible.</span></span> <span data-ttu-id="7b99a-177">`Styles.css` ファイルには、これらのチュートリアルで使用するデータ Web コントロールの外観を指定するために使用する必要がある、`DataWebControlStyle`、`HeaderStyle`、`RowStyle`、および `AlternatingRowStyle` の CSS クラスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-177">The `Styles.css` file contains `DataWebControlStyle`, `HeaderStyle`, `RowStyle`, and `AlternatingRowStyle` CSS classes that should be used to dictate the appearance of the data Web controls used in these tutorials.</span></span> <span data-ttu-id="7b99a-178">これを実現するには、GridView の `CssClass` プロパティを `DataWebControlStyle`に設定し、その `HeaderStyle`、`RowStyle`、および `AlternatingRowStyle` プロパティの `CssClass` プロパティを適宜設定します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-178">To accomplish this, we could set the GridView's `CssClass` property to `DataWebControlStyle`, and its `HeaderStyle`, `RowStyle`, and `AlternatingRowStyle` properties' `CssClass` properties accordingly.</span></span>

<span data-ttu-id="7b99a-179">これらの `CssClass` プロパティを Web コントロールで設定する場合は、チュートリアルに追加したすべてのデータ Web コントロールに対して、これらのプロパティ値を明示的に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-179">If we set these `CssClass` properties at the Web control we'd need to remember to explicitly set these property values for each and every data Web control added to our tutorials.</span></span> <span data-ttu-id="7b99a-180">より管理しやすい方法は、テーマを使用して GridView、DetailsView、FormView コントロールの既定の CSS 関連プロパティを定義することです。</span><span class="sxs-lookup"><span data-stu-id="7b99a-180">A more manageable approach is to define the default CSS-related properties for the GridView, DetailsView, and FormView controls using a Theme.</span></span> <span data-ttu-id="7b99a-181">テーマとは、コントロールレベルのプロパティ設定、画像、および CSS クラスのコレクションであり、一般的なルックアンドフィールを適用するためにサイト全体のページに適用できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-181">A Theme is a collection of control-level property settings, images, and CSS classes that can be applied to pages across a site to enforce a common look and feel.</span></span>

<span data-ttu-id="7b99a-182">このテーマには、イメージや CSS ファイルは含まれません (web アプリケーションのルートフォルダーで定義されているように、スタイルシート `Styles.css` そのままにしておきます)。ただし、2つのスキンが含まれます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-182">Our Theme won't include any images or CSS files (we'll leave the stylesheet `Styles.css` as-is, defined in the root folder of the web application), but will include two Skins.</span></span> <span data-ttu-id="7b99a-183">スキンは、Web コントロールの既定のプロパティを定義するファイルです。</span><span class="sxs-lookup"><span data-stu-id="7b99a-183">A Skin is a file that defines the default properties for a Web control.</span></span> <span data-ttu-id="7b99a-184">具体的には、GridView コントロールと DetailsView コントロールのスキンファイルがあり、既定の `CssClass`関連のプロパティを示しています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-184">Specifically, we'll have a Skin file for the GridView and DetailsView controls, indicating the default `CssClass`-related properties.</span></span>

<span data-ttu-id="7b99a-185">まず、ソリューションエクスプローラーでプロジェクト名を右クリックし、[新しい項目の追加] を選択して、`GridView.skin` という名前のプロジェクトに新しいスキンファイルを追加します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-185">Start by adding a new Skin File to your project named `GridView.skin` by right-clicking on the project name in the Solution Explorer and choosing Add New Item.</span></span>

<span data-ttu-id="7b99a-186">[GridView という名前のスキンファイルを追加 ![には](displaying-data-with-the-objectdatasource-cs/_static/image24.png)](displaying-data-with-the-objectdatasource-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-186">[![Add a Skin File Named GridView.skin](displaying-data-with-the-objectdatasource-cs/_static/image24.png)](displaying-data-with-the-objectdatasource-cs/_static/image23.png)</span></span>

<span data-ttu-id="7b99a-187">**図 9**: `GridView.skin` という名前のスキンファイルを追加[する (クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image25.png)される)</span><span class="sxs-lookup"><span data-stu-id="7b99a-187">**Figure 9**: Add a Skin File Named `GridView.skin` ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image25.png))</span></span>

<span data-ttu-id="7b99a-188">スキンファイルは、`App_Themes` フォルダーにあるテーマに配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-188">Skin files need to be placed in a Theme, which are located in the `App_Themes` folder.</span></span> <span data-ttu-id="7b99a-189">このようなフォルダーをまだ持っていないため、Visual Studio では、最初のスキンを追加するときに、このフォルダーを作成するように提供します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-189">Since we don't yet have such a folder, Visual Studio will kindly offer to create one for us when adding our first Skin.</span></span> <span data-ttu-id="7b99a-190">[はい] をクリックして `App_Theme` フォルダーを作成し、そこに新しい `GridView.skin` ファイルを配置します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-190">Click Yes to create the `App_Theme` folder and place the new `GridView.skin` file there.</span></span>

<span data-ttu-id="7b99a-191">[![Visual Studio で App_Theme フォルダーを作成できるようにする](displaying-data-with-the-objectdatasource-cs/_static/image27.png)](displaying-data-with-the-objectdatasource-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-191">[![Let Visual Studio Create the App_Theme Folder](displaying-data-with-the-objectdatasource-cs/_static/image27.png)](displaying-data-with-the-objectdatasource-cs/_static/image26.png)</span></span>

<span data-ttu-id="7b99a-192">**図 10**: Visual Studio で `App_Theme` フォルダーを作成できるよう[にする (クリックしてフルサイズのイメージを表示する](displaying-data-with-the-objectdatasource-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="7b99a-192">**Figure 10**: Let Visual Studio Create the `App_Theme` Folder ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image28.png))</span></span>

<span data-ttu-id="7b99a-193">これにより、GridView という名前の `App_Themes` フォルダーに、スキンファイル `GridView.skin`を含む新しいテーマが作成されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-193">This will create a new Theme in the `App_Themes` folder named GridView with the Skin file `GridView.skin`.</span></span>

![GridView テーマが App_Theme フォルダーに追加されました](displaying-data-with-the-objectdatasource-cs/_static/image29.png)

<span data-ttu-id="7b99a-195">**図 11**: GridView テーマが `App_Theme` フォルダーに追加されている</span><span class="sxs-lookup"><span data-stu-id="7b99a-195">**Figure 11**: The GridView Theme has Been Added to the `App_Theme` Folder</span></span>

<span data-ttu-id="7b99a-196">GridView テーマの名前を DataWebControls に変更します (`App_Theme` フォルダー内の GridView フォルダーを右クリックし、[名前の変更] を選択します)。</span><span class="sxs-lookup"><span data-stu-id="7b99a-196">Rename the GridView Theme to DataWebControls (right-click on the GridView folder in the `App_Theme` folder and choose Rename).</span></span> <span data-ttu-id="7b99a-197">次に、`GridView.skin` ファイルに次のマークアップを入力します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-197">Next, enter the following markup into the `GridView.skin` file:</span></span>

[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample3.aspx)]

<span data-ttu-id="7b99a-198">これにより、DataWebControls テーマを使用する任意のページ内のすべての GridView の `CssClass`関連プロパティの既定のプロパティが定義されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-198">This defines the default properties for the `CssClass`-related properties for any GridView in any page that uses the DataWebControls Theme.</span></span> <span data-ttu-id="7b99a-199">この DetailsView に別のスキンを追加してみましょう。これは、すぐに使用するデータ Web コントロールです。</span><span class="sxs-lookup"><span data-stu-id="7b99a-199">Let's add another Skin for the DetailsView, a data Web control that we'll be using shortly.</span></span> <span data-ttu-id="7b99a-200">`DetailsView.skin` という名前の DataWebControls テーマに新しいスキンを追加し、次のマークアップを追加します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-200">Add a new Skin to the DataWebControls Theme named `DetailsView.skin` and add the following markup:</span></span>

[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample4.aspx)]

<span data-ttu-id="7b99a-201">テーマを定義したら、最後の手順として、テーマを ASP.NET ページに適用します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-201">With our Theme defined, the last step is to apply the Theme to our ASP.NET page.</span></span> <span data-ttu-id="7b99a-202">テーマは、ページごとに、または web サイト内のすべてのページに適用できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-202">A Theme can be applied on a page-by-page basis or for all pages in a website.</span></span> <span data-ttu-id="7b99a-203">このテーマを web サイトのすべてのページで使用してみましょう。</span><span class="sxs-lookup"><span data-stu-id="7b99a-203">Let's use this theme for all pages in the website.</span></span> <span data-ttu-id="7b99a-204">これを実現するには、次のマークアップを `Web.config`の `<system.web>` セクションに追加します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-204">To accomplish this, add the following markup to `Web.config`'s `<system.web>` section:</span></span>

[!code-xml[Main](displaying-data-with-the-objectdatasource-cs/samples/sample5.xml)]

<span data-ttu-id="7b99a-205">これですべて完了です。</span><span class="sxs-lookup"><span data-stu-id="7b99a-205">That's all there is to it!</span></span> <span data-ttu-id="7b99a-206">`styleSheetTheme` 設定は、テーマで指定されたプロパティが、コントロールレベルで指定されたプロパティをオーバーライドし*ない*ようにすることを示します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-206">The `styleSheetTheme` setting indicates that the properties specified in the Theme should *not* override the properties specified at the control level.</span></span> <span data-ttu-id="7b99a-207">テーマ設定でコントロールの設定を優先するように指定するには、`styleSheetTheme`の代わりに `theme` 属性を使用します。残念ながら、`theme` 属性を使用して指定されたテーマ設定は、Visual Studio デザインビューには表示されません。</span><span class="sxs-lookup"><span data-stu-id="7b99a-207">To specify that Theme settings should trump control settings, use the `theme` attribute in place of `styleSheetTheme`; unfortunately, Theme settings specified via the `theme` attribute do not appear in the Visual Studio Design view.</span></span> <span data-ttu-id="7b99a-208">テーマとスキンの詳細については、 [「ASP.NET theme And スキンの概要」と「](https://msdn.microsoft.com/library/ykzx33wh.aspx) [テーマを使用したサーバー側のスタイル](https://quickstarts.asp.net/quickstartv20/aspnet/doc/themes/stylesheettheme.aspx)」を参照してください。テーマを使用するようにページを構成する方法の詳細については、「[方法: ASP.NET テーマを適用](https://msdn.microsoft.com/library/0yy5hxdk(VS.80).aspx)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7b99a-208">Refer to [ASP.NET Themes and Skins Overview](https://msdn.microsoft.com/library/ykzx33wh.aspx) and [Server-Side Styles Using Themes](https://quickstarts.asp.net/quickstartv20/aspnet/doc/themes/stylesheettheme.aspx) for more information on Themes and Skins; see [How To: Apply ASP.NET Themes](https://msdn.microsoft.com/library/0yy5hxdk(VS.80).aspx) for more on configuring a page to use a theme.</span></span>

<span data-ttu-id="7b99a-209">[GridView に ![製品の名前、カテゴリ、仕入先、価格、および廃止された情報が表示されます。](displaying-data-with-the-objectdatasource-cs/_static/image31.png)](displaying-data-with-the-objectdatasource-cs/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-209">[![The GridView Displays the Product's Name, Category, Supplier, Price, and Discontinued Information](displaying-data-with-the-objectdatasource-cs/_static/image31.png)](displaying-data-with-the-objectdatasource-cs/_static/image30.png)</span></span>

<span data-ttu-id="7b99a-210">**図 12**: GridView には、製品名、カテゴリ、仕入先、価格、および廃止された情報が表示されます ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image32.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-210">**Figure 12**: The GridView Displays the Product's Name, Category, Supplier, Price, and Discontinued Information ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image32.png))</span></span>

## <a name="displaying-one-record-at-a-time-in-the-detailsview"></a><span data-ttu-id="7b99a-211">DetailsView で一度に1つのレコードを表示する</span><span class="sxs-lookup"><span data-stu-id="7b99a-211">Displaying One Record at a Time in the DetailsView</span></span>

<span data-ttu-id="7b99a-212">GridView には、バインド先のデータソースコントロールによって返されるレコードごとに1行のデータが表示されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-212">The GridView displays one row for each record returned by the data source control to which it's bound.</span></span> <span data-ttu-id="7b99a-213">ただし、1つのレコードだけを表示したい場合や、一度に1つのレコードだけを表示する場合があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-213">There are times, however, when we may want to display a sole record or just one record at a time.</span></span> <span data-ttu-id="7b99a-214">[DetailsView コントロール](https://msdn.microsoft.com/library/s3w1w7t4.aspx)には、この機能が用意されており、2つの列を含む HTML `<table>` としてレンダリングされ、コントロールにバインドされている列またはプロパティごとに1行が表示されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-214">The [DetailsView control](https://msdn.microsoft.com/library/s3w1w7t4.aspx) offers this functionality, rendering as an HTML `<table>` with two columns and one row for each column or property bound to the control.</span></span> <span data-ttu-id="7b99a-215">この DetailsView は、1つのレコードが90度回転した GridView と考えることができます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-215">You can think of the DetailsView as a GridView with a single record rotated 90 degrees.</span></span>

<span data-ttu-id="7b99a-216">まず、`SimpleDisplay.aspx`の GridView の*上*に DetailsView コントロールを追加します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-216">Start by adding a DetailsView control *above* the GridView in `SimpleDisplay.aspx`.</span></span> <span data-ttu-id="7b99a-217">次に、GridView と同じ ObjectDataSource コントロールにバインドします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-217">Next, bind it to the same ObjectDataSource control as the GridView.</span></span> <span data-ttu-id="7b99a-218">GridView の場合と同様に、ObjectDataSource の `Select` メソッドによって返されるオブジェクトの各プロパティの DetailsView に BoundField が追加されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-218">Like with the GridView, a BoundField will be added to the DetailsView for each property in the object returned by the ObjectDataSource's `Select` method.</span></span> <span data-ttu-id="7b99a-219">唯一の違いは、DetailsView の BoundFields が垂直方向ではなく水平方向にレイアウトされる点です。</span><span class="sxs-lookup"><span data-stu-id="7b99a-219">The only difference is that the DetailsView's BoundFields are laid out horizontally rather than vertically.</span></span>

<span data-ttu-id="7b99a-220">[DetailsView をページに追加して ObjectDataSource にバインド ![には](displaying-data-with-the-objectdatasource-cs/_static/image34.png)](displaying-data-with-the-objectdatasource-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-220">[![Add a DetailsView to the Page and Bind it to the ObjectDataSource](displaying-data-with-the-objectdatasource-cs/_static/image34.png)](displaying-data-with-the-objectdatasource-cs/_static/image33.png)</span></span>

<span data-ttu-id="7b99a-221">**図 13**: DetailsView をページに追加して ObjectDataSource にバインドする ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image35.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-221">**Figure 13**: Add a DetailsView to the Page and Bind it to the ObjectDataSource ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image35.png))</span></span>

<span data-ttu-id="7b99a-222">GridView の場合と同様に、DetailsView の BoundFields を微調整して、ObjectDataSource によって返されるデータをよりカスタマイズした表示を提供できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-222">Like the GridView, the DetailsView's BoundFields can be tweaked to provide a more customized display of the data returned by the ObjectDataSource.</span></span> <span data-ttu-id="7b99a-223">図14は、BoundFields と `CssClass` プロパティが GridView の例と似たように構成された後の DetailsView を示しています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-223">Figure 14 shows the DetailsView after its BoundFields and `CssClass` properties have been configured to make its appearance similar to the GridView example.</span></span>

<span data-ttu-id="7b99a-224">[DetailsView に1つのレコードが表示される ![](displaying-data-with-the-objectdatasource-cs/_static/image37.png)](displaying-data-with-the-objectdatasource-cs/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-224">[![The DetailsView Shows a Single Record](displaying-data-with-the-objectdatasource-cs/_static/image37.png)](displaying-data-with-the-objectdatasource-cs/_static/image36.png)</span></span>

<span data-ttu-id="7b99a-225">**図 14**: DetailsView に1つのレコードが表示される ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image38.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-225">**Figure 14**: The DetailsView Shows a Single Record ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image38.png))</span></span>

<span data-ttu-id="7b99a-226">DetailsView には、データソースから返された最初のレコードのみが表示されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="7b99a-226">Note that the DetailsView only displays the first record returned by its data source.</span></span> <span data-ttu-id="7b99a-227">ユーザーがすべてのレコードを1つずつステップ実行できるようにするには、DetailsView のページングを有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-227">To allow the user to step through all of the records, one at a time, we must enable paging for the DetailsView.</span></span> <span data-ttu-id="7b99a-228">これを行うには、Visual Studio に戻り、DetailsView のスマートタグの [ページングを有効にする] チェックボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-228">To do so, return to Visual Studio and check the Enable Paging checkbox in the DetailsView's smart tag.</span></span>

<span data-ttu-id="7b99a-229">[DetailsView コントロールでページングを有効に ![には](displaying-data-with-the-objectdatasource-cs/_static/image40.png)](displaying-data-with-the-objectdatasource-cs/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-229">[![Enable Paging in the DetailsView Control](displaying-data-with-the-objectdatasource-cs/_static/image40.png)](displaying-data-with-the-objectdatasource-cs/_static/image39.png)</span></span>

<span data-ttu-id="7b99a-230">**図 15**: DetailsView コントロールでページングを有効にする ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image41.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-230">**Figure 15**: Enable Paging in the DetailsView Control ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image41.png))</span></span>

<span data-ttu-id="7b99a-231">[ページングが有効になっている ![、DetailsView を使用すると、ユーザーは任意の製品を表示できます。](displaying-data-with-the-objectdatasource-cs/_static/image43.png)](displaying-data-with-the-objectdatasource-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-231">[![With Paging Enabled, the DetailsView Allows the User to View Any of the Products](displaying-data-with-the-objectdatasource-cs/_static/image43.png)](displaying-data-with-the-objectdatasource-cs/_static/image42.png)</span></span>

<span data-ttu-id="7b99a-232">**図 16**: ページングが有効になっている場合、DetailsView を使用すると、ユーザーは任意の製品を表示できます ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image44.png)されます)。</span><span class="sxs-lookup"><span data-stu-id="7b99a-232">**Figure 16**: With Paging Enabled, the DetailsView Allows the User to View Any of the Products ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image44.png))</span></span>

<span data-ttu-id="7b99a-233">ページングの詳細については、今後のチュートリアルで説明します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-233">We'll talk more about paging in future tutorials.</span></span>

## <a name="a-more-flexible-layout-for-showing-one-record-at-a-time"></a><span data-ttu-id="7b99a-234">一度に1つのレコードを表示するためのより柔軟なレイアウト</span><span class="sxs-lookup"><span data-stu-id="7b99a-234">A More Flexible Layout for Showing One Record at a Time</span></span>

<span data-ttu-id="7b99a-235">DetailsView は、ObjectDataSource から返された各レコードを表示する方法において非常に厳密です。</span><span class="sxs-lookup"><span data-stu-id="7b99a-235">The DetailsView is pretty rigid in how it displays each record returned from the ObjectDataSource.</span></span> <span data-ttu-id="7b99a-236">データのより柔軟なビューが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-236">We may want a more flexible view of the data.</span></span> <span data-ttu-id="7b99a-237">たとえば、製品名、カテゴリ、仕入先、価格、および廃止された情報をそれぞれ別の行に表示するのではなく、`<h4>` の見出しに製品名と価格を表示し、名前と価格の下にカテゴリおよび仕入先の情報を小さいフォントサイズで表示することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="7b99a-237">For example, rather than showing the product's name, category, supplier, price, and discontinued information each on a separate row, we may want to show the product name and price in an `<h4>` heading, with the category and supplier information appearing below the name and price in a smaller font size.</span></span> <span data-ttu-id="7b99a-238">また、値の横にプロパティ名 (製品、カテゴリなど) が表示されない場合もあります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-238">And we may not care to show the property names (Product, Category, and so on) next to the values.</span></span>

<span data-ttu-id="7b99a-239">[FormView コントロール](https://msdn.microsoft.com/library/fyf1dk77.aspx)は、このレベルのカスタマイズを提供します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-239">The [FormView control](https://msdn.microsoft.com/library/fyf1dk77.aspx) provides this level of customization.</span></span> <span data-ttu-id="7b99a-240">FormView では、(GridView や DetailsView と同様に) フィールドを使用するのではなく、Web コントロール、静的な HTML、および[databinding の構文](http://www.15seconds.com/issue/040630.htm)を組み合わせて使用できるテンプレートを使用します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-240">Rather than using fields (like the GridView and DetailsView do), the FormView uses templates, which allow for a mix of Web controls, static HTML, and [databinding syntax](http://www.15seconds.com/issue/040630.htm).</span></span> <span data-ttu-id="7b99a-241">ASP.NET 1.x の Repeater コントロールに慣れている場合は、FormView を1つのレコードを表示するためのリピータと見なすことができます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-241">If you are familiar with the Repeater control from ASP.NET 1.x, you can think of the FormView as the Repeater for showing a single record.</span></span>

<span data-ttu-id="7b99a-242">FormView コントロールを `SimpleDisplay.aspx` ページのデザインサーフェイスに追加します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-242">Add a FormView control to the `SimpleDisplay.aspx` page's design surface.</span></span> <span data-ttu-id="7b99a-243">最初に、FormView はグレーのブロックとして表示され、少なくともコントロールの `ItemTemplate`を提供する必要があることを通知します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-243">Initially the FormView displays as a gray block, informing us that we need to provide, at minimum, the control's `ItemTemplate`.</span></span>

<span data-ttu-id="7b99a-244">[FormView に ItemTemplate を含める必要がある ![](displaying-data-with-the-objectdatasource-cs/_static/image46.png)](displaying-data-with-the-objectdatasource-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-244">[![The FormView Must Include an ItemTemplate](displaying-data-with-the-objectdatasource-cs/_static/image46.png)](displaying-data-with-the-objectdatasource-cs/_static/image45.png)</span></span>

<span data-ttu-id="7b99a-245">**図 17**: FormView に `ItemTemplate` が含まれている必要があります ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image47.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-245">**Figure 17**: The FormView Must Include an `ItemTemplate` ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image47.png))</span></span>

<span data-ttu-id="7b99a-246">Formview のスマートタグを使用すると、FormView を直接データソースコントロールにバインドできます。これにより、ObjectDataSource コントロールの `InsertMethod` および `UpdateMethod` プロパティが設定されている場合に、`EditItemTemplate` と `InsertItemTemplate`と共に、既定の `ItemTemplate` が自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-246">You can bind the FormView directly to a data source control through the FormView's smart tag, which will create a default `ItemTemplate` automatically (along with an `EditItemTemplate` and `InsertItemTemplate`, if the ObjectDataSource control's `InsertMethod` and `UpdateMethod` properties are set).</span></span> <span data-ttu-id="7b99a-247">ただし、この例では、データを FormView にバインドし、その `ItemTemplate` を手動で指定してみましょう。</span><span class="sxs-lookup"><span data-stu-id="7b99a-247">However, for this example let's bind the data to the FormView and specify its `ItemTemplate` manually.</span></span> <span data-ttu-id="7b99a-248">まず、FormView の `DataSourceID` プロパティを ObjectDataSource コントロールの `ID` に設定し、`ObjectDataSource1`します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-248">Start by setting the FormView's `DataSourceID` property to the `ID` of the ObjectDataSource control, `ObjectDataSource1`.</span></span> <span data-ttu-id="7b99a-249">次に、`ItemTemplate` を作成します。これにより、製品の名前と価格が `<h4>` 要素に表示され、カテゴリと出荷業者の名前が小さいフォントサイズで表示されるようになります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-249">Next, create the `ItemTemplate` so that it displays the product's name and price in an `<h4>` element and the category and shipper names beneath that in a smaller font size.</span></span>

[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample6.aspx)]

<span data-ttu-id="7b99a-250">[最初の製品 (Chai) がカスタム形式で表示される ![](displaying-data-with-the-objectdatasource-cs/_static/image49.png)](displaying-data-with-the-objectdatasource-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="7b99a-250">[![The First Product (Chai) is Displayed in a Custom Format](displaying-data-with-the-objectdatasource-cs/_static/image49.png)](displaying-data-with-the-objectdatasource-cs/_static/image48.png)</span></span>

<span data-ttu-id="7b99a-251">**図 18**: 最初の製品 (Chai) がカスタム形式で表示される ([クリックすると、フルサイズの画像が表示](displaying-data-with-the-objectdatasource-cs/_static/image50.png)されます)</span><span class="sxs-lookup"><span data-stu-id="7b99a-251">**Figure 18**: The First Product (Chai) is Displayed in a Custom Format ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image50.png))</span></span>

<span data-ttu-id="7b99a-252">`<%# Eval(propertyName) %>` は、データバインド構文です。</span><span class="sxs-lookup"><span data-stu-id="7b99a-252">The `<%# Eval(propertyName) %>` is the databinding syntax.</span></span> <span data-ttu-id="7b99a-253">`Eval` メソッドは、FormView コントロールにバインドされている現在のオブジェクトについて、指定されたプロパティの値を返します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-253">The `Eval` method returns the value of the specified property for the current object being bound to the FormView control.</span></span> <span data-ttu-id="7b99a-254">データバインドの入出力の詳細については、Alex Homer の記事「 [ASP.NET 2.0 の簡略化および拡張されたデータバインディング構文」](http://www.15seconds.com/issue/040630.htm)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7b99a-254">Check out Alex Homer's article [Simplified and Extended Data Binding Syntax in ASP.NET 2.0](http://www.15seconds.com/issue/040630.htm) for more information on the ins and outs of databinding.</span></span>

<span data-ttu-id="7b99a-255">DetailsView と同様に、FormView は、ObjectDataSource から返された最初のレコードのみを表示します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-255">Like the DetailsView, the FormView only shows the first record returned from the ObjectDataSource.</span></span> <span data-ttu-id="7b99a-256">FormView でページングを有効にすると、ユーザーが一度に1つずつ製品をステップ実行できるようになります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-256">You can enable paging in the FormView to allow visitors to step through the products one at a time.</span></span>

## <a name="summary"></a><span data-ttu-id="7b99a-257">まとめ</span><span class="sxs-lookup"><span data-stu-id="7b99a-257">Summary</span></span>

<span data-ttu-id="7b99a-258">ビジネスロジックレイヤーからのデータへのアクセスと表示は、ASP.NET 2.0 の ObjectDataSource コントロールによってコード行を記述しなくても実現できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-258">Accessing and displaying data from a Business Logic Layer can be accomplished without writing a line of code thanks to ASP.NET 2.0's ObjectDataSource control.</span></span> <span data-ttu-id="7b99a-259">ObjectDataSource は、クラスの指定されたメソッドを呼び出し、結果を返します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-259">The ObjectDataSource invokes a specified method of a class and returns the results.</span></span> <span data-ttu-id="7b99a-260">これらの結果は、ObjectDataSource にバインドされているデータ Web コントロールに表示できます。</span><span class="sxs-lookup"><span data-stu-id="7b99a-260">These results can be displayed in a data Web control that's bound to the ObjectDataSource.</span></span> <span data-ttu-id="7b99a-261">このチュートリアルでは、GridView、DetailsView、および FormView コントロールを ObjectDataSource にバインドする方法について説明しました。</span><span class="sxs-lookup"><span data-stu-id="7b99a-261">In this tutorial we looked at binding the GridView, DetailsView, and FormView controls to the ObjectDataSource.</span></span>

<span data-ttu-id="7b99a-262">ここまでは、ObjectDataSource を使用してパラメーターのないメソッドを呼び出す方法について説明しましたが、`ProductBLL` クラスの `GetProductsByCategoryID(categoryID)`などの入力パラメーターを必要とするメソッドを呼び出す場合はどうでしょうか。</span><span class="sxs-lookup"><span data-stu-id="7b99a-262">So far we've only seen how to use the ObjectDataSource to invoke a parameter-less method, but what if we want to invoke a method that expects input parameters, such as the `ProductBLL` class's `GetProductsByCategoryID(categoryID)`?</span></span> <span data-ttu-id="7b99a-263">1つ以上のパラメーターを受け取るメソッドを呼び出すには、これらのパラメーターの値を指定するように ObjectDataSource を構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-263">In order to call a method that expects one or more parameters we must configure the ObjectDataSource to specify the values for these parameters.</span></span> <span data-ttu-id="7b99a-264">これを実現する方法については、[次のチュートリアル](declarative-parameters-cs.md)で説明します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-264">We'll see how to accomplish this in our [next tutorial](declarative-parameters-cs.md).</span></span>

<span data-ttu-id="7b99a-265">プログラミングを楽しんでください。</span><span class="sxs-lookup"><span data-stu-id="7b99a-265">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="7b99a-266">参考資料</span><span class="sxs-lookup"><span data-stu-id="7b99a-266">Further Reading</span></span>

<span data-ttu-id="7b99a-267">このチュートリアルで説明しているトピックの詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7b99a-267">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="7b99a-268">独自のデータソースコントロールを作成する</span><span class="sxs-lookup"><span data-stu-id="7b99a-268">Create Your Own Data Source Controls</span></span>](https://msdn.microsoft.com/library/ms364049.aspx)
- [<span data-ttu-id="7b99a-269">ASP.NET 2.0 の GridView の例</span><span class="sxs-lookup"><span data-stu-id="7b99a-269">GridView Examples for ASP.NET 2.0</span></span>](https://msdn.microsoft.com/library/aa479339.aspx)
- [<span data-ttu-id="7b99a-270">ASP.NET 2.0 での簡略化および拡張されたデータバインディング構文</span><span class="sxs-lookup"><span data-stu-id="7b99a-270">Simplified and Extended Data Binding Syntax in ASP.NET 2.0</span></span>](http://www.15seconds.com/issue/040630.htm)
- [<span data-ttu-id="7b99a-271">ASP.NET 2.0 のテーマ</span><span class="sxs-lookup"><span data-stu-id="7b99a-271">Themes in ASP.NET 2.0</span></span>](http://www.odetocode.com/Articles/423.aspx)
- [<span data-ttu-id="7b99a-272">テーマを使用したサーバー側のスタイル</span><span class="sxs-lookup"><span data-stu-id="7b99a-272">Server-Side Styles Using Themes</span></span>](https://quickstarts.asp.net/quickstartv20/aspnet/doc/themes/stylesheettheme.aspx)
- [<span data-ttu-id="7b99a-273">方法: プログラムによって ASP.NET テーマを適用する</span><span class="sxs-lookup"><span data-stu-id="7b99a-273">How To: Apply ASP.NET Themes Programmatically</span></span>](https://msdn.microsoft.com/library/tx35bd89.aspx)

## <a name="about-the-author"></a><span data-ttu-id="7b99a-274">著者について</span><span class="sxs-lookup"><span data-stu-id="7b99a-274">About the Author</span></span>

<span data-ttu-id="7b99a-275">1998以来、 [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)は 7 asp/創設者 of [4GuysFromRolla.com](http://www.4guysfromrolla.com)の執筆者であり、Microsoft Web テクノロジを使用しています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-275">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7b99a-276">Scott は、独立したコンサルタント、トレーナー、およびライターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="7b99a-276">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7b99a-277">彼の最新の書籍は[ *、ASP.NET 2.0 を24時間以内に教え*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ています。</span><span class="sxs-lookup"><span data-stu-id="7b99a-277">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="7b99a-278">mitchell@4GuysFromRolla.comでアクセスでき[ます。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7b99a-278">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="7b99a-279">または彼のブログを参照してください。これは[http://ScottOnWriting.NET](http://ScottOnWriting.NET)にあります。</span><span class="sxs-lookup"><span data-stu-id="7b99a-279">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="7b99a-280">ありがとうございました。</span><span class="sxs-lookup"><span data-stu-id="7b99a-280">Special Thanks To</span></span>

<span data-ttu-id="7b99a-281">このチュートリアルシリーズは、役に立つ多くのレビュー担当者によってレビューされました。</span><span class="sxs-lookup"><span data-stu-id="7b99a-281">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="7b99a-282">このチュートリアルのリードレビュー担当者は、Hilton Giesenow でした。</span><span class="sxs-lookup"><span data-stu-id="7b99a-282">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="7b99a-283">今後の MSDN 記事を確認することに興味がありますか?</span><span class="sxs-lookup"><span data-stu-id="7b99a-283">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="7b99a-284">その場合は、mitchell@4GuysFromRolla.comの行を削除[します。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7b99a-284">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="7b99a-285">Next</span><span class="sxs-lookup"><span data-stu-id="7b99a-285">Next</span></span>](declarative-parameters-cs.md)
