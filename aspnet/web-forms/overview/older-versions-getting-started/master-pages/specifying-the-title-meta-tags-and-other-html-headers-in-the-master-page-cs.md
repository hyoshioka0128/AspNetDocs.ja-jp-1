---
uid: web-forms/overview/older-versions-getting-started/master-pages/specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs
title: マスターページでタイトル、メタタグ、およびその他の HTML ヘッダーを指定C#する () |Microsoft Docs
author: rick-anderson
description: コンテンツページからマスターページ内の &lt;head&gt; 要素を定義するためのさまざまな手法について見ていきます。
ms.author: riande
ms.date: 05/21/2008
ms.assetid: 0aa1c84f-c9e2-4699-b009-0e28643ecbc6
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs
msc.type: authoredcontent
ms.openlocfilehash: a4ec96a5b90f664655d554c064f9d50e76ad2d58
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2019
ms.locfileid: "74624525"
---
# <a name="specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-c"></a><span data-ttu-id="743db-103">マスター ページでタイトル、メタ タグ、その他の HTML ヘッダーを指定する (C#)</span><span class="sxs-lookup"><span data-stu-id="743db-103">Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page (C#)</span></span>

<span data-ttu-id="743db-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="743db-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="743db-105">[コードのダウンロード](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_03_CS.zip)または[PDF のダウンロード](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_03_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="743db-105">[Download Code](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_03_CS.zip) or [Download PDF](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_03_CS.pdf)</span></span>

> <span data-ttu-id="743db-106">コンテンツページからマスターページ内の &lt;head&gt; 要素を定義するためのさまざまな手法について見ていきます。</span><span class="sxs-lookup"><span data-stu-id="743db-106">Looks at different techniques for defining assorted &lt;head&gt; elements in the Master Page from the content page.</span></span>

## <a name="introduction"></a><span data-ttu-id="743db-107">はじめに</span><span class="sxs-lookup"><span data-stu-id="743db-107">Introduction</span></span>

<span data-ttu-id="743db-108">Visual Studio 2008 で作成された新しいマスターページには、既定で2つの ContentPlaceHolder コントロールがあります。1つは head で、もう1つは `<head>` 要素にあります。また、Web フォーム内に配置された `ContentPlaceHolder1`という名前のものがあります。</span><span class="sxs-lookup"><span data-stu-id="743db-108">New master pages created in Visual Studio 2008 have, by default, two ContentPlaceHolder controls: one named head, and located in the `<head>` element; and one named `ContentPlaceHolder1`, placed within the Web Form.</span></span> <span data-ttu-id="743db-109">`ContentPlaceHolder1` の目的は、ページごとにカスタマイズできる、Web フォームの領域を定義することです。</span><span class="sxs-lookup"><span data-stu-id="743db-109">The purpose of `ContentPlaceHolder1` is to define a region in the Web Form that can be customized on a page-by-page basis.</span></span> <span data-ttu-id="743db-110">`head` ContentPlaceHolder を使用すると、ページは `<head>` セクションにカスタムコンテンツを追加できます。</span><span class="sxs-lookup"><span data-stu-id="743db-110">The `head` ContentPlaceHolder enables pages to add custom content to the `<head>` section.</span></span> <span data-ttu-id="743db-111">(もちろん、これら2つの ContentPlaceHolders は変更または削除でき、追加の ContentPlaceHolder をマスターページに追加することもできます。</span><span class="sxs-lookup"><span data-stu-id="743db-111">(Of course, these two ContentPlaceHolders can be modified or removed, and additional ContentPlaceHolder may be added to the master page.</span></span> <span data-ttu-id="743db-112">現在のマスターページ `Site.master`には、4つの ContentPlaceHolder コントロールがあります)。</span><span class="sxs-lookup"><span data-stu-id="743db-112">Our master page, `Site.master`, currently has four ContentPlaceHolder controls.)</span></span>

<span data-ttu-id="743db-113">HTML `<head>` 要素は、ドキュメント自体に含まれていない web ページドキュメントに関する情報のリポジトリとして機能します。</span><span class="sxs-lookup"><span data-stu-id="743db-113">The HTML `<head>` element serves as a repository for information about the web page document that is not part of the document itself.</span></span> <span data-ttu-id="743db-114">これには、web ページのタイトル、検索エンジンまたは内部クローラーで使用されるメタ情報、RSS フィード、JavaScript、CSS ファイルなどの外部リソースへのリンクなどの情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="743db-114">This includes information such as the web page's title, meta-information used by search engines or internal crawlers, and links to external resources, such as RSS feeds, JavaScript, and CSS files.</span></span> <span data-ttu-id="743db-115">この情報の一部は、web サイトのすべてのページに関連している場合があります。</span><span class="sxs-lookup"><span data-stu-id="743db-115">Some of this information may be pertinent to all pages in the website.</span></span> <span data-ttu-id="743db-116">たとえば、すべての ASP.NET ページに対して同じ CSS 規則と JavaScript ファイルをグローバルにインポートすることができます。</span><span class="sxs-lookup"><span data-stu-id="743db-116">For example, you might want to globally import the same CSS rules and JavaScript files for every ASP.NET page.</span></span> <span data-ttu-id="743db-117">ただし、`<head>` 要素にはページ固有の部分があります。</span><span class="sxs-lookup"><span data-stu-id="743db-117">However, there are portions of the `<head>` element that are page-specific.</span></span> <span data-ttu-id="743db-118">ページタイトルは、代表的な例です。</span><span class="sxs-lookup"><span data-stu-id="743db-118">The page title is a prime example.</span></span>

<span data-ttu-id="743db-119">このチュートリアルでは、マスターページとそのコンテンツページで、グローバルおよびページ固有の `<head>` セクションマークアップを定義する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="743db-119">In this tutorial we examine how to define global and page-specific `<head>` section markup in the master page and in its content pages.</span></span>

## <a name="examining-the-master-pagesheadsection"></a><span data-ttu-id="743db-120">マスターページの`<head>`セクションを調べる</span><span class="sxs-lookup"><span data-stu-id="743db-120">Examining the Master Page's`<head>`Section</span></span>

<span data-ttu-id="743db-121">Visual Studio 2008 によって作成される既定のマスターページファイルには、`<head>` セクションに次のマークアップが含まれています。</span><span class="sxs-lookup"><span data-stu-id="743db-121">The default master page file created by Visual Studio 2008 contains the following markup in its `<head>` section:</span></span>

[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample1.aspx)]

<span data-ttu-id="743db-122">`<head>` 要素には `runat="server"` 属性が含まれていることに注意してください。これは、静的 HTML ではなく、サーバーコントロールであることを示します。</span><span class="sxs-lookup"><span data-stu-id="743db-122">Notice that the `<head>` element contains a `runat="server"` attribute, which indicates that it is a server control (rather than static HTML).</span></span> <span data-ttu-id="743db-123">すべての ASP.NET ページは、`System.Web.UI` 名前空間にある[`Page` クラス](https://msdn.microsoft.com/library/system.web.ui.page.aspx)から派生します。</span><span class="sxs-lookup"><span data-stu-id="743db-123">All ASP.NET pages derive from the [`Page` class](https://msdn.microsoft.com/library/system.web.ui.page.aspx), which is located in the `System.Web.UI` namespace.</span></span> <span data-ttu-id="743db-124">このクラスには、ページの `<head>` 領域へのアクセスを提供する `Header` プロパティが含まれています。</span><span class="sxs-lookup"><span data-stu-id="743db-124">This class contains a `Header` property that provides access to the page's `<head>` region.</span></span> <span data-ttu-id="743db-125">[`Header` プロパティ](https://msdn.microsoft.com/library/system.web.ui.page.header.aspx)を使用して、ASP.NET ページのタイトルを設定したり、表示される `<head>` セクションにマークアップを追加したりできます。</span><span class="sxs-lookup"><span data-stu-id="743db-125">Using the [`Header` property](https://msdn.microsoft.com/library/system.web.ui.page.header.aspx) we can set an ASP.NET page's title or add additional markup to the rendered `<head>` section.</span></span> <span data-ttu-id="743db-126">次に、ページの `Page_Load` イベントハンドラーに少しコードを記述して、コンテンツページの `<head>` 要素をカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="743db-126">It is possible, then, to customize a content page's `<head>` element by writing a bit of code in the page's `Page_Load` event handler.</span></span> <span data-ttu-id="743db-127">手順1でページのタイトルをプログラムによって設定する方法を確認します。</span><span class="sxs-lookup"><span data-stu-id="743db-127">We examine how to programmatically set the page's title in Step 1.</span></span>

<span data-ttu-id="743db-128">上の `<head>` 要素に示されているマークアップには、head という名前の ContentPlaceHolder コントロールも含まれています。</span><span class="sxs-lookup"><span data-stu-id="743db-128">The markup shown in the `<head>` element above also includes a ContentPlaceHolder control named head.</span></span> <span data-ttu-id="743db-129">コンテンツページでは、`<head>` 要素にプログラムによってカスタムコンテンツを追加できるため、この ContentPlaceHolder コントロールは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="743db-129">This ContentPlaceHolder control is not necessary, as content pages can add custom content to the `<head>` element programmatically.</span></span> <span data-ttu-id="743db-130">ただし、静的なマークアップをプログラムによってではなく、対応するコンテンツコントロールに宣言的に追加できるため、コンテンツページで `<head>` 要素に静的マークアップを追加する必要がある場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="743db-130">It's useful, however, in situations where a content page needs to add static markup to the `<head>` element as the static markup can be added declaratively to the corresponding Content control rather than programmatically.</span></span>

<span data-ttu-id="743db-131">`<title>` 要素と head ContentPlaceHolder に加えて、マスターページの `<head>` 要素には、すべてのページに共通の `<head>`レベルのマークアップが含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="743db-131">In addition to the `<title>` element and head ContentPlaceHolder, the master page's `<head>` element should contain any `<head>`-level markup that's common to all pages.</span></span> <span data-ttu-id="743db-132">Web サイトでは、すべてのページが `Styles.css` ファイルで定義されている CSS 規則を使用します。</span><span class="sxs-lookup"><span data-stu-id="743db-132">In our website, all pages use the CSS rules defined in the `Styles.css` file.</span></span> <span data-ttu-id="743db-133">そのため、「[*マスターページを使用したサイト全体のレイアウトの作成*](creating-a-site-wide-layout-using-master-pages-cs.md)」チュートリアルの `<head>` 要素を更新して、対応する `<link>` 要素を含めるようにしました。</span><span class="sxs-lookup"><span data-stu-id="743db-133">Consequently, we updated the `<head>` element in the [*Creating a Site-Wide Layout with Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md) tutorial to include a corresponding `<link>` element.</span></span> <span data-ttu-id="743db-134">`Site.master` マスターページの現在の `<head>` マークアップを次に示します。</span><span class="sxs-lookup"><span data-stu-id="743db-134">Our `Site.master` master page's current `<head>` markup is shown below.</span></span>

[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample2.aspx)]

## <a name="step-1-setting-a-content-pages-title"></a><span data-ttu-id="743db-135">手順 1: コンテンツページのタイトルを設定する</span><span class="sxs-lookup"><span data-stu-id="743db-135">Step 1: Setting a Content Page's Title</span></span>

<span data-ttu-id="743db-136">Web ページのタイトルは、`<title>` 要素によって指定されます。</span><span class="sxs-lookup"><span data-stu-id="743db-136">The web page's title is specified via the `<title>` element.</span></span> <span data-ttu-id="743db-137">各ページのタイトルを適切な値に設定することが重要です。</span><span class="sxs-lookup"><span data-stu-id="743db-137">It is important to set each page's title to an appropriate value.</span></span> <span data-ttu-id="743db-138">ページにアクセスすると、ブラウザーのタイトルバーにタイトルが表示されます。</span><span class="sxs-lookup"><span data-stu-id="743db-138">When visiting a page, its title is displayed in the browser's Title bar.</span></span> <span data-ttu-id="743db-139">さらに、ページをブックマークするときに、ブラウザーはそのページのタイトルをブックマークの推奨される名前として使用します。</span><span class="sxs-lookup"><span data-stu-id="743db-139">Additionally, when bookmarking a page, browsers use the page's title as the suggested name for the bookmark.</span></span> <span data-ttu-id="743db-140">また、多くの検索エンジンでは、検索結果を表示するときにページのタイトルが表示されます。</span><span class="sxs-lookup"><span data-stu-id="743db-140">Also, many search engines show the page's title when displaying search results.</span></span>

> [!NOTE]
> <span data-ttu-id="743db-141">既定では、Visual Studio によって、マスターページの `<title>` 要素が "無題のページ" に設定されます。</span><span class="sxs-lookup"><span data-stu-id="743db-141">By default, Visual Studio sets the `<title>` element in the master page to "Untitled Page".</span></span> <span data-ttu-id="743db-142">同様に、新しい ASP.NET ページでも `<title>` が "無題のページ" に設定されています。</span><span class="sxs-lookup"><span data-stu-id="743db-142">Similarly, new ASP.NET pages have their `<title>` set to "Untitled Page", too.</span></span> <span data-ttu-id="743db-143">ページのタイトルを適切な値に設定するのは簡単ではないため、インターネット上には "無題のページ" というタイトルのページが多数あります。</span><span class="sxs-lookup"><span data-stu-id="743db-143">Because it can be easy to forget to set the page's title to an appropriate value, there are many pages on the Internet with the title "Untitled Page".</span></span> <span data-ttu-id="743db-144">このタイトルで web ページの Google を検索すると、約246万の結果が返されます。</span><span class="sxs-lookup"><span data-stu-id="743db-144">Searching Google for web pages with this title returns roughly 2,460,000 results.</span></span> <span data-ttu-id="743db-145">Microsoft でも、"無題のページ" というタイトルの web ページを公開することはできます。</span><span class="sxs-lookup"><span data-stu-id="743db-145">Even Microsoft is susceptible to publishing web pages with the title "Untitled Page".</span></span> <span data-ttu-id="743db-146">このドキュメントの執筆時点では、Google search は Microsoft.com ドメイン内のこのような web ページを236報告しました。</span><span class="sxs-lookup"><span data-stu-id="743db-146">At the time of this writing, a Google search reported 236 such web pages in the Microsoft.com domain.</span></span>

<span data-ttu-id="743db-147">ASP.NET ページでは、次のいずれかの方法でタイトルを指定できます。</span><span class="sxs-lookup"><span data-stu-id="743db-147">An ASP.NET page can specify its title in one of the following ways:</span></span>

- <span data-ttu-id="743db-148">`<title>` 要素内に値を直接配置する</span><span class="sxs-lookup"><span data-stu-id="743db-148">By placing the value directly within the `<title>` element</span></span>
- <span data-ttu-id="743db-149">`<%@ Page %>` ディレクティブでの `Title` 属性の使用</span><span class="sxs-lookup"><span data-stu-id="743db-149">Using the `Title` attribute in the `<%@ Page %>` directive</span></span>
- <span data-ttu-id="743db-150">`Page.Title="title"` や `Page.Header.Title="title"`などのコードを使用して、プログラムによってページの `Title` プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="743db-150">Programmatically setting the page's `Title` property using code like `Page.Title="title"` or `Page.Header.Title="title"`.</span></span>

<span data-ttu-id="743db-151">コンテンツページには、マスターページで定義されているように `<title>` 要素はありません。</span><span class="sxs-lookup"><span data-stu-id="743db-151">Content pages don't have a `<title>` element, as it's defined in the master page.</span></span> <span data-ttu-id="743db-152">そのため、コンテンツページのタイトルを設定するには、`<%@ Page %>` ディレクティブの `Title` 属性を使用するか、プログラムによって設定します。</span><span class="sxs-lookup"><span data-stu-id="743db-152">Therefore, to set a content page's title you can either use the `<%@ Page %>` directive's `Title` attribute or set it programmatically.</span></span>

### <a name="setting-the-pages-title-declaratively"></a><span data-ttu-id="743db-153">ページのタイトルを宣言によって設定する</span><span class="sxs-lookup"><span data-stu-id="743db-153">Setting the Page's Title Declaratively</span></span>

<span data-ttu-id="743db-154">コンテンツページのタイトルは、 [`<%@ Page %>` ディレクティブ](https://msdn.microsoft.com/library/ydy4x04a.aspx)の `Title` 属性を使用して、宣言によって設定できます。</span><span class="sxs-lookup"><span data-stu-id="743db-154">A content page's title can be set declaratively through the `Title` attribute of the [`<%@ Page %>` directive](https://msdn.microsoft.com/library/ydy4x04a.aspx).</span></span> <span data-ttu-id="743db-155">このプロパティを設定するには、`<%@ Page %>` ディレクティブを直接変更するか、プロパティウィンドウを使用します。</span><span class="sxs-lookup"><span data-stu-id="743db-155">This property can be set by directly modifying the `<%@ Page %>` directive or through the Properties window.</span></span> <span data-ttu-id="743db-156">両方の方法を見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="743db-156">Let's look at both approaches.</span></span>

<span data-ttu-id="743db-157">ソースビューで、ページの宣言型マークアップの一番上にある `<%@ Page %>` ディレクティブを見つけます。</span><span class="sxs-lookup"><span data-stu-id="743db-157">From the Source view, locate the `<%@ Page %>` directive, which is at the top of the page's declarative markup.</span></span> <span data-ttu-id="743db-158">`Default.aspx` の `<%@ Page %>` ディレクティブは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="743db-158">The `<%@ Page %>` directive for `Default.aspx` follows:</span></span>

[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample3.aspx)]

<span data-ttu-id="743db-159">`<%@ Page %>` ディレクティブは、ページの解析とコンパイル時に ASP.NET エンジンによって使用されるページ固有の属性を指定します。</span><span class="sxs-lookup"><span data-stu-id="743db-159">The `<%@ Page %>` directive specifies page-specific attributes used by the ASP.NET engine when parsing and compiling the page.</span></span> <span data-ttu-id="743db-160">これには、マスターページファイル、コードファイルの場所、その他の情報などが含まれます。</span><span class="sxs-lookup"><span data-stu-id="743db-160">This includes its master page file, the location of its code file, and its title, among other information.</span></span>

<span data-ttu-id="743db-161">既定では、新しいコンテンツページを作成するときに、Visual Studio によって `Title` 属性が無題のページに設定されます。</span><span class="sxs-lookup"><span data-stu-id="743db-161">By default, when creating a new content page Visual Studio sets the `Title` attribute to Untitled Page.</span></span> <span data-ttu-id="743db-162">`Default.aspx`の `Title` 属性を "無題のページ" から "マスターページチュートリアル" に変更し、ブラウザーを使用してそのページを表示します。</span><span class="sxs-lookup"><span data-stu-id="743db-162">Change `Default.aspx`'s `Title` attribute from "Untitled Page" to "Master Page Tutorials" and then view the page through a browser.</span></span> <span data-ttu-id="743db-163">図1は、新しいページタイトルを反映するブラウザーのタイトルバーを示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-163">Figure 1 shows the browser's Title bar, which reflects the new page title.</span></span>

![ブラウザーのタイトルバーには、&quot;無題のページではなく&quot; &quot;マスターページのチュートリアルが表示されるようになりました&quot;](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image1.png)

<span data-ttu-id="743db-165">**図 01**: ブラウザーのタイトルバーに "無題のページ" ではなく "マスターページのチュートリアル" が表示されるようになりました。</span><span class="sxs-lookup"><span data-stu-id="743db-165">**Figure 01**: The Browser's Title Bar Now Shows "Master Page Tutorials" Instead of "Untitled Page"</span></span>

<span data-ttu-id="743db-166">ページのタイトルは、プロパティウィンドウから設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="743db-166">The page's title may also be set from the Properties window.</span></span> <span data-ttu-id="743db-167">プロパティウィンドウから、ドロップダウンリストから [ドキュメント] を選択して、`Title` プロパティを含むページレベルのプロパティを読み込みます。</span><span class="sxs-lookup"><span data-stu-id="743db-167">From the Properties window, select DOCUMENT from the drop-down list to load the page-level properties, which includes the `Title` property.</span></span> <span data-ttu-id="743db-168">図2は、`Title` が "マスターページチュートリアル" に設定された後のプロパティウィンドウを示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-168">Figure 2 shows the Properties window after `Title` has been set to "Master Page Tutorials".</span></span>

![[プロパティ] ウィンドウからタイトルを構成することもできます。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image2.png)

<span data-ttu-id="743db-170">**図 02**: [プロパティ] ウィンドウからタイトルを構成することもできます。</span><span class="sxs-lookup"><span data-stu-id="743db-170">**Figure 02**: You May Configure the Title from the Properties Window, Too</span></span>

### <a name="setting-the-pages-title-programmatically"></a><span data-ttu-id="743db-171">プログラムによるページのタイトルの設定</span><span class="sxs-lookup"><span data-stu-id="743db-171">Setting the Page's Title Programmatically</span></span>

<span data-ttu-id="743db-172">ASP.NET エンジンによってページがレンダリングされるときに、マスターページの `<head runat="server">` マークアップが[`HtmlHead` クラス](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.aspx)のインスタンスに変換されます。</span><span class="sxs-lookup"><span data-stu-id="743db-172">The master page's `<head runat="server">` markup is translated into an [`HtmlHead` class](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.aspx) instance when the page is rendered by the ASP.NET engine.</span></span> <span data-ttu-id="743db-173">`HtmlHead` クラスには、表示される `<title>` 要素に値が反映される[`Title` プロパティ](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.title.aspx)があります。</span><span class="sxs-lookup"><span data-stu-id="743db-173">The `HtmlHead` class has a [`Title` property](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.title.aspx) whose value is reflected in the rendered `<title>` element.</span></span> <span data-ttu-id="743db-174">このプロパティは、`Page.Header.Title`を介して ASP.NET ページの分離コードクラスからアクセスできます。この同じプロパティには、`Page.Title`経由でアクセスすることもできます。</span><span class="sxs-lookup"><span data-stu-id="743db-174">This property is accessible from an ASP.NET page's code-behind class via `Page.Header.Title`; this same property can also be accessed via `Page.Title`.</span></span>

<span data-ttu-id="743db-175">プログラムによってページのタイトルを設定する方法については、`About.aspx` ページの分離コードクラスに移動し、ページの `Load` イベントのイベントハンドラーを作成します。</span><span class="sxs-lookup"><span data-stu-id="743db-175">To practice setting the page's title programmatically, navigate to the `About.aspx` page's code-behind class and create an event handler for the page's `Load` event.</span></span> <span data-ttu-id="743db-176">次に、ページのタイトルを "マスターページチュートリアル:: About:: *date*" に設定します。ここで、 *date*は現在の日付です。</span><span class="sxs-lookup"><span data-stu-id="743db-176">Next, set the page's title to "Master Page Tutorials :: About :: *date*", where *date* is the current date.</span></span> <span data-ttu-id="743db-177">このコードを追加すると、`Page_Load` イベントハンドラーは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="743db-177">After adding this code your `Page_Load` event handler should look similar to the following:</span></span>

[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample4.cs)]

<span data-ttu-id="743db-178">図3は、`About.aspx` ページにアクセスするときのブラウザーのタイトルバーを示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-178">Figure 3 shows the browser's title bar when visiting the `About.aspx` page.</span></span>

![ページのタイトルはプログラムによって設定され、現在の日付が含まれます。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image3.png)

<span data-ttu-id="743db-180">**図 03**: ページのタイトルがプログラムによって設定され、現在の日付が含まれる</span><span class="sxs-lookup"><span data-stu-id="743db-180">**Figure 03**: The Page's Title is Programmatically Set and Includes the Current Date</span></span>

## <a name="step-2-automatically-assigning-a-page-title"></a><span data-ttu-id="743db-181">手順 2: ページタイトルを自動的に割り当てる</span><span class="sxs-lookup"><span data-stu-id="743db-181">Step 2: Automatically Assigning a Page Title</span></span>

<span data-ttu-id="743db-182">手順 1. で見たように、ページのタイトルは宣言またはプログラムによって設定できます。</span><span class="sxs-lookup"><span data-stu-id="743db-182">As we saw in Step 1, a page's title can be set declaratively or programmatically.</span></span> <span data-ttu-id="743db-183">ただし、タイトルをさらにわかりやすいものに明示的に変更し忘れた場合、ページには既定のタイトル "無題のページ" が表示されます。</span><span class="sxs-lookup"><span data-stu-id="743db-183">If you forget to explicitly change the title to something more descriptive, however, your page will have the default title, "Untitled Page".</span></span> <span data-ttu-id="743db-184">理想的には、ページのタイトルは、値を明示的に指定していない場合に自動的に設定されます。</span><span class="sxs-lookup"><span data-stu-id="743db-184">Ideally, the page's title would be set automatically for us in the event that we don't explicitly specify its value.</span></span> <span data-ttu-id="743db-185">たとえば、実行時にページのタイトルが "無題のページ" である場合、タイトルを自動的に更新して、ASP.NET ページのファイル名と同じにすることができます。</span><span class="sxs-lookup"><span data-stu-id="743db-185">For example, if at runtime the page's title is "Untitled Page", we might want to have the title automatically updated to be the same as the ASP.NET page's filename.</span></span> <span data-ttu-id="743db-186">すばらしいのは、少しの初期作業で、タイトルを自動的に割り当てることができるということです。</span><span class="sxs-lookup"><span data-stu-id="743db-186">The good news is that with a little bit of upfront work it is possible to have the title automatically assigned.</span></span>

<span data-ttu-id="743db-187">すべての ASP.NET web ページは、`System.Web.UI` 名前空間の `Page` クラスから派生します。</span><span class="sxs-lookup"><span data-stu-id="743db-187">All ASP.NET web pages derive from the `Page` class in the `System.Web.UI` namespace.</span></span> <span data-ttu-id="743db-188">`Page` クラスは、ASP.NET ページに必要な最小限の機能を定義し、他の多くの `IsPostBack`、`IsValid`、`Request`、`Response`などの重要なプロパティを公開します。</span><span class="sxs-lookup"><span data-stu-id="743db-188">The `Page` class defines the minimal functionality needed by an ASP.NET page and exposes essential properties like `IsPostBack`, `IsValid`, `Request`, and `Response`, among many others.</span></span> <span data-ttu-id="743db-189">多くの場合、web アプリケーションのすべてのページに追加の機能が必要です。</span><span class="sxs-lookup"><span data-stu-id="743db-189">Oftentimes, every page in a web application requires additional features or functionality.</span></span> <span data-ttu-id="743db-190">これを提供する一般的な方法は、カスタムの基本ページクラスを作成することです。</span><span class="sxs-lookup"><span data-stu-id="743db-190">A common way of providing this is to create a custom base page class.</span></span> <span data-ttu-id="743db-191">カスタム基本ページクラスは、`Page` クラスから派生し、追加の機能を含む、作成するクラスです。</span><span class="sxs-lookup"><span data-stu-id="743db-191">A custom base page class is a class you create that derives from the `Page` class and includes additional functionality.</span></span> <span data-ttu-id="743db-192">この基本クラスを作成した後は、ASP.NET ページを (`Page` クラスではなく) 派生させて、ASP.NET ページに拡張機能を提供することができます。</span><span class="sxs-lookup"><span data-stu-id="743db-192">Once this base class has been created, you can have your ASP.NET pages derive from it (rather than the `Page` class), thereby offering the extended functionality to your ASP.NET pages.</span></span>

<span data-ttu-id="743db-193">この手順では、タイトルが明示的に設定されていない場合に、ページのタイトルを ASP.NET ページのファイル名に自動的に設定するベースページを作成します。</span><span class="sxs-lookup"><span data-stu-id="743db-193">In this step we create a base page that automatically sets the page's title to the ASP.NET page's filename if the title has not otherwise been explicitly set.</span></span> <span data-ttu-id="743db-194">手順3は、サイトマップに基づいてページのタイトルを設定する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-194">Step 3 looks at setting the page's title based on the site map.</span></span>

> [!NOTE]
> <span data-ttu-id="743db-195">カスタムベースページクラスの作成と使用の詳細については、このチュートリアルシリーズの範囲を超えています。</span><span class="sxs-lookup"><span data-stu-id="743db-195">A thorough examination of creating and using custom base page classes is beyond the scope of this tutorial series.</span></span> <span data-ttu-id="743db-196">詳細については、「 [ASP.NET ページの分離コードクラスのカスタム基本クラスの使用」](http://aspnet.4guysfromrolla.com/articles/041305-1.aspx)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="743db-196">For more information, read [Using a Custom Base Class for Your ASP.NET Pages' Code-Behind Classes](http://aspnet.4guysfromrolla.com/articles/041305-1.aspx).</span></span>

### <a name="creating-the-base-page-class"></a><span data-ttu-id="743db-197">基本ページクラスの作成</span><span class="sxs-lookup"><span data-stu-id="743db-197">Creating the Base Page Class</span></span>

<span data-ttu-id="743db-198">最初のタスクは、基本ページクラスを作成することです。これは、`Page` クラスを拡張するクラスです。</span><span class="sxs-lookup"><span data-stu-id="743db-198">Our first task is to create a base page class, which is a class that extends the `Page` class.</span></span> <span data-ttu-id="743db-199">まず、ソリューションエクスプローラーでプロジェクト名を右クリックして [ASP.NET フォルダーの追加] を選択し、[`App_Code`] を選択して、プロジェクトに `App_Code` フォルダーを追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-199">Start by adding an `App_Code` folder to your project by right-clicking on the project name in the Solution Explorer, choosing Add ASP.NET Folder, and then selecting `App_Code`.</span></span> <span data-ttu-id="743db-200">次に、`App_Code` フォルダーを右クリックし、`BasePage.cs`という名前の新しいクラスを追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-200">Next, right-click on the `App_Code` folder and add a new class named `BasePage.cs`.</span></span> <span data-ttu-id="743db-201">図4は、`App_Code` フォルダーと `BasePage.cs` クラスが追加された後のソリューションエクスプローラーを示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-201">Figure 4 shows the Solution Explorer after the `App_Code` folder and `BasePage.cs` class have been added.</span></span>

![App_Code フォルダーと、BasePage という名前のクラスを追加します。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image4.png)

<span data-ttu-id="743db-203">**図 04**: `App_Code` フォルダーと `BasePage` という名前のクラスを追加する</span><span class="sxs-lookup"><span data-stu-id="743db-203">**Figure 04**: Add an `App_Code` Folder and a Class Named `BasePage`</span></span>

> [!NOTE]
> <span data-ttu-id="743db-204">Visual Studio では、2つのプロジェクト管理モード (Web サイトプロジェクトと Web アプリケーションプロジェクト) がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="743db-204">Visual Studio supports two modes of project management: Web Site Projects and Web Application Projects.</span></span> <span data-ttu-id="743db-205">`App_Code` フォルダーは、Web サイトプロジェクトモデルと共に使用するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="743db-205">The `App_Code` folder is designed to be used with the Web Site Project model.</span></span> <span data-ttu-id="743db-206">Web アプリケーションプロジェクトモデルを使用している場合は、`Classes`など、`App_Code`以外の名前のフォルダーに `BasePage.cs` クラスを配置します。</span><span class="sxs-lookup"><span data-stu-id="743db-206">If you are using the Web Application Project model, place the `BasePage.cs` class in a folder named something other than `App_Code`, such as `Classes`.</span></span> <span data-ttu-id="743db-207">このトピックの詳細については、web[サイトプロジェクトの Web アプリケーションプロジェクトへの移行](http://webproject.scottgu.com/CSharp/Migration2/Migration2.aspx)に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="743db-207">For more information on this topic, refer to [Migrating a Web Site Project to a Web Application Project](http://webproject.scottgu.com/CSharp/Migration2/Migration2.aspx).</span></span>

<span data-ttu-id="743db-208">カスタムベースページは、ASP.NET ページの分離コードクラスの基底クラスとして機能するため、`Page` クラスを拡張する必要があります。</span><span class="sxs-lookup"><span data-stu-id="743db-208">Because the custom base page serves as the base class for ASP.NET pages' code-behind classes, it needs to extend the `Page` class.</span></span>

[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample5.cs)]

<span data-ttu-id="743db-209">ASP.NET ページが要求されるたびに、HTML にレンダリングされる要求されたページ内のするの一連のステージに進みます。</span><span class="sxs-lookup"><span data-stu-id="743db-209">Whenever an ASP.NET page is requested it proceeds through a series of stages, culminating in the requested page being rendered into HTML.</span></span> <span data-ttu-id="743db-210">`Page` クラスの `OnEvent` メソッドをオーバーライドすることによって、1つのステージをタップできます。</span><span class="sxs-lookup"><span data-stu-id="743db-210">We can tap into a stage by overriding the `Page` class's `OnEvent` method.</span></span> <span data-ttu-id="743db-211">ベースページについては、`LoadComplete` ステージによって明示的に指定されていない場合は、自動的にタイトルが設定されます (これは、`Load` 段階の後に発生する可能性があります)。</span><span class="sxs-lookup"><span data-stu-id="743db-211">For our base page let's automatically set the title if it has not been explicitly specified by the `LoadComplete` stage (which, as you might have guessed, occurs after the `Load` stage).</span></span>

<span data-ttu-id="743db-212">これを実現するには、`OnLoadComplete` メソッドをオーバーライドし、次のコードを入力します。</span><span class="sxs-lookup"><span data-stu-id="743db-212">To accomplish this, override the `OnLoadComplete` method and enter the following code:</span></span>

[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample6.cs)]

<span data-ttu-id="743db-213">`OnLoadComplete` メソッドは、`Title` プロパティが明示的に設定されていないかどうかを判断することから始まります。</span><span class="sxs-lookup"><span data-stu-id="743db-213">The `OnLoadComplete` method starts by determining if the `Title` property has not yet been explicitly set.</span></span> <span data-ttu-id="743db-214">`Title` プロパティが `null`、空の文字列、または値が "無題のページ" の場合は、要求された ASP.NET ページのファイル名に割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="743db-214">If the `Title` property is `null`, an empty string, or has the value "Untitled Page", it is assigned to the filename of the requested ASP.NET page.</span></span> <span data-ttu-id="743db-215">要求された ASP.NET `C:\MySites\Tutorial03\Login.aspx`ページへの物理パス (たとえば、) は `Request.PhysicalPath` プロパティを使用してアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="743db-215">The physical path to the requested ASP.NET page - `C:\MySites\Tutorial03\Login.aspx`, for example - is accessible via the `Request.PhysicalPath` property.</span></span> <span data-ttu-id="743db-216">`Path.GetFileNameWithoutExtension` メソッドを使用して、ファイル名の部分のみを取得し、このファイル名を `Page.Title` プロパティに割り当てます。</span><span class="sxs-lookup"><span data-stu-id="743db-216">The `Path.GetFileNameWithoutExtension` method is used to pull out just the filename portion, and this filename is then assigned to the `Page.Title` property.</span></span>

> [!NOTE]
> <span data-ttu-id="743db-217">タイトルの形式を改善するために、このロジックを強化することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="743db-217">I invite you to enhance this logic to improve the format of the title.</span></span> <span data-ttu-id="743db-218">たとえば、ページのファイル名が `Company-Products.aspx`場合、上記のコードでは "Company-Products" というタイトルが生成されますが、"会社の製品" のように、ダッシュはスペースで置き換えられるのが理想的です。</span><span class="sxs-lookup"><span data-stu-id="743db-218">For example, if the page's filename is `Company-Products.aspx`, the above code will produce the title "Company-Products", but ideally the dash would be replaced with a space, as in "Company Products".</span></span> <span data-ttu-id="743db-219">また、大文字小文字の変更がある場合は必ずスペースを追加することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="743db-219">Also, consider adding a space whenever there's a case change.</span></span> <span data-ttu-id="743db-220">つまり、ファイル名 `OurBusinessHours.aspx` を "当社の勤務時間" のタイトルに変換するコードを追加することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="743db-220">That is, consider adding code that transforms the filename `OurBusinessHours.aspx` to a title of "Our Business Hours".</span></span>

### <a name="having-the-content-pages-inherit-the-base-page-class"></a><span data-ttu-id="743db-221">コンテンツページが基本ページクラスを継承するようにする</span><span class="sxs-lookup"><span data-stu-id="743db-221">Having the Content Pages Inherit the Base Page Class</span></span>

<span data-ttu-id="743db-222">ここでは、`Page` クラスではなく、カスタムベースページ (`BasePage`) から派生するようにサイトの ASP.NET ページを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="743db-222">We now need to update the ASP.NET pages in our site to derive from the custom base page (`BasePage`) instead of the `Page` class.</span></span> <span data-ttu-id="743db-223">これを実現するには、各分離コードクラスに移動し、クラス宣言を次のように変更します。</span><span class="sxs-lookup"><span data-stu-id="743db-223">To accomplish this go to each code-behind class and change the class declaration from:</span></span>

[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample7.cs)]

<span data-ttu-id="743db-224">宛先:</span><span class="sxs-lookup"><span data-stu-id="743db-224">To:</span></span>

[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample8.cs)]

<span data-ttu-id="743db-225">その後、ブラウザーを使用してサイトにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="743db-225">After doing so, visit the site through a browser.</span></span> <span data-ttu-id="743db-226">`Default.aspx` や `About.aspx`など、タイトルが明示的に設定されているページにアクセスすると、明示的に指定されたタイトルが使用されます。</span><span class="sxs-lookup"><span data-stu-id="743db-226">If you visit a page whose title is explicitly set, such as `Default.aspx` or `About.aspx`, the explicitly specified title is used.</span></span> <span data-ttu-id="743db-227">ただし、タイトルが既定値 ("無題のページ") から変更されていないページにアクセスする場合、ベースページクラスはタイトルをページのファイル名に設定します。</span><span class="sxs-lookup"><span data-stu-id="743db-227">If, however, you visit a page whose title has not been changed from the default ("Untitled Page"), the base page class sets the title to the page's filename.</span></span>

<span data-ttu-id="743db-228">図5は、ブラウザーを使用して表示するときの `MultipleContentPlaceHolders.aspx` ページを示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-228">Figure 5 shows the `MultipleContentPlaceHolders.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="743db-229">タイトルは、厳密にはページのファイル名 (拡張子が小さい) "MultipleContentPlaceHolders" であることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="743db-229">Note that the title is precisely the page's filename (less the extension), "MultipleContentPlaceHolders".</span></span>

<span data-ttu-id="743db-230">[![タイトルが明示的に指定されていない場合は、ページのファイル名が自動的に使用されます。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image6.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="743db-230">[![If a Title is Not Explicitly Specified, the Page's Filename is Automatically Used](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image6.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image5.png)</span></span>

<span data-ttu-id="743db-231">**図 05**: タイトルが明示的に指定されていない場合は、ページのファイル名が自動的に使用されます ([クリックすると、フルサイズの画像が表示](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image7.png)されます)</span><span class="sxs-lookup"><span data-stu-id="743db-231">**Figure 05**: If a Title is Not Explicitly Specified, the Page's Filename is Automatically Used  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image7.png))</span></span>

## <a name="step-3-basing-the-page-title-on-the-site-map"></a><span data-ttu-id="743db-232">手順 3: サイトマップのページタイトルを基にする</span><span class="sxs-lookup"><span data-stu-id="743db-232">Step 3: Basing the Page Title on the Site Map</span></span>

<span data-ttu-id="743db-233">ASP.NET には、サイトマップに関する情報を表示するための Web コントロールと共に、ページ開発者が外部リソース (XML ファイルやデータベーステーブルなど) で階層サイトマップを定義できるようにする、堅牢なサイトマップフレームワークが用意されています (SiteMapPath など)。メニューと TreeView コントロール)。</span><span class="sxs-lookup"><span data-stu-id="743db-233">ASP.NET offers a robust site map framework that enables page developers to define a hierarchical site map in an external resource (such as an XML file or database table) along with Web controls for displaying information about the site map (such as the SiteMapPath, Menu, and TreeView controls).</span></span>

<span data-ttu-id="743db-234">サイトマップ構造には、ASP.NET ページの分離コードクラスからプログラムからアクセスすることもできます。</span><span class="sxs-lookup"><span data-stu-id="743db-234">The site map structure can also be accessed programmatically from an ASP.NET page's code-behind class.</span></span> <span data-ttu-id="743db-235">この方法では、サイトマップ内の対応するノードのタイトルにページのタイトルを自動的に設定できます。</span><span class="sxs-lookup"><span data-stu-id="743db-235">In this manner we can automatically set a page's title to the title of its corresponding node in the site map.</span></span> <span data-ttu-id="743db-236">手順 2. で作成した `BasePage` クラスを拡張して、この機能を提供できるようにしましょう。</span><span class="sxs-lookup"><span data-stu-id="743db-236">Let's enhance the `BasePage` class created in Step 2 so that it offers this functionality.</span></span> <span data-ttu-id="743db-237">ただし、まず、サイトのサイトマップを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="743db-237">But first we need to create a site map for our site.</span></span>

> [!NOTE]
> <span data-ttu-id="743db-238">このチュートリアルでは、読者が既に ASP に精通していることを前提としています。NET のサイトマップ機能。</span><span class="sxs-lookup"><span data-stu-id="743db-238">This tutorial assumes the reader already is familiar with ASP.NET's site map features.</span></span> <span data-ttu-id="743db-239">サイトマップの使用方法の詳細については、「マルチパート」を参照してください[。NET のサイトナビゲーション](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)。</span><span class="sxs-lookup"><span data-stu-id="743db-239">For more information on using the site map, consult my multi-part article series, [Examining ASP.NET's Site Navigation](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx).</span></span>

### <a name="creating-the-site-map"></a><span data-ttu-id="743db-240">サイトマップの作成</span><span class="sxs-lookup"><span data-stu-id="743db-240">Creating the Site Map</span></span>

<span data-ttu-id="743db-241">サイトマップシステムは、[プロバイダーモデル](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)の上に構築されます。これにより、サイトマップ API は、メモリと永続ストアの間でサイトマップ情報をシリアル化するロジックから切り離されます。</span><span class="sxs-lookup"><span data-stu-id="743db-241">The site map system is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which decouples the site map API from the logic that serializes site map information between memory and a persistent store.</span></span> <span data-ttu-id="743db-242">.NET Framework には、既定のサイトマッププロバイダーである[`XmlSiteMapProvider` クラス](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx)が付属しています。</span><span class="sxs-lookup"><span data-stu-id="743db-242">The .NET Framework ships with the [`XmlSiteMapProvider` class](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx), which is the default site map provider.</span></span> <span data-ttu-id="743db-243">その名前が示すように、`XmlSiteMapProvider` は、サイトマップストアとして XML ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="743db-243">As its name implies, `XmlSiteMapProvider` uses an XML file as its site map store.</span></span> <span data-ttu-id="743db-244">このプロバイダーを使用して、サイトマップを定義してみましょう。</span><span class="sxs-lookup"><span data-stu-id="743db-244">Let's use this provider for defining our site map.</span></span>

<span data-ttu-id="743db-245">まず、`Web.sitemap`という名前の web サイトのルートフォルダーにサイトマップファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="743db-245">Start by creating a site map file in the website's root folder named `Web.sitemap`.</span></span> <span data-ttu-id="743db-246">これを行うには、ソリューションエクスプローラーで web サイト名を右クリックし、[新しい項目の追加] を選択して、[サイトマップ] テンプレートを選択します。</span><span class="sxs-lookup"><span data-stu-id="743db-246">To accomplish this, right-click on the website name in Solution Explorer, choose Add New Item, and select the Site Map template.</span></span> <span data-ttu-id="743db-247">ファイルの名前が `Web.sitemap` であることを確認し、[追加] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="743db-247">Ensure that the file is named `Web.sitemap` and click Add.</span></span>

<span data-ttu-id="743db-248">[Web サイトのルートフォルダーに、web.sitemap という名前のファイルを追加 ![ます。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image9.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="743db-248">[![Add a File Named Web.sitemap to the Website's Root Folder](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image9.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image8.png)</span></span>

<span data-ttu-id="743db-249">**図 06**: `Web.sitemap` という名前のファイルを web サイトのルートフォルダーに追加する ([クリックすると、フルサイズの画像が表示](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image10.png)されます)</span><span class="sxs-lookup"><span data-stu-id="743db-249">**Figure 06**: Add a File Named `Web.sitemap` to the Website's Root Folder  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image10.png))</span></span>

<span data-ttu-id="743db-250">`Web.sitemap` ファイルに次の XML を追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-250">Add the following XML to the `Web.sitemap` file:</span></span>

[!code-xml[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample9.xml)]

<span data-ttu-id="743db-251">この XML は、図7に示す階層型サイトマップ構造を定義します。</span><span class="sxs-lookup"><span data-stu-id="743db-251">This XML defines the hierarchical site map structure shown in Figure 7.</span></span>

![サイトマップは、現在、3つのサイトマップノードで構成されています。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image11.png)

<span data-ttu-id="743db-253">**図 07**: サイトマップが現在3つのサイトマップノードで構成されている</span><span class="sxs-lookup"><span data-stu-id="743db-253">**Figure 07**: The Site Map is Currently Composed of Three Site Map Nodes</span></span>

<span data-ttu-id="743db-254">新しい例を追加すると、今後のチュートリアルでサイトマップ構造が更新されます。</span><span class="sxs-lookup"><span data-stu-id="743db-254">We will update the site map structure in future tutorials as we add new examples.</span></span>

### <a name="updating-the-master-page-to-include-navigation-web-controls"></a><span data-ttu-id="743db-255">ナビゲーション Web コントロールを含むようにマスターページを更新する</span><span class="sxs-lookup"><span data-stu-id="743db-255">Updating the Master Page to Include Navigation Web Controls</span></span>

<span data-ttu-id="743db-256">サイトマップが定義されたので、ナビゲーション Web コントロールを含むようにマスターページを更新してみましょう。</span><span class="sxs-lookup"><span data-stu-id="743db-256">Now that we have a site map defined, let's update the master page to include navigation Web controls.</span></span> <span data-ttu-id="743db-257">具体的には、「レッスン」セクションの左側の列に ListView コントロールを追加して、サイトマップで定義されている各ノードのリスト項目を含む順序指定されていないリストを表示します。</span><span class="sxs-lookup"><span data-stu-id="743db-257">Specifically, let's add a ListView control to the left column in the Lessons section that renders an unordered list with a list item for each node defined in the site map.</span></span>

> [!NOTE]
> <span data-ttu-id="743db-258">ListView コントロールは、ASP.NET バージョン3.5 の新しいバージョンです。</span><span class="sxs-lookup"><span data-stu-id="743db-258">The ListView control is new to ASP.NET version 3.5.</span></span> <span data-ttu-id="743db-259">以前のバージョンの ASP.NET を使用している場合は、代わりに Repeater コントロールを使用します。</span><span class="sxs-lookup"><span data-stu-id="743db-259">If you are using a prior version of ASP.NET, use the Repeater control instead.</span></span> <span data-ttu-id="743db-260">ListView コントロールの詳細については、「 [ASP.NET 3.5 の Listview コントロールと DataPager コントロールの使用](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="743db-260">For more information on the ListView control, see [Using ASP.NET 3.5's ListView and DataPager Controls](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx).</span></span>

<span data-ttu-id="743db-261">まず、レッスンセクションから、既存の順序付けられていないリストのマークアップを削除します。</span><span class="sxs-lookup"><span data-stu-id="743db-261">Start by removing the existing unordered list markup from the Lessons section.</span></span> <span data-ttu-id="743db-262">次に、ツールボックスから ListView コントロールをドラッグし、レッスンの見出しの下にドロップします。</span><span class="sxs-lookup"><span data-stu-id="743db-262">Next, drag a ListView control from the Toolbox and drop it beneath the Lessons heading.</span></span> <span data-ttu-id="743db-263">ListView は、ツールボックスの [データ] セクションにあります。他のビューコントロール (GridView、DetailsView、FormView) と共に表示されます。</span><span class="sxs-lookup"><span data-stu-id="743db-263">The ListView is located in the Data section of the Toolbox, alongside the other view controls: the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="743db-264">ListView の ID プロパティを `LessonsList`に設定します。</span><span class="sxs-lookup"><span data-stu-id="743db-264">Set the ListView's ID property to `LessonsList`.</span></span>

<span data-ttu-id="743db-265">データソース構成ウィザードで、`LessonsDataSource`という名前の新しい SiteMapDataSource コントロールに ListView をバインドします。</span><span class="sxs-lookup"><span data-stu-id="743db-265">From the Data Source Configuration Wizard choose to bind the ListView to a new SiteMapDataSource control named `LessonsDataSource`.</span></span> <span data-ttu-id="743db-266">SiteMapDataSource コントロールは、サイトマップシステムから階層構造を返します。</span><span class="sxs-lookup"><span data-stu-id="743db-266">The SiteMapDataSource control returns the hierarchical structure from the site map system.</span></span>

<span data-ttu-id="743db-267">[SiteMapDataSource コントロールをない On ListView コントロールにバインドするには ![](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image13.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="743db-267">[![Bind a SiteMapDataSource Control to the LessonsList ListView Control](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image13.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image12.png)</span></span>

<span data-ttu-id="743db-268">**図 08**: SiteMapDataSource コントロールを `LessonsList` ListView コントロールにバインドする ([クリックしてフルサイズのイメージを表示する](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="743db-268">**Figure 08**: Bind a SiteMapDataSource Control to the `LessonsList` ListView Control  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image14.png))</span></span>

<span data-ttu-id="743db-269">SiteMapDataSource コントロールを作成したら、ListView のテンプレートを定義して、SiteMapDataSource コントロールによって返される各ノードのリスト項目を含む順序指定されていないリストをレンダリングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="743db-269">After creating the SiteMapDataSource control, we need to define the ListView's templates so that it renders an unordered list with a list item for each node returned by the SiteMapDataSource control.</span></span> <span data-ttu-id="743db-270">これは、次のテンプレートマークアップを使用して実現できます。</span><span class="sxs-lookup"><span data-stu-id="743db-270">This can be accomplished using the following template markup:</span></span>

[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample10.aspx)]

<span data-ttu-id="743db-271">`LayoutTemplate` は、順序付けられていないリスト (`<ul>...</ul>`) のマークアップを生成します。一方、`ItemTemplate` は、特定のレッスンへのリンクを含むリスト項目 (`<li>`) として、SiteMapDataSource によって返される各項目をレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="743db-271">The `LayoutTemplate` generates the markup for an unordered list (`<ul>...</ul>`) while the `ItemTemplate` renders each item returned by the SiteMapDataSource as a list item (`<li>`) that contains a link to the particular lesson.</span></span>

<span data-ttu-id="743db-272">ListView のテンプレートを構成したら、web サイトにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="743db-272">After configuring the ListView's templates, visit the website.</span></span> <span data-ttu-id="743db-273">図9に示すように、レッスンのセクションには、1つの箇条書き項目である [ホーム] が含まれています。</span><span class="sxs-lookup"><span data-stu-id="743db-273">As Figure 9 shows, the Lessons section contains a single bulleted item, Home.</span></span> <span data-ttu-id="743db-274">ContentPlaceHolder コントロールの概要と使用方法に関するレッスンはどこにありますか。</span><span class="sxs-lookup"><span data-stu-id="743db-274">Where are the About and Using Multiple ContentPlaceHolder Controls lessons?</span></span> <span data-ttu-id="743db-275">SiteMapDataSource は、階層構造のデータを返すように設計されていますが、ListView コントロールは階層の1つのレベルのみを表示できます。</span><span class="sxs-lookup"><span data-stu-id="743db-275">The SiteMapDataSource is designed to return a hierarchical set of data, but the ListView control can only display a single level of the hierarchy.</span></span> <span data-ttu-id="743db-276">その結果、SiteMapDataSource によって返されるサイトマップノードの最初のレベルのみが表示されます。</span><span class="sxs-lookup"><span data-stu-id="743db-276">Consequently, only the first level of site map nodes returned by the SiteMapDataSource is displayed.</span></span>

<span data-ttu-id="743db-277">[レッスンセクションに1つのリスト項目が含まれて ![](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image16.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="743db-277">[![The Lessons Section Contains a Single List Item](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image16.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image15.png)</span></span>

<span data-ttu-id="743db-278">**図 09**: レッスンセクションに1つのリスト項目が含まれている ([クリックしてフルサイズの画像を表示する](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="743db-278">**Figure 09**: The Lessons Section Contains a Single List Item  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image17.png))</span></span>

<span data-ttu-id="743db-279">複数のレベルを表示するには、`ItemTemplate`内に複数の ListViews を入れ子にすることができます。</span><span class="sxs-lookup"><span data-stu-id="743db-279">To display multiple levels we could nest multiple ListViews within the `ItemTemplate`.</span></span> <span data-ttu-id="743db-280">この手法は、「[データチュートリアルシリーズの使用](../../data-access/index.md)」の「 [*マスターページとサイトナビゲーション*のチュートリアル](../../data-access/introduction/master-pages-and-site-navigation-cs.md)」で確認しました。</span><span class="sxs-lookup"><span data-stu-id="743db-280">This technique was examined in the [*Master Pages and Site Navigation* tutorial](../../data-access/introduction/master-pages-and-site-navigation-cs.md) of my [Working with Data tutorial series](../../data-access/index.md).</span></span> <span data-ttu-id="743db-281">ただし、このチュートリアルシリーズのサイトマップには、ホーム (最上位レベル) の2つのレベルのみが含まれます。そして、各レッスンはホームの子としてのものです。</span><span class="sxs-lookup"><span data-stu-id="743db-281">However, for this tutorial series our site map will contain just a two levels: Home (the top level); and each lesson as a child of Home.</span></span> <span data-ttu-id="743db-282">入れ子になった ListView を構築するのではなく、その[`ShowStartingNode` プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemapdatasource.showstartingnode.aspx)を `false`に設定して、開始ノードを返さないように SiteMapDataSource に指示することができます。</span><span class="sxs-lookup"><span data-stu-id="743db-282">Rather than crafting a nested ListView, we can instead instruct the SiteMapDataSource to not return the starting node by setting its [`ShowStartingNode` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemapdatasource.showstartingnode.aspx) to `false`.</span></span> <span data-ttu-id="743db-283">実質的には、SiteMapDataSource は、サイトマップノードの第2層を返すことによって開始されます。</span><span class="sxs-lookup"><span data-stu-id="743db-283">The net effect is that the SiteMapDataSource starts by returning the second tier of site map nodes.</span></span>

<span data-ttu-id="743db-284">この変更により、ListView は、About and Using Multiple ContentPlaceHolder Controls レッスンの箇条書き項目を表示しますが、Home の箇条書き項目を省略します。</span><span class="sxs-lookup"><span data-stu-id="743db-284">With this change, the ListView displays bullet items for the About and Using Multiple ContentPlaceHolder Controls lessons, but omits a bullet item for Home.</span></span> <span data-ttu-id="743db-285">これを解決するには、`LayoutTemplate`に Home の箇条書き項目を明示的に追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-285">To remedy this, we can explicitly add a bullet item for Home in the `LayoutTemplate`:</span></span>

[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample11.aspx)]

<span data-ttu-id="743db-286">開始ノードを省略し、Home 箇条書き項目を明示的に追加するように SiteMapDataSource を構成すると、レッスンのセクションには、意図した出力が表示されます。</span><span class="sxs-lookup"><span data-stu-id="743db-286">By configuring the SiteMapDataSource to omit the starting node and explicitly adding a Home bullet item, the Lessons section now displays the intended output.</span></span>

<span data-ttu-id="743db-287">[レッスンセクションに ![ホームと各子ノードの箇条書き項目が表示されます。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image19.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="743db-287">[![The Lessons Section Contains a Bullet Item for Home and Each Child Node](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image19.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image18.png)</span></span>

<span data-ttu-id="743db-288">**図 10**: レッスンのセクションには、ホームノードと各子ノードの箇条書き項目が含まれています ([クリックすると、フルサイズの画像が表示](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image20.png)されます)</span><span class="sxs-lookup"><span data-stu-id="743db-288">**Figure 10**: The Lessons Section Contains a Bullet Item for Home and Each Child Node  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image20.png))</span></span>

### <a name="setting-the-title-based-on-the-site-map"></a><span data-ttu-id="743db-289">サイトマップに基づいてタイトルを設定する</span><span class="sxs-lookup"><span data-stu-id="743db-289">Setting the Title Based on the Site Map</span></span>

<span data-ttu-id="743db-290">サイトマップを使用して、`BasePage` クラスを更新して、サイトマップで指定されたタイトルを使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="743db-290">With the site map in place, we can update our `BasePage` class to use the title specified in the site map.</span></span> <span data-ttu-id="743db-291">手順2で行ったように、ページのタイトルがページの開発者によって明示的に設定されていない場合のみ、サイトマップノードのタイトルを使用します。</span><span class="sxs-lookup"><span data-stu-id="743db-291">As we did in Step 2, we only want to use the site map node's title if the page's title has not been explicitly set by the page developer.</span></span> <span data-ttu-id="743db-292">要求されているページに明示的に設定されたページタイトルがなく、サイトマップにも見つからない場合は、手順2で行ったように、要求されたページのファイル名 (拡張子の少ない方) を使用するようにフォールバックします。</span><span class="sxs-lookup"><span data-stu-id="743db-292">If the page being requested does not have an explicitly set page title and is not found in the site map, then we'll fall back to using the requested page's filename (less the extension), as we did in Step 2.</span></span> <span data-ttu-id="743db-293">図11は、この決定プロセスを示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-293">Figure 11 illustrates this decision process.</span></span>

![ページタイトルが明示的に設定されていない場合は、対応するサイトマップノードのタイトルが使用されます。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image21.png)

<span data-ttu-id="743db-295">**図 11**: ページタイトルが明示的に設定されていない場合は、対応するサイトマップノードのタイトルが使用されます。</span><span class="sxs-lookup"><span data-stu-id="743db-295">**Figure 11**: In the Absence of an Explicitly Set Page Title, the Corresponding Site Map Node's Title is Used</span></span>

<span data-ttu-id="743db-296">`BasePage` クラスの `OnLoadComplete` メソッドを更新して、次のコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-296">Update the `BasePage` class's `OnLoadComplete` method to include the following code:</span></span>

[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample12.cs)]

<span data-ttu-id="743db-297">前と同様に、`OnLoadComplete` メソッドは、ページのタイトルが明示的に設定されているかどうかを判断することから始まります。</span><span class="sxs-lookup"><span data-stu-id="743db-297">As before, the `OnLoadComplete` method starts by determining whether the page's title has been explicitly set.</span></span> <span data-ttu-id="743db-298">`Page.Title` が `null`、空の文字列、または値 "無題のページ" が割り当てられている場合、コードは `Page.Title`に自動的に値を割り当てます。</span><span class="sxs-lookup"><span data-stu-id="743db-298">If `Page.Title` is `null`, an empty string, or is assigned the value "Untitled Page" then the code automatically assigns a value to `Page.Title`.</span></span>

<span data-ttu-id="743db-299">使用するタイトルを決定するために、コードは、 [`SiteMap` クラス](https://msdn.microsoft.com/library/system.web.sitemap.aspx)の[`CurrentNode` プロパティ](https://msdn.microsoft.com/library/system.web.sitemap.currentnode.aspx)を参照することによって開始されます。</span><span class="sxs-lookup"><span data-stu-id="743db-299">To determine the title to use, the code starts by referencing the [`SiteMap` class](https://msdn.microsoft.com/library/system.web.sitemap.aspx)'s [`CurrentNode` property](https://msdn.microsoft.com/library/system.web.sitemap.currentnode.aspx).</span></span> <span data-ttu-id="743db-300">`CurrentNode` は、現在要求されているページに対応するサイトマップ内の[`SiteMapNode`](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx)インスタンスを返します。</span><span class="sxs-lookup"><span data-stu-id="743db-300">`CurrentNode` returns the [`SiteMapNode`](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) instance in the site map that corresponds to the currently requested page.</span></span> <span data-ttu-id="743db-301">現在要求されているページがサイトマップ内に見つかった場合、`SiteMapNode`の `Title` プロパティがページのタイトルに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="743db-301">Assuming the currently requested page is found within the site map, the `SiteMapNode`'s `Title` property is assigned to the page's title.</span></span> <span data-ttu-id="743db-302">現在要求されているページがサイトマップに含まれていない場合、`CurrentNode` は `null` を返し、要求されたページのファイル名がタイトルとして使用されます (手順 2. で行ったとおり)。</span><span class="sxs-lookup"><span data-stu-id="743db-302">If the currently requested page is not in the site map, `CurrentNode` returns `null` and the requested page's filename is used as the title (as was done in Step 2).</span></span>

<span data-ttu-id="743db-303">図12は、ブラウザーを使用して表示するときの `MultipleContentPlaceHolders.aspx` ページを示しています。</span><span class="sxs-lookup"><span data-stu-id="743db-303">Figure 12 shows the `MultipleContentPlaceHolders.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="743db-304">このページのタイトルは明示的に設定されていないため、代わりに対応するサイトマップノードのタイトルが使用されます。</span><span class="sxs-lookup"><span data-stu-id="743db-304">Because this page's title is not explicitly set, its corresponding site map node's title is used instead.</span></span>

![MultipleContentPlaceHolders ページのタイトルがサイトマップからプルされます。](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image22.png)

<span data-ttu-id="743db-306">**図 12**: `MultipleContentPlaceHolders.aspx` ページのタイトルがサイトマップからプルされる</span><span class="sxs-lookup"><span data-stu-id="743db-306">**Figure 12**: The `MultipleContentPlaceHolders.aspx` Page's Title is Pulled from the Site Map</span></span>

## <a name="step-4-adding-other-page-specific-markup-to-theheadsection"></a><span data-ttu-id="743db-307">手順 4:`<head>`セクションにページ固有のその他のマークアップを追加する</span><span class="sxs-lookup"><span data-stu-id="743db-307">Step 4: Adding Other Page-Specific Markup to the`<head>`Section</span></span>

<span data-ttu-id="743db-308">手順1、2、および3では、ページごとに `<title>` 要素をカスタマイズする方法を見てきました。</span><span class="sxs-lookup"><span data-stu-id="743db-308">Steps 1, 2, and 3 looked at customizing the `<title>` element on a page-by-page basis.</span></span> <span data-ttu-id="743db-309">`<title>`に加えて、`<head>` セクションには `<meta>` 要素と `<link>` 要素が含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="743db-309">In addition to `<title>`, the `<head>` section may contain `<meta>` elements and `<link>` elements.</span></span> <span data-ttu-id="743db-310">このチュートリアルで既に説明したように、`Site.master`の `<head>` セクションには `Styles.css`する `<link>` 要素が含まれています。</span><span class="sxs-lookup"><span data-stu-id="743db-310">As noted earlier in this tutorial, `Site.master`'s `<head>` section includes a `<link>` element to `Styles.css`.</span></span> <span data-ttu-id="743db-311">この `<link>` 要素はマスターページ内で定義されているため、すべてのコンテンツページの `<head>` セクションに含まれています。</span><span class="sxs-lookup"><span data-stu-id="743db-311">Because this `<link>` element is defined within the master page, it is included in the `<head>` section for all content pages.</span></span> <span data-ttu-id="743db-312">しかし、`<meta>` と `<link>` の要素をページごとに追加するにはどうすればよいでしょうか。</span><span class="sxs-lookup"><span data-stu-id="743db-312">But how do we go about adding `<meta>` and `<link>` elements on a page-by-page basis?</span></span>

<span data-ttu-id="743db-313">`<head>` セクションにページ固有のコンテンツを追加する最も簡単な方法は、マスターページで ContentPlaceHolder コントロールを作成することです。</span><span class="sxs-lookup"><span data-stu-id="743db-313">The easiest way to add page-specific content to the `<head>` section is by creating a ContentPlaceHolder control in the master page.</span></span> <span data-ttu-id="743db-314">このような ContentPlaceHolder (名前は `head`) が既にあります。</span><span class="sxs-lookup"><span data-stu-id="743db-314">We already have such a ContentPlaceHolder (named `head`).</span></span> <span data-ttu-id="743db-315">したがって、カスタム `<head>` マークアップを追加するには、対応するコンテンツコントロールをページに作成し、そこにマークアップを配置します。</span><span class="sxs-lookup"><span data-stu-id="743db-315">Therefore, to add custom `<head>` markup, create a corresponding Content control in the page and place the markup there.</span></span>

<span data-ttu-id="743db-316">カスタム `<head>` マークアップをページに追加する方法を示すために、現在のコンテンツページのセットに `<meta>` description 要素を含めてみましょう。</span><span class="sxs-lookup"><span data-stu-id="743db-316">To illustrate adding custom `<head>` markup to a page, let's include a `<meta>` description element to our current set of content pages.</span></span> <span data-ttu-id="743db-317">`<meta>` description 要素は、web ページについての簡単な説明を提供します。ほとんどの検索エンジンでは、検索結果を表示するときに、この情報が何らかの形で組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="743db-317">The `<meta>` description element provides a brief description about the web page; most search engines incorporate this information in some form when displaying search results.</span></span>

<span data-ttu-id="743db-318">`<meta>` description 要素には、次の形式があります。</span><span class="sxs-lookup"><span data-stu-id="743db-318">A `<meta>` description element has the following form:</span></span>

[!code-html[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample13.html)]

<span data-ttu-id="743db-319">このマークアップをコンテンツページに追加するには、マスターページの head ContentPlaceHolder にマップされているコンテンツコントロールに上記のテキストを追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-319">To add this markup to a content page, add the above text to the Content control that maps to the master page's head ContentPlaceHolder.</span></span> <span data-ttu-id="743db-320">たとえば、`Default.aspx`の `<meta>` description 要素を定義するには、次のマークアップを追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-320">For example, to define a `<meta>` description element for `Default.aspx`, add the following markup:</span></span>

[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample14.aspx)]

<span data-ttu-id="743db-321">Head ContentPlaceHolder は HTML ページの本文に含まれていないため、コンテンツコントロールに追加されたマークアップはデザインビューに表示されません。</span><span class="sxs-lookup"><span data-stu-id="743db-321">Because the head ContentPlaceHolder is not within the HTML page's body, the markup added to the Content control is not displayed in the Design view.</span></span> <span data-ttu-id="743db-322">`<meta>` description 要素を表示するには、ブラウザーを使用して `Default.aspx` にアクセスします。</span><span class="sxs-lookup"><span data-stu-id="743db-322">To see the `<meta>` description element visit `Default.aspx` through a browser.</span></span> <span data-ttu-id="743db-323">ページが読み込まれたら、ソースを表示し、[`<head>`] セクションに、コンテンツコントロールで指定されたマークアップが含まれていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="743db-323">After the page has been loaded, view the source and note that the `<head>` section includes the markup specified in the Content control.</span></span>

<span data-ttu-id="743db-324">`About.aspx`、`MultipleContentPlaceHolders.aspx`、および `Login.aspx`に `<meta>` description 要素を追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-324">Take a moment to add `<meta>` description elements to `About.aspx`, `MultipleContentPlaceHolders.aspx`, and `Login.aspx`.</span></span>

### <a name="programmatically-adding-markup-to-theheadregion"></a><span data-ttu-id="743db-325">プログラムによって`<head>`領域にマークアップを追加する</span><span class="sxs-lookup"><span data-stu-id="743db-325">Programmatically Adding Markup to the`<head>`Region</span></span>

<span data-ttu-id="743db-326">Head ContentPlaceHolder を使用すると、マスターページの `<head>` 領域にカスタムマークアップを宣言によって追加できます。</span><span class="sxs-lookup"><span data-stu-id="743db-326">The head ContentPlaceHolder allows us to declaratively add custom markup to the master page's `<head>` region.</span></span> <span data-ttu-id="743db-327">カスタムマークアップは、プログラムで追加することもできます。</span><span class="sxs-lookup"><span data-stu-id="743db-327">Custom markup may also be added programmatically.</span></span> <span data-ttu-id="743db-328">`Page` クラスの `Header` プロパティによって、マスターページ (`<head runat="server">`) で定義されている `HtmlHead` インスタンスが返されることを思い出してください。</span><span class="sxs-lookup"><span data-stu-id="743db-328">Recall that the `Page` class's `Header` property returns the `HtmlHead` instance defined in the master page (the `<head runat="server">`).</span></span>

<span data-ttu-id="743db-329">`<head>` 領域にプログラムでコンテンツを追加できることは、追加するコンテンツが動的である場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="743db-329">Being able to programmatically add content to the `<head>` region is useful when the content to add is dynamic.</span></span> <span data-ttu-id="743db-330">たとえば、ページにアクセスしているユーザーに基づいています。データベースからプルされている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="743db-330">Perhaps it's based on the user visiting the page; maybe it's being pulled from a database.</span></span> <span data-ttu-id="743db-331">その理由にかかわらず、次のようにコントロールをコントロールコレクションに追加することで、`HtmlHead` にコンテンツを追加できます。</span><span class="sxs-lookup"><span data-stu-id="743db-331">Regardless of the reason, you can add content to the `HtmlHead` by adding controls to its Controls collection like so:</span></span>

[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample15.cs)]

<span data-ttu-id="743db-332">上のコードでは、`<head>` 領域に `<meta>` keywords 要素を追加しています。これにより、ページを説明するキーワードのコンマ区切りリストが提供されます。</span><span class="sxs-lookup"><span data-stu-id="743db-332">The above code adds the `<meta>` keywords element to the `<head>` region, which provides a comma-delimited list of keywords that describe the page.</span></span> <span data-ttu-id="743db-333">`<meta>` タグを追加するには、 [`HtmlMeta`](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlmeta.aspx)インスタンスを作成し、その `Name` と `Content` プロパティを設定して、`Header`の `Controls` コレクションに追加することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="743db-333">Note that to add a `<meta>` tag you create an [`HtmlMeta`](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlmeta.aspx) instance, set its `Name` and `Content` properties, and then add it to the `Header`'s `Controls` collection.</span></span> <span data-ttu-id="743db-334">同様に、プログラムによって `<link>` 要素を追加するには、 [`HtmlLink`](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmllink.aspx)オブジェクトを作成し、そのプロパティを設定して、`Header`の `Controls` コレクションに追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-334">Similarly, to programmatically add a `<link>` element, create an [`HtmlLink`](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmllink.aspx) object, set its properties, and then add it to the `Header`'s `Controls` collection.</span></span>

> [!NOTE]
> <span data-ttu-id="743db-335">任意のマークアップを追加するには、 [`LiteralControl`](https://msdn.microsoft.com/library/system.web.ui.literalcontrol.aspx)インスタンスを作成し、その `Text` プロパティを設定して、`Header`の `Controls` コレクションに追加します。</span><span class="sxs-lookup"><span data-stu-id="743db-335">To add arbitrary markup, create a [`LiteralControl`](https://msdn.microsoft.com/library/system.web.ui.literalcontrol.aspx) instance, set its `Text` property, and then add it to the `Header`'s `Controls` collection.</span></span>

## <a name="summary"></a><span data-ttu-id="743db-336">要約</span><span class="sxs-lookup"><span data-stu-id="743db-336">Summary</span></span>

<span data-ttu-id="743db-337">このチュートリアルでは、`<head>` 領域のマークアップをページ単位で追加するさまざまな方法を見てきました。</span><span class="sxs-lookup"><span data-stu-id="743db-337">In this tutorial we looked at a variety of ways to add `<head>` region markup on a page-by-page basis.</span></span> <span data-ttu-id="743db-338">マスターページには、ContentPlaceHolder を含む `HtmlHead` インスタンス (`<head runat="server">`) が含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="743db-338">A master page should include an `HtmlHead` instance (`<head runat="server">`) with a ContentPlaceHolder.</span></span> <span data-ttu-id="743db-339">`HtmlHead` インスタンスを使用すると、コンテンツページは、プログラムによって `<head>` 領域にアクセスしたり、ページのタイトルを宣言およびプログラムによって設定したりできます。ContentPlaceHolder コントロールを使用すると、カスタムマークアップをコンテンツコントロールを使用して宣言によって `<head>` セクションに追加できます。</span><span class="sxs-lookup"><span data-stu-id="743db-339">The `HtmlHead` instance allows content pages to programmatically access the `<head>` region and to declaratively and programmatically set the page's title; the ContentPlaceHolder control enables custom markup to be added to the `<head>` section declaratively through a Content control.</span></span>

<span data-ttu-id="743db-340">プログラミングを楽しんでください。</span><span class="sxs-lookup"><span data-stu-id="743db-340">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="743db-341">関連項目</span><span class="sxs-lookup"><span data-stu-id="743db-341">Further Reading</span></span>

<span data-ttu-id="743db-342">このチュートリアルで説明しているトピックの詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="743db-342">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="743db-343">ASP.NET でページのタイトルを動的に設定する</span><span class="sxs-lookup"><span data-stu-id="743db-343">Dynamically Setting the Page's Title in ASP.NET</span></span>](http://aspnet.4guysfromrolla.com/articles/051006-1.aspx)
- [<span data-ttu-id="743db-344">ASP を調べています。NET のサイトナビゲーション</span><span class="sxs-lookup"><span data-stu-id="743db-344">Examining ASP.NET's Site Navigation</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)
- [<span data-ttu-id="743db-345">HTML メタタグの使用方法</span><span class="sxs-lookup"><span data-stu-id="743db-345">How To Use HTML Meta Tags</span></span>](http://searchenginewatch.com/showPage.html?page=2167931)
- [<span data-ttu-id="743db-346">ASP.NET のマスターページ</span><span class="sxs-lookup"><span data-stu-id="743db-346">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/articles/419.aspx)
- [<span data-ttu-id="743db-347">ASP.NET 3.5 の ListView コントロールと DataPager コントロールの使用</span><span class="sxs-lookup"><span data-stu-id="743db-347">Using ASP.NET 3.5's ListView and DataPager Controls</span></span>](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx)
- [<span data-ttu-id="743db-348">ASP.NET ページの分離コードクラスにカスタム基本クラスを使用する</span><span class="sxs-lookup"><span data-stu-id="743db-348">Using a Custom Base Class for Your ASP.NET Pages' Code-Behind Classes</span></span>](http://aspnet.4guysfromrolla.com/articles/041305-1.aspx)

### <a name="about-the-author"></a><span data-ttu-id="743db-349">作成者について</span><span class="sxs-lookup"><span data-stu-id="743db-349">About the Author</span></span>

<span data-ttu-id="743db-350">1998以降、Microsoft の Web テクノロジを使用して、 [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)(複数の asp/創設者4GuysFromRolla.com の執筆者) が Microsoft の Web テクノロジを使用しています。</span><span class="sxs-lookup"><span data-stu-id="743db-350">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="743db-351">Scott は、独立したコンサルタント、トレーナー、およびライターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="743db-351">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="743db-352">彼の最新の書籍は[ *、ASP.NET 3.5 を24時間以内に教え*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ています。</span><span class="sxs-lookup"><span data-stu-id="743db-352">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="743db-353">Scott は、 [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)またはブログで[http://ScottOnWriting.NET](http://scottonwriting.net/)にアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="743db-353">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="743db-354">ありがとうございました。</span><span class="sxs-lookup"><span data-stu-id="743db-354">Special Thanks To</span></span>

<span data-ttu-id="743db-355">このチュートリアルシリーズは、役に立つ多くのレビュー担当者によってレビューされました。</span><span class="sxs-lookup"><span data-stu-id="743db-355">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="743db-356">このチュートリアルのリーダーレビュー担当者は、Zack Jones と Suchi になりました。</span><span class="sxs-lookup"><span data-stu-id="743db-356">Lead reviewers for this tutorial were Zack Jones and Suchi Banerjee.</span></span> <span data-ttu-id="743db-357">今後の MSDN 記事を確認することに興味がありますか?</span><span class="sxs-lookup"><span data-stu-id="743db-357">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="743db-358">その場合は、 [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)の行を削除します。</span><span class="sxs-lookup"><span data-stu-id="743db-358">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="743db-359">[前へ](multiple-contentplaceholders-and-default-content-cs.md)
> [次へ](urls-in-master-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="743db-359">[Previous](multiple-contentplaceholders-and-default-content-cs.md)
[Next](urls-in-master-pages-cs.md)</span></span>
