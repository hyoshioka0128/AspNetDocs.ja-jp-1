---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
title: ASP.NET AJAX デバッグ機能についてMicrosoft Docs
author: scottcate
description: コードをデバッグする機能は、使用しているテクノロジに関係なく、すべての開発者がコレクションに必要とするスキルです。 多くの開発者は...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 7f9380c6-19f7-4c82-a019-916ec6dffc9c
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
msc.type: authoredcontent
ms.openlocfilehash: 08ced380f3551407d757524dbc84b5feeeb5482b
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2019
ms.locfileid: "74601363"
---
# <a name="understanding-aspnet-ajax-debugging-capabilities"></a><span data-ttu-id="02a7b-104">ASP.NET AJAX デバッグ機能について理解する</span><span class="sxs-lookup"><span data-stu-id="02a7b-104">Understanding ASP.NET AJAX Debugging Capabilities</span></span>

<span data-ttu-id="02a7b-105">[Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="02a7b-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="02a7b-106">PDF のダウンロード</span><span class="sxs-lookup"><span data-stu-id="02a7b-106">Download PDF</span></span>](https://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial06_Debugging_MS_Ajax_Applications_cs.pdf)

> <span data-ttu-id="02a7b-107">コードをデバッグする機能は、使用しているテクノロジに関係なく、すべての開発者がコレクションに必要とするスキルです。</span><span class="sxs-lookup"><span data-stu-id="02a7b-107">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="02a7b-108">多くの開発者は、Visual Studio .NET または Web Developer Express を使用して、VB.NET やC#コードを使用する ASP.NET アプリケーションをデバッグすることに慣れていますが、JavaScript などのクライアント側コードをデバッグする場合にも非常に便利であることを認識していません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-108">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="02a7b-109">.NET アプリケーションのデバッグに使用するのと同じ種類の手法は、AJAX 対応アプリケーションや、より具体的に ASP.NET AJAX アプリケーションにも適用できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-109">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

## <a name="debugging-aspnet-ajax-applications"></a><span data-ttu-id="02a7b-110">ASP.NET AJAX アプリケーションのデバッグ</span><span class="sxs-lookup"><span data-stu-id="02a7b-110">Debugging ASP.NET AJAX Applications</span></span>

<span data-ttu-id="02a7b-111">Dan Wahlin</span><span class="sxs-lookup"><span data-stu-id="02a7b-111">Dan Wahlin</span></span>

<span data-ttu-id="02a7b-112">コードをデバッグする機能は、使用しているテクノロジに関係なく、すべての開発者がコレクションに必要とするスキルです。</span><span class="sxs-lookup"><span data-stu-id="02a7b-112">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="02a7b-113">使用可能なさまざまなデバッグオプションを理解することで、プロジェクトにかなりの時間を節約でき、場合によってはいくつかの悩みもあります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-113">It goes without saying that understanding the different debugging options that are available can save a tremendous amount of time on a project and perhaps even a few headaches.</span></span> <span data-ttu-id="02a7b-114">多くの開発者は、Visual Studio .NET または Web Developer Express を使用して、VB.NET やC#コードを使用する ASP.NET アプリケーションをデバッグすることに慣れていますが、JavaScript などのクライアント側コードをデバッグする場合にも非常に便利であることを認識していません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-114">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="02a7b-115">.NET アプリケーションのデバッグに使用するのと同じ種類の手法は、AJAX 対応アプリケーションや、より具体的に ASP.NET AJAX アプリケーションにも適用できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-115">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

<span data-ttu-id="02a7b-116">この記事では、Visual Studio 2008 と他のいくつかのツールを使用して ASP.NET AJAX アプリケーションをデバッグし、バグやその他の問題をすばやく特定する方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-116">In this article you'll see how Visual Studio 2008 and several other tools can be used to debug ASP.NET AJAX applications to quickly locate bugs and other issues.</span></span> <span data-ttu-id="02a7b-117">ここでは、デバッグのために Internet Explorer 6 以上を有効にする方法について説明します。 Visual Studio 2008 とスクリプトエクスプローラーを使用して、コードをステップ実行したり、Web 開発ヘルパーなどの他のフリーツールを使用したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-117">This discussion will include information about enabling Internet Explorer 6 or higher for debugging, using Visual Studio 2008 and the Script Explorer to step through code as well as using other free tools such as Web Development Helper.</span></span> <span data-ttu-id="02a7b-118">また、他のツールを使用せずに、ブラウザーで直接 JavaScript コードをステップ実行できるようにする、焼討バグという名前の拡張機能を使用して、Firefox で ASP.NET AJAX アプリケーションをデバッグする方法についても説明します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-118">You'll also learn how to debug ASP.NET AJAX applications in Firefox using an extension named Firebug which lets you step through JavaScript code directly in the browser without any other tools.</span></span> <span data-ttu-id="02a7b-119">最後に、ASP.NET AJAX ライブラリのクラスについて説明します。これは、トレースやコードアサーションステートメントなど、さまざまなデバッグタスクに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-119">Finally, you'll be introduced to classes in the ASP.NET AJAX Library that can help with various debugging tasks such as tracing and code assertion statements.</span></span>

<span data-ttu-id="02a7b-120">Internet Explorer で表示されるページをデバッグする前に、デバッグを有効にするために実行する必要がある基本的な手順がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-120">Before you try to debug pages viewed in Internet Explorer there are a few basic steps you'll need to perform to enable it for debugging.</span></span> <span data-ttu-id="02a7b-121">開始するために実行する必要がある基本的なセットアップ要件をいくつか見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="02a7b-121">Let's take a look at some basic setup requirements that need to be performed to get started.</span></span>

## <a name="configuring-internet-explorer-for-debugging"></a><span data-ttu-id="02a7b-122">デバッグ用の Internet Explorer の構成</span><span class="sxs-lookup"><span data-stu-id="02a7b-122">Configuring Internet Explorer for Debugging</span></span>

<span data-ttu-id="02a7b-123">ほとんどの人は、Internet Explorer で表示された Web サイトで発生した JavaScript の問題については知りません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-123">Most people aren't interested in seeing JavaScript issues encountered on a Website viewed with Internet Explorer.</span></span> <span data-ttu-id="02a7b-124">実際、平均的なユーザーは、エラーメッセージが表示された場合に何をするかを知ることはできません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-124">In fact, the average user wouldn't even know what to do if they saw an error message.</span></span> <span data-ttu-id="02a7b-125">その結果、ブラウザーではデバッグオプションが既定でオフになります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-125">As a result, debugging options are turned off by default in the browser.</span></span> <span data-ttu-id="02a7b-126">ただし、デバッグを有効にし、新しい AJAX アプリケーションを開発するときに使用できるようにするのは非常に簡単です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-126">However, it's very straightforward to turn debugging on and put it to use as you develop new AJAX applications.</span></span>

<span data-ttu-id="02a7b-127">デバッグ機能を有効にするには、Internet Explorer メニューの [ツール] [インターネットオプション] にアクセスし、[詳細設定] タブを選択します。[参照] セクションで、次の項目がオフになっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-127">To enable debugging functionality, go to Tools Internet Options on the Internet Explorer menu and select the Advanced tab. Within the Browsing section ensure that the following items are unchecked:</span></span>

- <span data-ttu-id="02a7b-128">スクリプトのデバッグを無効にする (Internet Explorer)</span><span class="sxs-lookup"><span data-stu-id="02a7b-128">Disable script debugging (Internet Explorer)</span></span>
- <span data-ttu-id="02a7b-129">スクリプトのデバッグを無効にする (その他)</span><span class="sxs-lookup"><span data-stu-id="02a7b-129">Disable script debugging (Other)</span></span>

<span data-ttu-id="02a7b-130">必須ではありませんが、アプリケーションをデバッグする場合は、ページ内の JavaScript エラーをすぐに表示し、明確にすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="02a7b-130">Although not required, if you're trying to debug an application you'll probably want any JavaScript errors in the page to be immediately visible and obvious.</span></span> <span data-ttu-id="02a7b-131">[すべてのスクリプトエラーに関する通知を表示する] チェックボックスをオンにすると、すべてのエラーをメッセージボックスに強制的に表示することができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-131">You can force all errors to be shown with a message box by checking the "Display a notification about every script error" checkbox.</span></span> <span data-ttu-id="02a7b-132">これは、アプリケーションの開発中に有効にするための優れたオプションですが、JavaScript エラーが発生する可能性が非常に高いため、他の Web サイトをつい man している場合は、すぐに面倒になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-132">While this is a great option to turn on while you're developing an application, it can quickly become annoying if you're just perusing other Websites since your chances of encountering JavaScript errors are pretty good.</span></span>

<span data-ttu-id="02a7b-133">図1は、Internet Explorer の [詳細設定] ダイアログがデバッグ用に適切に構成された後にどのように表示されるかを示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-133">Figure 1 shows what the Internet Explorer advanced dialog should look after it has been properly configured for debugging.</span></span>

<span data-ttu-id="02a7b-134">[デバッグ用に Internet Explorer を構成する ![ます。](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-134">[![Configuring Internet Explorer for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span></span>

<span data-ttu-id="02a7b-135">**図 1**: デバッグ用に Internet Explorer を構成する</span><span class="sxs-lookup"><span data-stu-id="02a7b-135">**Figure 1**: Configuring Internet Explorer for debugging.</span></span>  <span data-ttu-id="02a7b-136">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-136">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span></span>

<span data-ttu-id="02a7b-137">デバッグが有効になると、[表示] メニューに [スクリプトデバッガー] という名前の新しいメニュー項目が表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-137">Once debugging has been turned on, you'll see a new menu item appear in the View menu named Script Debugger.</span></span> <span data-ttu-id="02a7b-138">これには、次のステートメントで開くと中断を含む2つのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-138">It has two options available including Open and Break at Next Statement.</span></span> <span data-ttu-id="02a7b-139">[開く] を選択すると、Visual Studio 2008 でページをデバッグするように求められます (Visual Web Developer Express はデバッグにも使用できることに注意してください)。</span><span class="sxs-lookup"><span data-stu-id="02a7b-139">When Open is selected you'll be prompted to debug the page in Visual Studio 2008 (note that Visual Web Developer Express can also be used for debugging).</span></span> <span data-ttu-id="02a7b-140">Visual Studio .NET が現在実行されている場合は、そのインスタンスを使用するか、新しいインスタンスを作成するかを選択できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-140">If Visual Studio .NET is currently running you can choose to use that instance or to create a new instance.</span></span> <span data-ttu-id="02a7b-141">[次のステートメントで中断] が選択されている場合は、JavaScript コードの実行時にページをデバッグするように求められます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-141">When Break at Next Statement is selected you'll be prompted to debug the page when JavaScript code is executed.</span></span> <span data-ttu-id="02a7b-142">ページの onLoad イベントで JavaScript コードを実行する場合は、ページを更新してデバッグセッションをトリガーすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-142">If JavaScript code executes in the onLoad event of the page you can refresh the page to trigger a debug session.</span></span> <span data-ttu-id="02a7b-143">ボタンをクリックした後に JavaScript コードを実行すると、ボタンがクリックされた直後にデバッガーが実行されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-143">If JavaScript code is run after a button is clicked then the debugger will run immediately after the button is clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="02a7b-144">ユーザー Access Control (UAC) が有効になっている Windows Vista で実行していて、Visual Studio 2008 が管理者として実行するように設定されている場合、アタッチを求めるメッセージが表示されると、Visual Studio はプロセスにアタッチできません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-144">If you're running on Windows Vista with User Access Control (UAC) enabled, and you have Visual Studio 2008 set to run as an administrator, Visual Studio will fail to attach to the process when you are prompted to attach.</span></span> <span data-ttu-id="02a7b-145">この問題を回避するには、まず Visual Studio を起動し、そのインスタンスを使用してデバッグします。</span><span class="sxs-lookup"><span data-stu-id="02a7b-145">To work around this issue, start Visual Studio first, and use that instance to debug.</span></span>

<span data-ttu-id="02a7b-146">次のセクションでは、Visual Studio 2008 内から直接 ASP.NET AJAX ページをデバッグする方法について説明しますが、Internet Explorer の [スクリプトデバッガー] オプションを使用すると、ページが既に開いていて、より詳細な検査を行う場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-146">Although the next section will demonstrate how to debug an ASP.NET AJAX page directly from within Visual Studio 2008, using the Internet Explorer Script Debugger option is useful when a page is already open and you'd like to more fully inspect it.</span></span>

## <a name="debugging-with-visual-studio-2008"></a><span data-ttu-id="02a7b-147">Visual Studio 2008 を使用したデバッグ</span><span class="sxs-lookup"><span data-stu-id="02a7b-147">Debugging with Visual Studio 2008</span></span>

<span data-ttu-id="02a7b-148">Visual Studio 2008 は、世界中の開発者が .NET アプリケーションのデバッグに日常的に依存しているデバッグ機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-148">Visual Studio 2008 provides debugging functionality that developers around the world rely on everyday to debug .NET applications.</span></span> <span data-ttu-id="02a7b-149">組み込みのデバッガーを使用すると、コードをステップ実行したり、オブジェクトデータを表示したり、特定の変数を監視したり、呼び出し履歴を監視したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-149">The built-in debugger allows you to step through code, view object data, watch for specific variables, monitor the call stack plus much more.</span></span> <span data-ttu-id="02a7b-150">デバッガーは、VB.NET またはC#コードのデバッグに加えて、ASP.NET AJAX アプリケーションのデバッグにも役立ちます。また、JavaScript コードを1行ずつステップ実行できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-150">In addition to debugging VB.NET or C# code, the debugger is also helpful for debugging ASP.NET AJAX applications and will allow you to step through JavaScript code line by line.</span></span> <span data-ttu-id="02a7b-151">次の詳細では、Visual Studio 2008 を使用してアプリケーションをデバッグするプロセス全体に discourse を提供するのではなく、クライアント側のスクリプトファイルのデバッグに使用できる手法に焦点を当てています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-151">The details that follow focus on techniques that can be used to debug client-side script files rather than providing a discourse on the overall process of debugging applications using Visual Studio 2008.</span></span>

<span data-ttu-id="02a7b-152">Visual Studio 2008 でページをデバッグするプロセスは、いくつかの異なる方法で開始できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-152">The process of debugging a page in Visual Studio 2008 can be started in several different ways.</span></span> <span data-ttu-id="02a7b-153">最初に、前のセクションで説明した Internet Explorer の [スクリプトデバッガー] オプションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-153">First, you can use the Internet Explorer Script Debugger option mentioned in the previous section.</span></span> <span data-ttu-id="02a7b-154">これは、ページが既にブラウザーに読み込まれていて、デバッグを開始する場合に適しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-154">This works well when a page is already loaded in the browser and you'd like to start debugging it.</span></span> <span data-ttu-id="02a7b-155">または、ソリューションエクスプローラーで .aspx ページを右クリックし、メニューから [スタートページとして設定] を選択します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-155">Alternatively, you can right-click on an .aspx page in the Solution Explorer and select Set As Start Page from the menu.</span></span> <span data-ttu-id="02a7b-156">ASP.NET のページをデバッグすることに慣れている場合は、前に実行したことがあります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-156">If you're accustomed to debugging ASP.NET pages then you've probably done this before.</span></span> <span data-ttu-id="02a7b-157">F5 キーを押すと、ページをデバッグできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-157">Once F5 is pressed the page can be debugged.</span></span> <span data-ttu-id="02a7b-158">ただし、通常は、VB.NET またはC#コード内の任意の場所にブレークポイントを設定できますが、次に示すように、JavaScript では常にそうであるとは限りません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-158">However, while you can generally set a breakpoint anywhere you'd like in VB.NET or C# code, that's not always the case with JavaScript as you'll see next.</span></span>

<span data-ttu-id="02a7b-159">*埋め込みスクリプトと外部スクリプト*</span><span class="sxs-lookup"><span data-stu-id="02a7b-159">*Embedded Versus External Scripts*</span></span>

<span data-ttu-id="02a7b-160">Visual Studio 2008 デバッガーは、外部の JavaScript ファイルとは異なるページに埋め込まれた JavaScript を扱います。</span><span class="sxs-lookup"><span data-stu-id="02a7b-160">The Visual Studio 2008 debugger treats JavaScript embedded in a page different than external JavaScript files.</span></span> <span data-ttu-id="02a7b-161">外部スクリプトファイルを使用すると、ファイルを開き、選択した任意の行にブレークポイントを設定できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-161">With external script files, you can open the file and set a breakpoint on any line you choose.</span></span> <span data-ttu-id="02a7b-162">ブレークポイントを設定するには、コードエディターウィンドウの左側にある灰色のトレイ領域をクリックします。</span><span class="sxs-lookup"><span data-stu-id="02a7b-162">Breakpoints can be set by clicking in the grey tray area to the left of the code editor window.</span></span> <span data-ttu-id="02a7b-163">`<script>` タグを使用して JavaScript がページに直接埋め込まれている場合は、灰色のトレイ領域をクリックしてブレークポイントを設定してもオプションはありません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-163">When JavaScript is embedded directly into a page using the `<script>` tag, setting a breakpoint by clicking in the grey tray area isn't an option.</span></span> <span data-ttu-id="02a7b-164">埋め込みスクリプトの行にブレークポイントを設定しようとすると、"これはブレークポイントの有効な場所ではありません" という警告が表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-164">Attempts to set a breakpoint on a line of embedded script will result in a warning that states "This is not a valid location for a breakpoint".</span></span>

<span data-ttu-id="02a7b-165">この問題を回避するには、コードを外部 .js ファイルに移動し、&lt;script&gt; タグの src 属性を使用して参照します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-165">You can get around this issue by moving the code into an external .js file and referencing it using the src attribute of the &lt;script&gt; tag:</span></span>

[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample1.html)]

<span data-ttu-id="02a7b-166">コードを外部ファイルに移動することがオプションではない場合、または必要以上に多くの作業が必要な場合は、どうすればよいでしょうか。</span><span class="sxs-lookup"><span data-stu-id="02a7b-166">What if moving the code into an external file isn't an option or requires more work than it's worth?</span></span> <span data-ttu-id="02a7b-167">エディターを使用してブレークポイントを設定することはできませんが、デバッガーステートメントを、デバッグを開始するコードに直接追加することはできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-167">While you can't set a breakpoint using the editor, you can add the debugger statement directly into the code where you'd like to start debugging.</span></span> <span data-ttu-id="02a7b-168">また、ASP.NET AJAX ライブラリにある Sys. Debug クラスを使用して、強制的にデバッグを開始することもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-168">You can also use the Sys.Debug class available in the ASP.NET AJAX library to force debugging to start.</span></span> <span data-ttu-id="02a7b-169">この記事の後半で、このクラスの詳細について説明します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-169">You'll learn more about the Sys.Debug class later in this article.</span></span>

<span data-ttu-id="02a7b-170">`debugger` キーワードの使用例については、「リスト1」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="02a7b-170">An example of using the `debugger` keyword is shown in Listing 1.</span></span> <span data-ttu-id="02a7b-171">この例では、更新関数の呼び出しが行われる前に、デバッガーを強制的に中断します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-171">This example forces the debugger to break right before a call to an update function is made.</span></span>

<span data-ttu-id="02a7b-172">**リスト 1.Debugger キーワードを使用して、Visual Studio .NET デバッガーを強制的に中断します。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-172">**Listing 1. Using the debugger keyword to force the Visual Studio .NET debugger to break.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample2.js)]

<span data-ttu-id="02a7b-173">Debugger ステートメントがヒットすると、Visual Studio .NET を使用してページをデバッグするよう求められ、コードのステップ実行を開始できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-173">Once the debugger statement is hit you will be prompted to debug the page using Visual Studio .NET and can begin stepping through the code.</span></span> <span data-ttu-id="02a7b-174">この操作を行っているときに、ページで使用されている ASP.NET AJAX ライブラリスクリプトファイルにアクセスする際に問題が発生することがあります。そのため、Visual Studio の使用について見ていきましょう。NET のスクリプトエクスプローラー。</span><span class="sxs-lookup"><span data-stu-id="02a7b-174">While doing this you may encounter an issue with accessing ASP.NET AJAX library script files used in the page so let's take a look at using Visual Studio .NET's Script Explorer.</span></span>

## <a name="using-visual-studio-net-windows-to-debug"></a><span data-ttu-id="02a7b-175">Visual Studio .NET ウィンドウを使用したデバッグ</span><span class="sxs-lookup"><span data-stu-id="02a7b-175">Using Visual Studio .NET Windows to Debug</span></span>

<span data-ttu-id="02a7b-176">デバッグセッションが開始され、既定の F11 キーを使用してコードを確認すると、図2のエラーダイアログが表示されることがあります。ただし、ページで使用されているすべてのスクリプトファイルが開いており、デバッグに使用できる場合を除きます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-176">Once a debug session is started and you begin walking through code using the default F11 key, you may encounter the error dialog shown in see Figure 2 unless all script files used in the page are open and available for debugging.</span></span>

<span data-ttu-id="02a7b-177">[デバッグに使用できるソースコードがない場合、![のエラーダイアログが表示されます。](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-177">[![Error dialog shown when no source code is available for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span></span>

<span data-ttu-id="02a7b-178">**図 2**: デバッグに使用できるソースコードがない場合に表示されるエラーダイアログ。</span><span class="sxs-lookup"><span data-stu-id="02a7b-178">**Figure 2**: Error dialog shown when no source code is available for debugging.</span></span>  <span data-ttu-id="02a7b-179">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-179">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span></span>

<span data-ttu-id="02a7b-180">このダイアログが表示されるのは、ページによって参照される一部のスクリプトのソースコードへのアクセス方法が Visual Studio .NET によって確認されていないためです。</span><span class="sxs-lookup"><span data-stu-id="02a7b-180">This dialog is shown because Visual Studio .NET isn't sure how to get to the source code of some of the scripts referenced by the page.</span></span> <span data-ttu-id="02a7b-181">これは最初は非常に面倒ですが、簡単な修正があります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-181">While this can be quite frustrating at first, there's a simple fix.</span></span> <span data-ttu-id="02a7b-182">デバッグセッションを開始し、ブレークポイントにヒットしたら、Visual Studio 2008 メニューの [Windows スクリプトエクスプローラーのデバッグ] ウィンドウにアクセスするか、Ctrl + Alt + N ホットキーを使用します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-182">Once you have started a debug session and hit a breakpoint, go to the Debug Windows Script Explorer window on the Visual Studio 2008 menu or use the Ctrl+Alt+N hotkey.</span></span>

> [!NOTE]
> <span data-ttu-id="02a7b-183">スクリプトエクスプローラー メニューが表示されない場合は、Visual Studio .NET メニューの **ツール** >  > **コマンド**の**カスタマイズ** にアクセスしてください。</span><span class="sxs-lookup"><span data-stu-id="02a7b-183">If you can't see the Script Explorer menu listed, go to **Tools** > **Customize** > **Commands** on the Visual Studio .NET menu.</span></span> <span data-ttu-id="02a7b-184">[カテゴリ] セクションで**デバッグ**エントリを見つけてクリックすると、使用可能なすべてのメニューエントリが表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-184">Locate the **Debug** entry in the Categories section and click it to show all available menu entries.</span></span> <span data-ttu-id="02a7b-185">[コマンド] ボックスの一覧で、[スクリプトエクスプローラー] まで下にスクロールし、先ほど説明した [デバッグ] ウィンドウにドラッグします。</span><span class="sxs-lookup"><span data-stu-id="02a7b-185">In the Commands list, scroll down to Script Explorer and then drag it up onto the Debug Windows menu in mentioned earlier.</span></span> <span data-ttu-id="02a7b-186">これにより、Visual Studio .NET を実行するたびに [スクリプトエクスプローラー] メニューエントリが使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-186">Doing this will make the Script Explorer menu entry available each time you run Visual Studio .NET.</span></span>

<span data-ttu-id="02a7b-187">スクリプトエクスプローラーを使用すると、ページで使用されているすべてのスクリプトを表示し、コードエディターで開くことができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-187">The Script Explorer can be used to view all scripts used in a page and open them in the code editor.</span></span> <span data-ttu-id="02a7b-188">スクリプトエクスプローラーが開いたら、現在デバッグ中の .aspx ページをダブルクリックして、コードエディターウィンドウで開きます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-188">Once the Script Explorer is open, double-click on the .aspx page currently being debugged to open it in the code editor window.</span></span> <span data-ttu-id="02a7b-189">スクリプトエクスプローラーに表示されている他のすべてのスクリプトに対して同じ操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-189">Perform the same action for all of the other scripts shown in the Script Explorer.</span></span> <span data-ttu-id="02a7b-190">すべてのスクリプトがコードウィンドウで開かれたら、F11 キーを押し (他のデバッグホットキーを使用)、コードをステップ実行できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-190">Once all of the scripts are open in the code window you can press F11 (and use the other debug hotkeys) to step through your code.</span></span> <span data-ttu-id="02a7b-191">図3は、スクリプトエクスプローラーの例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-191">Figure 3 shows an example of the Script Explorer.</span></span> <span data-ttu-id="02a7b-192">ここには、デバッグ中の現在のファイル (Demo) と、2つのカスタムスクリプトと、ASP.NET AJAX ScriptManager によってページに動的に挿入された2つのスクリプトが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-192">It lists the current file being debugged (Demo.aspx) as well as two custom scripts and two scripts dynamically injected into the page by the ASP.NET AJAX ScriptManager.</span></span>

<span data-ttu-id="02a7b-193">[![スクリプトエクスプローラーを使用すると、ページで使用されるスクリプトに簡単にアクセスできます。](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-193">[![The Script Explorer provides easy access to scripts used in a page.](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span></span>

<span data-ttu-id="02a7b-194">**図 3**.</span><span class="sxs-lookup"><span data-stu-id="02a7b-194">**Figure 3**.</span></span> <span data-ttu-id="02a7b-195">スクリプトエクスプローラーでは、ページで使用されているスクリプトに簡単にアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-195">The Script Explorer provides easy access to scripts used in a page.</span></span>  <span data-ttu-id="02a7b-196">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-196">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span></span>

<span data-ttu-id="02a7b-197">ページ内のコードをステップ実行するときに役立つ情報を提供するために、他のいくつかのウィンドウを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-197">Several others windows can also be used to provide useful information as you step through code in a page.</span></span> <span data-ttu-id="02a7b-198">たとえば、[ローカル] ウィンドウを使用すると、ページで使用されているさまざまな変数の値を確認できます。また、[イミディエイト] ウィンドウでは、特定の変数または条件を評価し、出力を表示できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-198">For example, you can use the Locals window to see the values of different variables used in the page, the Immediate window to evaluate specific variables or conditions and view the output.</span></span> <span data-ttu-id="02a7b-199">また、[出力] ウィンドウを使用して、トレースステートメントを表示することもできます。これについては、この記事の後半で説明するように、trace 関数を使用するか、Internet Explorer の Debug. writeln 関数を使用します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-199">You can also use the Output window to view trace statements written out using the Sys.Debug.trace function (which will be covered later in this article) or Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="02a7b-200">デバッガーを使用してコードをステップ実行するときに、コード内の変数をマウスでポイントすると、割り当てられている値を表示できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-200">As you step through code using the debugger you can mouse over variables in the code to view the value that they are assigned.</span></span> <span data-ttu-id="02a7b-201">ただし、スクリプトデバッガーでは、特定の JavaScript 変数にマウスを置いても何も表示されないことがあります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-201">However, the script debugger occasionally won't show anything as you mouse over a given JavaScript variable.</span></span> <span data-ttu-id="02a7b-202">値を表示するには、コードエディターウィンドウで表示しようとしているステートメントまたは変数を強調表示し、その上にマウスカーソルを合わせます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-202">To see the value, highlight the statement or variable you're trying to see in the code editor window and then mouse over it.</span></span> <span data-ttu-id="02a7b-203">この手法はすべての状況で動作するわけではありませんが、多くの場合、[ローカル] ウィンドウなどの別のデバッグウィンドウを参照しなくても値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-203">Although this technique doesn't work in every situation, many times you will be able to see the value without having to look in a different debug window such as the Locals window.</span></span>

<span data-ttu-id="02a7b-204">ここで説明する機能の一部を示すビデオチュートリアルは、 [http://www.xmlforasp.net](http://www.xmlforasp.net)で見ることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-204">A video tutorial demonstrating some of the features discussed here can be viewed at [http://www.xmlforasp.net](http://www.xmlforasp.net).</span></span>

## <a name="debugging-with-web-development-helper"></a><span data-ttu-id="02a7b-205">Web 開発ヘルパーを使用したデバッグ</span><span class="sxs-lookup"><span data-stu-id="02a7b-205">Debugging With Web Development Helper</span></span>

<span data-ttu-id="02a7b-206">Visual Studio 2008 (および Visual Web Developer Express 2008) は、非常に優れたデバッグツールですが、より軽量なオプションを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-206">Although Visual Studio 2008 (and Visual Web Developer Express 2008) are very capable debugging tools, there are additional options that can be used as well which are more light-weight.</span></span> <span data-ttu-id="02a7b-207">リリースされる最新のツールの1つは、Web 開発ヘルパーです。</span><span class="sxs-lookup"><span data-stu-id="02a7b-207">One of the latest tools to be released is the Web Development Helper.</span></span> <span data-ttu-id="02a7b-208">Microsoft の Nikhil Kothari (Microsoft の主要な ASP.NET AJAX アーキテクト) は、単純なデバッグから HTTP 要求および応答メッセージを表示するためのさまざまなタスクを実行できる優れたツールを作成しました。</span><span class="sxs-lookup"><span data-stu-id="02a7b-208">Microsoft's Nikhil Kothari (one of the key ASP.NET AJAX architects at Microsoft) wrote this excellent tool which can perform many different tasks from simple debugging to viewing HTTP request and response messages.</span></span> <span data-ttu-id="02a7b-209">Web 開発ヘルパーは[http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx)でダウンロードできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-209">Web Development Helper can be downloaded at [http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx).</span></span>

<span data-ttu-id="02a7b-210">Web 開発ヘルパーは、を使用するのに便利な Internet Explorer 内で直接使用できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-210">Web Development helper can be used directly inside of Internet Explorer which makes it convenient to use.</span></span> <span data-ttu-id="02a7b-211">これを開始するには、Internet Explorer メニューから [ツール] [Web 開発ヘルパー] の順に選択します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-211">It's started by selecting Tools Web Development Helper from the Internet Explorer menu.</span></span> <span data-ttu-id="02a7b-212">これにより、ブラウザーで HTTP 要求および応答メッセージのログ記録などのいくつかのタスクを実行する必要がないため、ブラウザーの下部にツールが表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-212">This will open the tool in the bottom portion of the browser which is nice since you don't have to leave the browser to perform several tasks such as HTTP request and response message logging.</span></span> <span data-ttu-id="02a7b-213">図4は、Web 開発ヘルパーが動作中であることを示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-213">Figure 4 shows what Web Development Helper looks like in action.</span></span>

<span data-ttu-id="02a7b-214">[![Web 開発ヘルパー](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-214">[![Web Development Helper](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span></span>

<span data-ttu-id="02a7b-215">**図 4**: Web 開発ヘルパー ([クリックしてフルサイズのイメージを表示する](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="02a7b-215">**Figure 4**: Web Development Helper  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span></span>

<span data-ttu-id="02a7b-216">Web 開発ヘルパーは、Visual Studio 2008 と同様に行ごとにコードをステップ実行するために使用するツールではありません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-216">Web Development helper isn't a tool you'll use to step through code line by line as with Visual Studio 2008.</span></span> <span data-ttu-id="02a7b-217">ただし、これを使用すると、トレース出力の表示、スクリプト内の変数の簡単な評価、JSON オブジェクト内のデータの探索などを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-217">However, it can be used to view trace output, easily evaluate variables in a script or explore data is inside of a JSON object.</span></span> <span data-ttu-id="02a7b-218">また、ASP.NET AJAX ページおよびサーバーとの間でやり取りされるデータを表示する場合にも非常に便利です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-218">It's also very useful for viewing data that is passed to and from an ASP.NET AJAX page and a server.</span></span>

<span data-ttu-id="02a7b-219">Internet Explorer で Web 開発ヘルパーを開いたら、図4の前に示したように、[Web 開発ヘルパー] メニューの [スクリプトを有効にする] を選択して、スクリプトのデバッグを有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-219">Once Web Development Helper is open in Internet Explorer, script debugging must be enabled by selecting Script Enable Script Debugging from the Web Development helper menu as shown earlier in Figure 4.</span></span> <span data-ttu-id="02a7b-220">これにより、ページの実行中に発生したエラーをツールでインターセプトできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-220">This enables the tool to intercept errors that occur as a page is run.</span></span> <span data-ttu-id="02a7b-221">また、ページに出力されるトレースメッセージに簡単にアクセスすることもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-221">It also allows easy access to trace messages that are output in the page.</span></span> <span data-ttu-id="02a7b-222">トレース情報を表示したり、ページ内のさまざまな機能をテストするスクリプトコマンドを実行したりするには、[Web 開発ヘルパー] メニューから [スクリプトコンソールを表示] を選択します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-222">To view trace information or execute script commands to test different functions within a page, select Script Show Script Console from the Web Development Helper menu.</span></span> <span data-ttu-id="02a7b-223">これにより、コマンドウィンドウと単純な [イミディエイト] ウィンドウへのアクセスが可能になります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-223">This provides access to a command window and a simple immediate window.</span></span>

<span data-ttu-id="02a7b-224">*トレースメッセージと JSON オブジェクトデータの表示*</span><span class="sxs-lookup"><span data-stu-id="02a7b-224">*Viewing Trace Messages and JSON Object Data*</span></span>

<span data-ttu-id="02a7b-225">[イミディエイト] ウィンドウを使用すると、スクリプトコマンドを実行したり、ページ内のさまざまな機能をテストするために使用されるスクリプトを読み込んだり保存したりすることもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-225">The immediate window can be used to execute script commands or even load or save scripts that are used to test different functions in a page.</span></span> <span data-ttu-id="02a7b-226">コマンドウィンドウには、表示されているページによって書き込まれたトレースメッセージまたはデバッグメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-226">The command window displays trace or debug messages written out by the page being viewed.</span></span> <span data-ttu-id="02a7b-227">リスト2は、Internet Explorer の Debug. writeln 関数を使用してトレースメッセージを書き込む方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-227">Listing 2 shows how to write a trace message using Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="02a7b-228">**リスト 2.Debug クラスを使用してクライアント側のトレースメッセージを書き込む。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-228">**Listing 2. Writing out a client-side trace message using the Debug class.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample3.js)]

<span data-ttu-id="02a7b-229">LastName プロパティに Doe という値が含まれている場合、Web 開発ヘルパーは、スクリプトコンソールのコマンドウィンドウに "Person name: Doe" というメッセージを表示します (デバッグが有効になっていることを前提としています)。</span><span class="sxs-lookup"><span data-stu-id="02a7b-229">If the LastName property contains a value of Doe, Web Development Helper will display the message "Person name: Doe" in the script console's command window (assuming that debugging has been enabled).</span></span> <span data-ttu-id="02a7b-230">また、Web 開発ヘルパーは、トップレベルの debugService オブジェクトをページに追加して、トレース情報の書き出しや JSON オブジェクトのコンテンツの表示に使用できるページに追加します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-230">Web Development Helper also adds a top-level debugService object into pages that can be used to write out trace information or view the content of JSON objects.</span></span> <span data-ttu-id="02a7b-231">リスト3は、debugService クラスの trace 関数の使用例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-231">Listing 3 shows an example of using the debugService class's trace function.</span></span>

<span data-ttu-id="02a7b-232">**リスト 3.Web 開発ヘルパーの debugService クラスを使用してトレースメッセージを書き込みます。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-232">**Listing 3. Using Web Development Helper's debugService class to write a trace message.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample4.js)]

<span data-ttu-id="02a7b-233">DebugService クラスの優れた機能は、Internet Explorer でデバッグが有効になっていない場合でも機能します。これにより、Web 開発ヘルパーが実行されているときに常にトレースデータにアクセスすることが簡単になります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-233">A nice feature of the debugService class is that it will work even if debugging isn't enabled in Internet Explorer making it easy to always access trace data when Web Development Helper is running.</span></span> <span data-ttu-id="02a7b-234">ツールがページのデバッグに使用されていない場合、debugService を呼び出すと false が返されるため、トレースステートメントは無視されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-234">When the tool isn't being used to debug a page, trace statements will be ignored since the call to window.debugService will return false.</span></span>

<span data-ttu-id="02a7b-235">DebugService クラスでは、Web 開発ヘルパーのインスペクターウィンドウを使用して JSON オブジェクトデータを表示することもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-235">The debugService class also allows JSON object data to be viewed using Web Development Helper's inspector window.</span></span> <span data-ttu-id="02a7b-236">リスト4は、個人データを含む単純な JSON オブジェクトを作成します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-236">Listing 4 creates a simple JSON object containing person data.</span></span> <span data-ttu-id="02a7b-237">オブジェクトが作成されると、debugService クラスの検査関数が呼び出され、JSON オブジェクトを視覚的に検査できるようになります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-237">Once the object is created, a call is made to the debugService class's inspect function to allow the JSON object to be visually inspected.</span></span>

<span data-ttu-id="02a7b-238">**リスト 4.DebugService. 検査関数を使用した JSON オブジェクトデータの表示。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-238">**Listing 4. Using the debugService.inspect function to view JSON object data.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample5.js)]

<span data-ttu-id="02a7b-239">ページまたは [イミディエイト] ウィンドウで GetPerson () 関数を呼び出すと、図5に示すように [オブジェクトインスペクター] ダイアログウィンドウが表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-239">Calling the GetPerson() function in the page or through the immediate window will result in the Object Inspector dialog window appearing as shown in Figure 5.</span></span> <span data-ttu-id="02a7b-240">オブジェクト内のプロパティは、それらを強調表示し、[値] テキストボックスに表示されている値を変更し、[更新] リンクをクリックすることで、動的に変更できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-240">Properties within the object can be changed dynamically by highlighting them, changing the value shown in the Value text box and then clicking the Update link.</span></span> <span data-ttu-id="02a7b-241">オブジェクトインスペクターを使用すると、JSON オブジェクトデータを簡単に表示し、プロパティに異なる値を適用して実験できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-241">Using the Object Inspector makes it straightforward to view JSON object data and experiment with applying different values to properties.</span></span>

<span data-ttu-id="02a7b-242">*デバッグエラー*</span><span class="sxs-lookup"><span data-stu-id="02a7b-242">*Debugging Errors*</span></span>

<span data-ttu-id="02a7b-243">Web 開発ヘルパーは、トレースデータと JSON オブジェクトを表示できるだけでなく、ページ内のエラーのデバッグにも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-243">In addition to allowing trace data and JSON objects to be displayed, Web Development helper can also aid in debugging errors in a page.</span></span> <span data-ttu-id="02a7b-244">エラーが発生した場合は、次のコード行に進むか、スクリプトをデバッグするかを確認するメッセージが表示されます (図6を参照)。</span><span class="sxs-lookup"><span data-stu-id="02a7b-244">If an error is encountered, you will be prompted to continue to the next line of code or debug the script (see Figure 6).</span></span> <span data-ttu-id="02a7b-245">[スクリプトエラー] ダイアログウィンドウには、完全なコールスタックと行番号が表示されます。これにより、スクリプト内の問題を簡単に特定できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-245">The Script Error dialog window shows the complete call stack as well as line numbers so you can easily identify where issues are within a script.</span></span>

<span data-ttu-id="02a7b-246">[JSON オブジェクトを表示するには、[オブジェクトインスペクター] ウィンドウを使用 ![ます。](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-246">[![Using the Object Inspector window to view a JSON object.](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span></span>

<span data-ttu-id="02a7b-247">**図 5**: [オブジェクトインスペクター] ウィンドウを使用した JSON オブジェクトの表示</span><span class="sxs-lookup"><span data-stu-id="02a7b-247">**Figure 5**: Using the Object Inspector window to view a JSON object.</span></span>  <span data-ttu-id="02a7b-248">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-248">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span></span>

<span data-ttu-id="02a7b-249">[デバッグ] オプションを選択すると、Web 開発ヘルパーの [イミディエイト] ウィンドウでスクリプトステートメントを直接実行して、変数の値を表示したり、JSON オブジェクトを書き出したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-249">Selecting the debug option allows you to execute script statements directly in Web Development Helper's immediate window to view the value of variables, write out JSON objects, plus more.</span></span> <span data-ttu-id="02a7b-250">エラーをトリガーした同じアクションが再度実行され、コンピューターで Visual Studio 2008 が使用できる場合は、前のセクションで説明したように、コードを1行ずつステップ実行できるように、デバッグセッションを開始するように求められます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-250">If the same action that triggered the error is performed again and Visual Studio 2008 is available on the machine, you will be prompted to start a debug session so that you can step through the code line by line as discussed in the previous section.</span></span>

<span data-ttu-id="02a7b-251">[![Web 開発ヘルパーのスクリプトエラーダイアログ](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-251">[![Web Development Helper's Script Error Dialog](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span></span>

<span data-ttu-id="02a7b-252">**図 6**: Web 開発ヘルパーのスクリプトエラーダイアログ ([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-252">**Figure 6**: Web Development Helper's Script Error Dialog  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span></span>

<span data-ttu-id="02a7b-253">*要求メッセージと応答メッセージの検査*</span><span class="sxs-lookup"><span data-stu-id="02a7b-253">*Inspecting Request and Response Messages*</span></span>

<span data-ttu-id="02a7b-254">ASP.NET AJAX ページのデバッグ中に、ページとサーバーの間で送信される要求メッセージと応答メッセージを確認すると便利な場合がよくあります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-254">While debugging ASP.NET AJAX pages it is often useful to see request and response messages sent between a page and server.</span></span> <span data-ttu-id="02a7b-255">メッセージ内のコンテンツを表示すると、適切なデータが渡されているかどうか、およびメッセージのサイズを確認できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-255">Viewing the content within messages allows you to see if the proper data is being passed as well as the size of the messages.</span></span> <span data-ttu-id="02a7b-256">Web 開発ヘルパーには、データを未加工のテキストとして、または読みやすい形式で簡単に表示できる優れた HTTP メッセージロガー機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-256">Web Development Helper provides an excellent HTTP message logger feature that makes it easy to view data as raw text or in a more readable format.</span></span>

<span data-ttu-id="02a7b-257">ASP.NET AJAX の要求メッセージと応答メッセージを表示するには、Web 開発ヘルパーメニューから [http Enable HTTP Logging] を選択して HTTP logger を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-257">To view ASP.NET AJAX request and response messages, the HTTP logger must be enabled by selecting HTTP Enable HTTP Logging from the Web Development Helper menu.</span></span> <span data-ttu-id="02a7b-258">有効にすると、現在のページから送信されたすべてのメッセージが HTTP ログビューアーに表示されます。これにアクセスするには、http Show HTTP Logs を選択します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-258">Once enabled, all messages sent from the current page can be viewed in the HTTP log viewer which can be accessed by selecting HTTP Show HTTP Logs.</span></span>

<span data-ttu-id="02a7b-259">各要求/応答メッセージで送信された未加工のテキスト (および Web 開発ヘルパーのオプション) を表示すると便利ですが、多くの場合、よりグラフィカルな形式でメッセージデータを表示する方が簡単です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-259">Although viewing the raw text sent in each request/response message is certainly useful (and an option in Web Development Helper), it is often easier to view message data in a more graphical format.</span></span> <span data-ttu-id="02a7b-260">HTTP ログが有効化され、メッセージがログに記録されたら、HTTP ログビューアーでメッセージをダブルクリックしてメッセージデータを表示できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-260">Once HTTP logging has been enabled and messages have been logged, message data can be viewed by double-clicking on the message in the HTTP log viewer.</span></span> <span data-ttu-id="02a7b-261">これにより、メッセージに関連付けられているすべてのヘッダーと、実際のメッセージの内容を表示できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-261">Doing this allows you to view all headers associated with a message as well as the actual message content.</span></span> <span data-ttu-id="02a7b-262">図7は、[HTTP ログビューアー] ウィンドウで表示される要求メッセージと応答メッセージの例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-262">Figure 7 shows an example of a request message and response message viewed in the HTTP Log Viewer window.</span></span>

<span data-ttu-id="02a7b-263">[HTTP ログビューアーを使用して、要求メッセージと応答メッセージデータを表示 ![ます。](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-263">[![Using the HTTP Log Viewer to view request and response message data.](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span></span>

<span data-ttu-id="02a7b-264">**図 7**: HTTP ログビューアーを使用して、要求メッセージと応答メッセージのデータを表示する</span><span class="sxs-lookup"><span data-stu-id="02a7b-264">**Figure 7**: Using the HTTP Log Viewer to view request and response message data.</span></span>  <span data-ttu-id="02a7b-265">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-265">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span></span>

<span data-ttu-id="02a7b-266">HTTP ログビューアーは、JSON オブジェクトを自動的に解析し、ツリービューを使用して表示します。これにより、オブジェクトのプロパティデータをすばやく簡単に表示できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-266">The HTTP Log Viewer automatically parses JSON objects and displays them using a tree view making it quick and easy to view the object's property data.</span></span> <span data-ttu-id="02a7b-267">ASP.NET AJAX ページで UpdatePanel が使用されている場合は、図8に示すように、ビューアーによってメッセージの各部分が個別の部分に分割されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-267">When an UpdatePanel is being used in an ASP.NET AJAX page, the viewer breaks out each portion of the message into individual parts as shown in Figure 8.</span></span> <span data-ttu-id="02a7b-268">これは、未加工のメッセージデータを表示する場合と比較して、メッセージの内容をより簡単に確認して理解できる優れた機能です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-268">This is a great feature that makes it much easier to see and understand what is in the message as compared to viewing the raw message data.</span></span>

<span data-ttu-id="02a7b-269">[HTTP ログビューアーを使用して表示される UpdatePanel 応答メッセージを ![します。](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-269">[![An UpdatePanel response message viewed using the HTTP Log Viewer.](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span></span>

<span data-ttu-id="02a7b-270">**図 8**: HTTP ログビューアーを使用して表示される UpdatePanel 応答メッセージ。</span><span class="sxs-lookup"><span data-stu-id="02a7b-270">**Figure 8**: An UpdatePanel response message viewed using the HTTP Log Viewer.</span></span>  <span data-ttu-id="02a7b-271">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-271">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span></span>

<span data-ttu-id="02a7b-272">Web 開発ヘルパーに加えて、要求メッセージと応答メッセージを表示するために使用できるツールは他にもいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-272">There are several other tools that can be used to view request and response messages in addition to Web Development Helper.</span></span> <span data-ttu-id="02a7b-273">もう1つの良いオプションは、 [http://www.fiddlertool.com](http://www.fiddlertool.com)で無料で利用できる Fiddler です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-273">Another good option is Fiddler which is available for free at [http://www.fiddlertool.com](http://www.fiddlertool.com).</span></span> <span data-ttu-id="02a7b-274">Fiddler はここでは説明しませんが、メッセージのヘッダーとデータを十分に検査する必要がある場合にも適しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-274">Although Fiddler will not be discussed here, it is also a good option when you need to thoroughly inspect message headers and data.</span></span>

## <a name="debugging-with-firefox-and-firebug"></a><span data-ttu-id="02a7b-275">Firefox と消火バグによるデバッグ</span><span class="sxs-lookup"><span data-stu-id="02a7b-275">Debugging with Firefox and Firebug</span></span>

<span data-ttu-id="02a7b-276">Internet Explorer は、広く使用されているブラウザーでもありますが、Firefox などの他のブラウザーは非常に人気があり、多くの場合に使用されています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-276">While Internet Explorer is still the most widely used browser, other browsers such as Firefox have become quite popular and are being used more and more.</span></span> <span data-ttu-id="02a7b-277">その結果、アプリケーションが正しく動作することを確認するために、Firefox および Internet Explorer で ASP.NET AJAX ページを表示してデバッグすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-277">As a result, you'll want to view and debug your ASP.NET AJAX pages in Firefox as well as Internet Explorer to ensure that your applications work properly.</span></span> <span data-ttu-id="02a7b-278">Firefox は、デバッグのために Visual Studio 2008 に直接結び付けることはできませんが、ページのデバッグに使用できる、消火バグと呼ばれる拡張機能を備えています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-278">Although Firefox can't tie directly into Visual Studio 2008 for debugging, it has an extension called Firebug that can be used to debug pages.</span></span> <span data-ttu-id="02a7b-279">[http://www.getfirebug.com](http://www.getfirebug.com)に移動すると、焼討バグを無料でダウンロードできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-279">Firebug can be downloaded for free by going to [http://www.getfirebug.com](http://www.getfirebug.com).</span></span>

<span data-ttu-id="02a7b-280">消火バグは、完全な機能を備えたデバッグ環境を提供します。この環境を使用すると、コードを行ごとにステップ実行したり、ページ内で使用されるすべてのスクリプトにアクセスしたり、DOM 構造を表示したり、CSS スタイルを表示したり、ページで発生するイベントを追跡したりできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-280">Firebug provides a full-featured debugging environment that can be used to step through code line by line, access all scripts used within a page, view DOM structures, display CSS styles and even track events that occur in a page.</span></span> <span data-ttu-id="02a7b-281">インストールが完了すると、[ツール]、[ツール]、[アドイン] メニューから [ツール]、[アドイン] の順に選択して、焼討バグにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-281">Once installed, Firebug can be accessed by selecting Tools Firebug Open Firebug from the Firefox menu.</span></span> <span data-ttu-id="02a7b-282">Web 開発ヘルパーと同様に、消火バグは、スタンドアロンアプリケーションとしても使用できますが、ブラウザーで直接使用されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-282">Like Web Development Helper, Firebug is used directly in the browser although it can also be used as a stand-alone application.</span></span>

<span data-ttu-id="02a7b-283">消火バグが実行されると、スクリプトがページに埋め込まれているかどうかにかかわらず、JavaScript ファイルの任意の行にブレークポイントを設定できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-283">Once Firebug is running, breakpoints can be set on any line of a JavaScript file whether the script is embedded in a page or not.</span></span> <span data-ttu-id="02a7b-284">ブレークポイントを設定するには、まず Firefox でデバッグする適切なページを読み込みます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-284">To set a breakpoint, first load the appropriate page you'd like to debug in Firefox.</span></span> <span data-ttu-id="02a7b-285">ページが読み込まれたら、[スクリプト] ドロップダウンリストからデバッグするスクリプトを選択します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-285">Once the page is loaded, select the script to debug from Firebug's Scripts drop-down list.</span></span> <span data-ttu-id="02a7b-286">ページによって使用されるすべてのスクリプトが表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-286">All scripts used by the page will be shown.</span></span> <span data-ttu-id="02a7b-287">ブレークポイントを設定するには、ブレークポイントを設定する行の [消火バグの灰色のトレイ] 領域をクリックします。 Visual Studio 2008 で行うのと同じようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-287">A breakpoint is set by clicking in Firebug's grey tray area on the line where the breakpoint should go must like you would do in Visual Studio 2008.</span></span>

<span data-ttu-id="02a7b-288">消火バグにブレークポイントを設定したら、ボタンをクリックしたり、ブラウザーを更新して onLoad イベントをトリガーしたりするなど、デバッグが必要なスクリプトを実行するために必要なアクションを実行できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-288">Once a breakpoint has been set in Firebug you can perform the action required to execute the script that needs to be debugged such as clicking a button or refreshing the browser to trigger the onLoad event.</span></span> <span data-ttu-id="02a7b-289">実行は、ブレークポイントを含む行で自動的に停止します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-289">Execution will automatically stop on the line containing the breakpoint.</span></span> <span data-ttu-id="02a7b-290">図9は、消火バグでトリガーされたブレークポイントの例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-290">Figure 9 shows an example of a breakpoint that has been triggered in Firebug.</span></span>

<span data-ttu-id="02a7b-291">[![、消火バグのブレークポイントを処理します。](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-291">[![Handling breakpoints in Firebug.](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span></span>

<span data-ttu-id="02a7b-292">**図 9**: 消火バグのブレークポイントを処理する</span><span class="sxs-lookup"><span data-stu-id="02a7b-292">**Figure 9**: Handling breakpoints in Firebug.</span></span>  <span data-ttu-id="02a7b-293">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-293">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span></span>

<span data-ttu-id="02a7b-294">ブレークポイントにヒットしたら、矢印ボタンを使用してコードをステップオーバーまたはステップアウトすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-294">Once a breakpoint is hit you can step into, step over or step out of code using the arrow buttons.</span></span> <span data-ttu-id="02a7b-295">コードをステップ実行すると、スクリプト変数がデバッガーの右側の部分に表示されるため、値を確認したり、オブジェクトにドリルダウンしたりすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-295">As you step through code, script variables are displayed in the right-hand portion of the debugger allowing you to see values and drill-down into objects.</span></span> <span data-ttu-id="02a7b-296">また、消火バグには、デバッグ中の現在の行に到達するスクリプトの実行ステップを表示するための [呼び出し履歴] ドロップダウンリストも含まれています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-296">Firebug also includes a Call Stack drop-down list to view the script's execution steps that led up to the current line being debugged.</span></span>

<span data-ttu-id="02a7b-297">また、さまざまなスクリプトステートメントのテスト、変数の評価、およびトレース出力の表示に使用できるコンソールウィンドウも用意されています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-297">Firebug also includes a console window that can be used to test different script statements, evaluate variables and view trace output.</span></span> <span data-ttu-id="02a7b-298">これにアクセスするには、消火バグウィンドウの上部にある [コンソール] タブをクリックします。</span><span class="sxs-lookup"><span data-stu-id="02a7b-298">It is accessed by clicking on the Console tab at the top of the Firebug window.</span></span> <span data-ttu-id="02a7b-299">[検査] タブをクリックすると、デバッグ中のページを "検査済み" にして DOM の構造と内容を確認することもできます。インスペクターウィンドウに表示されているさまざまな DOM 要素をマウスでポイントすると、ページの適切な部分が強調表示されるため、ページ内で要素がどこで使用されているかを簡単に確認できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-299">The page being debugged can also be "inspected" to see its DOM structure and contents by clicking on the Inspect tab. As you mouse over the different DOM elements shown in the inspector window the appropriate portion of the page will be highlighted making it easy to see where the element is used in the page.</span></span> <span data-ttu-id="02a7b-300">特定の要素に関連付けられている属性値を "live" に変更して、さまざまな幅やスタイルなどを要素に適用して実験することができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-300">Attribute values associated with a given element can be changed "live" to experiment with applying different widths, styles, etc. to an element.</span></span> <span data-ttu-id="02a7b-301">これは、ソースコードエディターと Firefox ブラウザーを常に切り替えて、単純な変更がページに与える影響を確認するための便利な機能です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-301">This is a nice feature that saves you from having to constantly switch between the source code editor and the Firefox browser to view how simple changes affect a page.</span></span>

<span data-ttu-id="02a7b-302">図10は、DOM inspector を使用して、ページ内で txtCountry という名前のテキストボックスを検索する例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-302">Figure 10 shows an example of using the DOM inspector to locate a textbox named txtCountry in the page.</span></span> <span data-ttu-id="02a7b-303">また、ページで使用される CSS スタイルや、マウスの動きの追跡、ボタンのクリックなどによって発生するイベントを表示するために、焼討バグインスペクターを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-303">The Firebug inspector can also be used to view CSS styles used in a page as well as events that occur such as tracking mouse movements, button clicks, plus more.</span></span>

<span data-ttu-id="02a7b-304">[![、消火バグの DOM inspector を使用します。](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-304">[![Using Firebug's DOM inspector.](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span></span>

<span data-ttu-id="02a7b-305">**図 10**: 消火バグの DOM inspector の使用</span><span class="sxs-lookup"><span data-stu-id="02a7b-305">**Figure 10**: Using Firebug's DOM inspector.</span></span>  <span data-ttu-id="02a7b-306">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-306">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span></span>

<span data-ttu-id="02a7b-307">消火バグは、Firefox でページを直接デバッグするための軽量な方法と、ページ内のさまざまな要素を検査する優れたツールを提供します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-307">Firebug provides a light-weight way to quickly debug a page directly in Firefox as well as an excellent tool for inspecting different elements within the page.</span></span>

## <a name="debugging-support-in-aspnet-ajax"></a><span data-ttu-id="02a7b-308">ASP.NET AJAX でのデバッグのサポート</span><span class="sxs-lookup"><span data-stu-id="02a7b-308">Debugging Support in ASP.NET AJAX</span></span>

<span data-ttu-id="02a7b-309">ASP.NET AJAX ライブラリには、AJAX 機能を Web ページに追加するプロセスを簡略化するために使用できるさまざまなクラスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-309">The ASP.NET AJAX library includes many different classes that can be used to simplify the process of adding AJAX capabilities into a Webpage.</span></span> <span data-ttu-id="02a7b-310">これらのクラスを使用して、ページ内の要素を検索し、それらを操作したり、新しいコントロールを追加したり、Web サービスを呼び出したり、イベントを処理したりすることもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-310">You can use these classes to locate elements within a page and manipulate them, add new controls, call Web Services and even handle events.</span></span> <span data-ttu-id="02a7b-311">ASP.NET AJAX ライブラリには、ページのデバッグプロセスを強化するために使用できるクラスも含まれています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-311">The ASP.NET AJAX library also contains classes that can be used to enhance the process of debugging pages.</span></span> <span data-ttu-id="02a7b-312">このセクションでは、Sys. Debug クラスについて紹介し、アプリケーションでの使用方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-312">In this section you'll be introduced to the Sys.Debug class and see how it can be used in applications.</span></span>

<span data-ttu-id="02a7b-313">*Sys. Debug クラスの使用*</span><span class="sxs-lookup"><span data-stu-id="02a7b-313">*Using the Sys.Debug class*</span></span>

<span data-ttu-id="02a7b-314">Sys. Debug クラス (Sys 名前空間にある JavaScript クラス) を使用すると、トレース出力の書き込み、コードアサーションの実行、コードの強制実行などのさまざまな機能を実行して、デバッグできるようになります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-314">The Sys.Debug class (a JavaScript class located in the Sys namespace) can be used to perform several different functions including writing trace output, performing code assertions and forcing code to fail so that it can be debugged.</span></span> <span data-ttu-id="02a7b-315">ASP.NET AJAX ライブラリのデバッグファイル (既定では NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 にインストールされています) で、条件付きテストを実行するために広く使用されています (アサーションと呼びます。これにより、パラメーターが関数に適切に渡されること、オブジェクトには予期されるデータが含まれ、トレースステートメントが記述されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-315">It is used extensively in the ASP.NET AJAX library's debug files (installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default) to perform conditional tests (called assertions) that ensure parameters are passed properly to functions, that objects contain the expected data and to write trace statements.</span></span>

<span data-ttu-id="02a7b-316">Sys. Debug クラスでは、表1に示すように、トレース、コードアサーション、またはエラーを処理するために使用できるいくつかの異なる関数が公開されています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-316">The Sys.Debug class exposes several different functions that can be used to handle tracing, code assertions or failures as shown in Table 1.</span></span>

<span data-ttu-id="02a7b-317">**表 1.Sys. Debug クラスの関数。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-317">**Table 1. Sys.Debug class functions.**</span></span>

| <span data-ttu-id="02a7b-318">**関数名**</span><span class="sxs-lookup"><span data-stu-id="02a7b-318">**Function Name**</span></span> | <span data-ttu-id="02a7b-319">**説明**</span><span class="sxs-lookup"><span data-stu-id="02a7b-319">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="02a7b-320">assert (condition、message、displayCaller)</span><span class="sxs-lookup"><span data-stu-id="02a7b-320">assert(condition, message, displayCaller)</span></span> | <span data-ttu-id="02a7b-321">Condition パラメーターが true であることをアサートします。</span><span class="sxs-lookup"><span data-stu-id="02a7b-321">Asserts that the condition parameter is true.</span></span> <span data-ttu-id="02a7b-322">テスト対象の条件が false の場合は、メッセージボックスを使用してメッセージパラメーター値が表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-322">If the condition being tested is false, a message box will be used to display the message parameter value.</span></span> <span data-ttu-id="02a7b-323">DisplayCaller パラメーターが true の場合、メソッドは呼び出し元に関する情報も表示します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-323">If the displayCaller parameter is true, the method also displays information about the caller.</span></span> |
| <span data-ttu-id="02a7b-324">clearTrace ()</span><span class="sxs-lookup"><span data-stu-id="02a7b-324">clearTrace()</span></span> | <span data-ttu-id="02a7b-325">トレース操作から出力するステートメントを消去します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-325">Erases statements output from tracing operations.</span></span> |
| <span data-ttu-id="02a7b-326">fail (メッセージ)</span><span class="sxs-lookup"><span data-stu-id="02a7b-326">fail(message)</span></span> | <span data-ttu-id="02a7b-327">プログラムの実行を停止し、デバッガーを中断します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-327">Causes the program to stop execution and break into the debugger.</span></span> <span data-ttu-id="02a7b-328">メッセージパラメーターを使用して、エラーの理由を指定できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-328">The message parameter can be used to provide a reason for the failure.</span></span> |
| <span data-ttu-id="02a7b-329">トレース (message)</span><span class="sxs-lookup"><span data-stu-id="02a7b-329">trace(message)</span></span> | <span data-ttu-id="02a7b-330">メッセージパラメーターをトレース出力に書き込みます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-330">Writes the message parameter to the trace output.</span></span> |
| <span data-ttu-id="02a7b-331">traceDump (オブジェクト、名前)</span><span class="sxs-lookup"><span data-stu-id="02a7b-331">traceDump(object, name)</span></span> | <span data-ttu-id="02a7b-332">オブジェクトのデータを読み取り可能な形式で出力します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-332">Outputs an object's data in a readable format.</span></span> <span data-ttu-id="02a7b-333">Name パラメーターを使用して、トレースダンプのラベルを指定できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-333">The name parameter can be used to provide a label for the trace dump.</span></span> <span data-ttu-id="02a7b-334">ダンプされるオブジェクト内のすべてのサブオブジェクトは、既定で書き出されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-334">Any sub-objects within the object being dumped will be written out by default.</span></span> |

<span data-ttu-id="02a7b-335">クライアント側のトレースは、ASP.NET で使用できるトレース機能とほぼ同じ方法で使用できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-335">Client-side tracing can be used in much the same way as the tracing functionality available in ASP.NET.</span></span> <span data-ttu-id="02a7b-336">これにより、アプリケーションのフローを中断せずに、さまざまなメッセージを簡単に表示できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-336">It allows different messages to easily be seen without interrupting the flow of the application.</span></span> <span data-ttu-id="02a7b-337">リスト5は、トレースログに書き込むためのトレース関数の使用例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-337">Listing 5 shows an example of using the Sys.Debug.trace function to write to the trace log.</span></span> <span data-ttu-id="02a7b-338">この関数は、パラメーターとして書き出す必要があるメッセージを単に受け取ります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-338">This function simply takes the message that should be written out as a parameter.</span></span>

<span data-ttu-id="02a7b-339">**リスト5。関数を使用します。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-339">**Listing 5. Using the Sys.Debug.trace function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample6.js)]

<span data-ttu-id="02a7b-340">リスト5に示されているコードを実行すると、ページにトレース出力が表示されません。</span><span class="sxs-lookup"><span data-stu-id="02a7b-340">If you execute the code shown in Listing 5 you won't see any trace output in the page.</span></span> <span data-ttu-id="02a7b-341">これを確認する唯一の方法は、Visual Studio .NET、Web 開発ヘルパー、または消火バグで使用できるコンソールウィンドウを使用することです。</span><span class="sxs-lookup"><span data-stu-id="02a7b-341">The only way to see it is to use a console window available in Visual Studio .NET, Web Development Helper or Firebug.</span></span> <span data-ttu-id="02a7b-342">ページにトレース出力を表示する場合は、TextArea タグを追加し、次に示すように、その id を TraceConsole に指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-342">If you do want to see the trace output in the page then you'll need to add a TextArea tag and give it an id of TraceConsole as shown next:</span></span>

[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample7.html)]

<span data-ttu-id="02a7b-343">ページ内のすべてのトレースステートメントは、TraceConsole TextArea に書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-343">Any Sys.Debug.trace statements in the page will be written to the TraceConsole TextArea.</span></span>

<span data-ttu-id="02a7b-344">JSON オブジェクト内に含まれるデータを表示する場合は、traceDump クラスの関数を使用できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-344">In cases where you want to see the data contained within a JSON object you can use the Sys.Debug class's traceDump function.</span></span> <span data-ttu-id="02a7b-345">この関数は、トレースコンソールにダンプされるオブジェクトと、トレース出力でオブジェクトを識別するために使用できる名前を含む2つのパラメーターを受け取ります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-345">This function takes two parameters including the object that should be dumped to the trace console and a name that can be used to identify the object in the trace output.</span></span> <span data-ttu-id="02a7b-346">リスト6は、traceDump 関数の使用例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-346">Listing 6 shows an example of using the traceDump function.</span></span>

<span data-ttu-id="02a7b-347">**リスト6。TraceDump 関数を使用します。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-347">**Listing 6. Using the Sys.Debug.traceDump function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample8.js)]

<span data-ttu-id="02a7b-348">図11は、traceDump 関数を呼び出したときの出力を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-348">Figure 11 shows the output from calling the Sys.Debug.traceDump function.</span></span> <span data-ttu-id="02a7b-349">Person オブジェクトのデータを書き出すだけでなく、アドレスサブオブジェクトのデータも書き込まれることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="02a7b-349">Notice that in addition to writing out the Person object's data, it also writes out the Address sub-object's data.</span></span>

<span data-ttu-id="02a7b-350">トレースに加えて、Sys. Debug クラスを使用してコードアサーションを実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-350">In addition to tracing, the Sys.Debug class can also be used to perform code assertions.</span></span> <span data-ttu-id="02a7b-351">アサーションは、アプリケーションの実行中に特定の条件が満たされたことをテストするために使用されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-351">Assertions are used to test that specific conditions are met while an application is running.</span></span> <span data-ttu-id="02a7b-352">ASP.NET AJAX ライブラリスクリプトのデバッグバージョンには、さまざまな条件をテストするための assert ステートメントがいくつか含まれています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-352">The debug version of the ASP.NET AJAX library scripts contain several assert statements to test a variety of conditions.</span></span>

<span data-ttu-id="02a7b-353">リスト7は、条件をテストするために、assert 関数を使用する例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-353">Listing 7 shows an example of using the Sys.Debug.assert function to test a condition.</span></span> <span data-ttu-id="02a7b-354">このコードは、Person オブジェクトを更新する前に、アドレスオブジェクトが null かどうかをテストします。</span><span class="sxs-lookup"><span data-stu-id="02a7b-354">The code tests whether or not the Address object is null before updating a Person object.</span></span>

<span data-ttu-id="02a7b-355">[traceDump 関数の出力を ![します。](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-355">[![Output of the Sys.Debug.traceDump function.](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span></span>

<span data-ttu-id="02a7b-356">**図 11**: traceDump 関数の出力。</span><span class="sxs-lookup"><span data-stu-id="02a7b-356">**Figure 11**: Output of the Sys.Debug.traceDump function.</span></span>  <span data-ttu-id="02a7b-357">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-357">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span></span>

<span data-ttu-id="02a7b-358">**リスト7。デバッグの assert 関数を使用します。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-358">**Listing 7. Using the debug.assert function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample9.js)]

<span data-ttu-id="02a7b-359">評価する条件、アサーションが false を返した場合に表示するメッセージ、呼び出し元に関する情報を表示するかどうかなど、3つのパラメーターが渡されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-359">Three parameters are passed including the condition to evaluate, the message to display if the assertion returns false and whether or not information about the caller should be displayed.</span></span> <span data-ttu-id="02a7b-360">アサーションが失敗した場合、3番目のパラメーターが true の場合、メッセージと呼び出し元情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-360">In cases where an assertion fails, the message will be displayed as well as caller information if the third parameter was true.</span></span> <span data-ttu-id="02a7b-361">図12は、一覧7に示されているアサーションが失敗した場合に表示されるエラーダイアログの例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-361">Figure 12 shows an example of the failure dialog that appears if the assertion shown in Listing 7 fails.</span></span>

<span data-ttu-id="02a7b-362">カバーする最後の関数は、"Sys. Debug. fail" です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-362">The final function to cover is Sys.Debug.fail.</span></span> <span data-ttu-id="02a7b-363">スクリプト内の特定の行でコードを強制的に失敗させる場合は、JavaScript アプリケーションで通常使用されるデバッガーステートメントではなく、Sys. Debug. fail 呼び出しを追加できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-363">When you want to force code to fail on a particular line in a script you can add a Sys.Debug.fail call rather than the debugger statement typically used in JavaScript applications.</span></span> <span data-ttu-id="02a7b-364">次に示すように、失敗の理由を表す1つの文字列パラメーターを指定できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-364">The Sys.Debug.fail function accepts a single string parameter that represents the reason for the failure as shown next:</span></span>

[!code-css[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample10.css)]

<span data-ttu-id="02a7b-365">[![のエラーメッセージを表示します。](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="02a7b-365">[![A Sys.Debug.assert failure message.](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span></span>

<span data-ttu-id="02a7b-366">**図 12**: "Sys. assert" エラーメッセージ。</span><span class="sxs-lookup"><span data-stu-id="02a7b-366">**Figure 12**: A Sys.Debug.assert failure message.</span></span>  <span data-ttu-id="02a7b-367">([クリックすると、フルサイズの画像が表示](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png)される)</span><span class="sxs-lookup"><span data-stu-id="02a7b-367">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span></span>

<span data-ttu-id="02a7b-368">スクリプトの実行中に、Sys. fail ステートメントが検出されると、Visual Studio 2008 などのデバッグアプリケーションのコンソールに message パラメーターの値が表示され、アプリケーションをデバッグするように求められます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-368">When a Sys.Debug.fail statement is encountered while a script is executing, the value of the message parameter will be displayed in the console of a debug application such as Visual Studio 2008 and you'll be prompted to debug the application.</span></span> <span data-ttu-id="02a7b-369">このことが非常に便利なケースの1つは、インラインスクリプトで Visual Studio 2008 のブレークポイントを設定できないが、変数の値を調べることができるように、コードが特定の行で停止するようにする必要がある場合です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-369">One case where this can be quite useful is when you can't set a breakpoint with Visual Studio 2008 on an inline script but would like the code to stop on particular line so you can inspect the value of variables.</span></span>

<span data-ttu-id="02a7b-370">*ScriptManager コントロールの ScriptMode プロパティについて*</span><span class="sxs-lookup"><span data-stu-id="02a7b-370">*Understanding the ScriptManager Control's ScriptMode Property*</span></span>

<span data-ttu-id="02a7b-371">ASP.NET AJAX ライブラリには、既定で C:\Program NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 にインストールされるデバッグスクリプトとリリーススクリプトのバージョンが含まれています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-371">The ASP.NET AJAX library includes debug and release script versions that are installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default.</span></span> <span data-ttu-id="02a7b-372">デバッグスクリプトは、適切に書式設定され、読みやすく、いくつかの Sys. Debug. assert 呼び出しが含まれていますが、リリーススクリプトには空白が除去されていますが、Sys. Debug クラスを使用して全体のサイズを最小限に抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-372">The debug scripts are nicely formatted, easy to read and have several Sys.Debug.assert calls scattered throughout them while the release scripts have whitespace stripped out and use the Sys.Debug class sparingly to minimize their overall size.</span></span>

<span data-ttu-id="02a7b-373">ASP.NET AJAX ページに追加された ScriptManager コントロールは、web.config のコンパイル要素のデバッグ属性を読み取って、読み込むライブラリスクリプトのバージョンを決定します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-373">The ScriptManager control added to ASP.NET AJAX pages reads the compilation element's debug attribute in web.config to determine which versions of library scripts to load.</span></span> <span data-ttu-id="02a7b-374">ただし、ScriptMode プロパティを変更することによって、デバッグスクリプトまたはリリーススクリプト (ライブラリスクリプトまたはカスタムスクリプト) を読み込むかどうかを制御できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-374">However, you can control if debug or release scripts are loaded (library scripts or your own custom scripts) by changing the ScriptMode property.</span></span> <span data-ttu-id="02a7b-375">ScriptMode では、Auto、Debug、Release、および Inherit を含むメンバーを持つ ScriptMode 列挙型が受け入れられます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-375">ScriptMode accepts a ScriptMode enumeration whose members include Auto, Debug, Release and Inherit.</span></span>

<span data-ttu-id="02a7b-376">ScriptMode の既定値は Auto です。これは、ScriptManager が web.config の debug 属性をチェックすることを意味します。Debug が false の場合、ScriptManager は ASP.NET AJAX ライブラリスクリプトのリリースバージョンを読み込みます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-376">ScriptMode defaults to a value of Auto which means that the ScriptManager will check the debug attribute in web.config. When debug is false the ScriptManager will load the release version of ASP.NET AJAX library scripts.</span></span> <span data-ttu-id="02a7b-377">Debug が true の場合、スクリプトのデバッグバージョンが読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-377">When debug is true the debug version of the scripts will be loaded.</span></span> <span data-ttu-id="02a7b-378">ScriptMode プロパティを Release または Debug に変更すると、デバッグ属性が web.config に保持している値に関係なく、ScriptManager によって適切なスクリプトが読み込まれます。リスト8は、ScriptManager コントロールを使用して ASP.NET AJAX ライブラリからデバッグスクリプトを読み込む例を示しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-378">Changing the ScriptMode property to Release or Debug will force the ScriptManager to load the appropriate scripts regardless of what value the debug attribute has in web.config. Listing 8 shows an example of using the ScriptManager control to load debug scripts from the ASP.NET AJAX library.</span></span>

<span data-ttu-id="02a7b-379">**リスト8。ScriptManager を使用してデバッグスクリプトを読み込ん**でいます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-379">**Listing 8. Loading debug scripts using the ScriptManager**.</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample11.aspx)]

<span data-ttu-id="02a7b-380">また、リスト9に示すように、ScriptManager の Scripts プロパティを System.web.ui.scriptreference コンポーネントと共に使用して、独自のカスタムスクリプトの異なるバージョン (デバッグまたはリリース) を読み込むこともできます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-380">You can also load different versions (debug or release) of your own custom scripts by using the ScriptManager's Scripts property along with the ScriptReference component as shown in Listing 9.</span></span>

<span data-ttu-id="02a7b-381">**リスト9。ScriptManager を使用したカスタムスクリプトの読み込み。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-381">**Listing 9. Loading custom scripts using the ScriptManager.**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample12.aspx)]

> [!NOTE]
> <span data-ttu-id="02a7b-382">System.web.ui.scriptreference コンポーネントを使用してカスタムスクリプトを読み込む場合は、スクリプトの下部に次のコードを追加することで、スクリプトの読み込みが完了したことを ScriptManager に通知する必要があります。</span><span class="sxs-lookup"><span data-stu-id="02a7b-382">If you're loading custom scripts using the ScriptReference component you must notify the ScriptManager when the script has finished loading by adding the following code at the bottom of the script:</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample13.cs)]

<span data-ttu-id="02a7b-383">リスト9に示されているコードは、スクリプトのデバッグバージョンを検索するよう ScriptManager に指示します。これにより、ユーザーの .js ではなく、自動的にユーザーの node.js が検索されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-383">The code shown in Listing 9 tells the ScriptManager to look for a debug version of the Person script so it will automatically look for Person.debug.js instead of Person.js.</span></span> <span data-ttu-id="02a7b-384">ユーザーのデバッグファイルが見つからない場合は、エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-384">If the Person.debug.js file is not found an error will be raised.</span></span>

<span data-ttu-id="02a7b-385">ScriptManager コントロールに設定されている ScriptMode プロパティの値に基づいてカスタムスクリプトのデバッグバージョンまたはリリースバージョンを読み込む場合は、System.web.ui.scriptreference コントロールの ScriptMode プロパティを Inherit に設定できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-385">In cases where you want a debug or release version of a custom script to be loaded based upon the value of the ScriptMode property set on the ScriptManager control, you can set the ScriptReference control's ScriptMode property to Inherit.</span></span> <span data-ttu-id="02a7b-386">これにより、「リスト10」に示すように、ScriptManager の ScriptMode プロパティに基づいて、適切なバージョンのカスタムスクリプトが読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-386">This will cause the proper version of the custom script to be loaded based upon the ScriptManager's ScriptMode property as shown in Listing 10.</span></span> <span data-ttu-id="02a7b-387">ScriptManager コントロールの ScriptMode プロパティは Debug に設定されているため、このページでは、ユーザーのデバッグスクリプトが読み込まれて使用されます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-387">Because the ScriptMode property of the ScriptManager control is set to Debug, the Person.debug.js script will be loaded and used in the page.</span></span>

<span data-ttu-id="02a7b-388">**リスト10。カスタムスクリプト用に ScriptManager から ScriptMode を継承します。**</span><span class="sxs-lookup"><span data-stu-id="02a7b-388">**Listing 10. Inheriting the ScriptMode from the ScriptManager for custom scripts.**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample14.aspx)]

<span data-ttu-id="02a7b-389">ScriptMode プロパティを適切に使用することで、アプリケーションをより簡単にデバッグし、プロセス全体を簡略化することができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-389">By using the ScriptMode property appropriately you can more easily debug applications and simplify the overall process.</span></span> <span data-ttu-id="02a7b-390">デバッグスクリプトがデバッグのために特別にフォーマットされている間は、コードの書式設定が削除されているので、ASP.NET AJAX ライブラリのリリーススクリプトは、ステップ実行や読み取りが困難です。</span><span class="sxs-lookup"><span data-stu-id="02a7b-390">The ASP.NET AJAX library's release scripts are rather difficult to step through and read since code formatting has been removed while the debug scripts are formatted specifically for debugging purposes.</span></span>

## <a name="conclusion"></a><span data-ttu-id="02a7b-391">結論</span><span class="sxs-lookup"><span data-stu-id="02a7b-391">Conclusion</span></span>

<span data-ttu-id="02a7b-392">Microsoft の ASP.NET AJAX テクノロジは、エンドユーザーの全体的なエクスペリエンスを向上させることができる AJAX 対応アプリケーションを構築するための堅固な基盤を提供します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-392">Microsoft's ASP.NET AJAX technology provides a solid foundation for building AJAX-enabled applications that can enhance the end user's overall experience.</span></span> <span data-ttu-id="02a7b-393">ただし、プログラミングテクノロジと同様に、バグやその他のアプリケーションの問題は確実に発生します。</span><span class="sxs-lookup"><span data-stu-id="02a7b-393">However, as with any programming technology, bugs and other application issues will certainly arise.</span></span> <span data-ttu-id="02a7b-394">使用可能なさまざまなデバッグオプションを把握することで、時間を節約し、より安定した製品にすることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-394">Knowing about the different debugging options available can save a lot of time and result in a more stable product.</span></span>

<span data-ttu-id="02a7b-395">この記事では、Visual Studio 2008、Web 開発ヘルパー、および焼討バグのある Internet Explorer を含む ASP.NET AJAX ページをデバッグするためのいくつかの手法について説明しました。</span><span class="sxs-lookup"><span data-stu-id="02a7b-395">In this article you've been introduced to several different techniques for debugging ASP.NET AJAX pages including Internet Explorer with Visual Studio 2008, Web Development Helper and Firebug.</span></span> <span data-ttu-id="02a7b-396">これらのツールを使用すると、変数データにアクセスしたり、コードを行ごとに表示したり、トレースステートメントを表示したりできるため、全体的なデバッグプロセスを簡略化できます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-396">These tools can simplify the overall debugging process since you can access variable data, walk through code line by line and view trace statements.</span></span> <span data-ttu-id="02a7b-397">説明したさまざまなデバッグツールに加えて、ASP.NET AJAX ライブラリの Sys. Debug クラスをアプリケーションで使用する方法と、ScriptManager クラスを使用してスクリプトのデバッグバージョンまたはリリースバージョンを読み込む方法についても説明しました。</span><span class="sxs-lookup"><span data-stu-id="02a7b-397">In addition to the different debugging tools discussed, you also saw how the ASP.NET AJAX library's Sys.Debug class can be used in an application and how the ScriptManager class can be used to load debug or release versions of scripts.</span></span>

## <a name="bio"></a><span data-ttu-id="02a7b-398">略歴</span><span class="sxs-lookup"><span data-stu-id="02a7b-398">Bio</span></span>

<span data-ttu-id="02a7b-399">Dan Wahlin (ASP.NET と XML Web サービスの Microsoft の最も重要なプロフェッショナル) は、.NET 開発のインストラクターとアーキテクチャコンサルタントで、インターフェイス技術トレーニング ([www.interfacett.com)](http://www.interfacett.com)を使用しています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-399">Dan Wahlin (Microsoft Most Valuable Professional for ASP.NET and XML Web Services) is a .NET development instructor and architecture consultant at Interface Technical Training ([www.interfacett.com)](http://www.interfacett.com).</span></span> <span data-ttu-id="02a7b-400">XML for ASP.NET 開発者向け Web サイト ([www.XMLforASP.NET](http://www.XMLforASP.NET)) を設立した Dan は、Ineta スピーカー局にあり、複数のカンファレンスで講演を行っています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-400">Dan founded the XML for ASP.NET Developers Web site ([www.XMLforASP.NET](http://www.XMLforASP.NET)), is on the INETA Speaker's Bureau and speaks at several conferences.</span></span> <span data-ttu-id="02a7b-401">Dan 共同で作成された Professional Windows DNA (Wrox)、ASP.NET: ヒント、チュートリアルとコード (Sams)、ASP.NET 1.1 Insider ソリューション、Professional ASP.NET 2.0 AJAX (Wrox)、ASP.NET 2.0 MVP ハッキング、および ASP.NET 開発者向け XML の作成 (Sams)。</span><span class="sxs-lookup"><span data-stu-id="02a7b-401">Dan co-authored Professional Windows DNA (Wrox), ASP.NET: Tips, Tutorials and Code (Sams), ASP.NET 1.1 Insider Solutions, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks and authored XML for ASP.NET Developers (Sams).</span></span> <span data-ttu-id="02a7b-402">コード、記事、または書籍を書いていない人は、音楽を書いて録音し、妻や子供と共にゴルフやバスケットボールを楽しんでいます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-402">When he's not writing code, articles or books, Dan enjoys writing and recording music and playing golf and basketball with his wife and kids.</span></span>

<span data-ttu-id="02a7b-403">Scott Cate は1997以来 Microsoft の Web テクノロジを使用しています。また、myKB.com ([www.myKB.com](http://www.myKB.com)) の大統領で、サポート技術情報のソフトウェアソリューションに重点を置いた ASP.NET ベースのアプリケーションを作成することを専門としています。</span><span class="sxs-lookup"><span data-stu-id="02a7b-403">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="02a7b-404">Scott は、 [scott.cate@myKB.com](mailto:scott.cate@myKB.com)または彼のブログ ( [ScottCate.com](http://ScottCate.com) ) で、電子メールで連絡を受けることができます。</span><span class="sxs-lookup"><span data-stu-id="02a7b-404">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="02a7b-405">前へ</span><span class="sxs-lookup"><span data-stu-id="02a7b-405">Previous</span></span>](understanding-asp-net-ajax-web-services.md)
